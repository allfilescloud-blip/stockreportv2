(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var r2={exports:{}},ld={};var vv;function c8(){if(vv)return ld;vv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var f=null;if(l!==void 0&&(f=""+l),a.key!==void 0&&(f=""+a.key),"key"in a){l={};for(var g in a)g!=="key"&&(l[g]=a[g])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:f,ref:a!==void 0?a:null,props:l}}return ld.Fragment=e,ld.jsx=t,ld.jsxs=t,ld}var bv;function u8(){return bv||(bv=1,r2.exports=c8()),r2.exports}var E=u8(),i2={exports:{}},Kn={};var wv;function h8(){if(wv)return Kn;wv=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),L=Symbol.iterator;function R(de){return de===null||typeof de!="object"?null:(de=L&&de[L]||de["@@iterator"],typeof de=="function"?de:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function K(de,q,le){this.props=de,this.context=q,this.refs=$,this.updater=le||X}K.prototype.isReactComponent={},K.prototype.setState=function(de,q){if(typeof de!="object"&&typeof de!="function"&&de!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,de,q,"setState")},K.prototype.forceUpdate=function(de){this.updater.enqueueForceUpdate(this,de,"forceUpdate")};function oe(){}oe.prototype=K.prototype;function ue(de,q,le){this.props=de,this.context=q,this.refs=$,this.updater=le||X}var pe=ue.prototype=new oe;pe.constructor=ue,W(pe,K.prototype),pe.isPureReactComponent=!0;var Ue=Array.isArray;function ze(){}var Y={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function P(de,q,le){var ee=le.ref;return{$$typeof:n,type:de,key:q,ref:ee!==void 0?ee:null,props:le}}function re(de,q){return P(de.type,q,de.props)}function j(de){return typeof de=="object"&&de!==null&&de.$$typeof===n}function U(de){var q={"=":"=0",":":"=2"};return"$"+de.replace(/[=:]/g,function(le){return q[le]})}var H=/\/+/g;function Ce(de,q){return typeof de=="object"&&de!==null&&de.key!=null?U(""+de.key):q.toString(36)}function xe(de){switch(de.status){case"fulfilled":return de.value;case"rejected":throw de.reason;default:switch(typeof de.status=="string"?de.then(ze,ze):(de.status="pending",de.then(function(q){de.status==="pending"&&(de.status="fulfilled",de.value=q)},function(q){de.status==="pending"&&(de.status="rejected",de.reason=q)})),de.status){case"fulfilled":return de.value;case"rejected":throw de.reason}}throw de}function _e(de,q,le,ee,ye){var me=typeof de;(me==="undefined"||me==="boolean")&&(de=null);var Pe=!1;if(de===null)Pe=!0;else switch(me){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(de.$$typeof){case n:case e:Pe=!0;break;case b:return Pe=de._init,_e(Pe(de._payload),q,le,ee,ye)}}if(Pe)return ye=ye(de),Pe=ee===""?"."+Ce(de,0):ee,Ue(ye)?(le="",Pe!=null&&(le=Pe.replace(H,"$&/")+"/"),_e(ye,q,le,"",function(Ne){return Ne})):ye!=null&&(j(ye)&&(ye=re(ye,le+(ye.key==null||de&&de.key===ye.key?"":(""+ye.key).replace(H,"$&/")+"/")+Pe)),q.push(ye)),1;Pe=0;var Ie=ee===""?".":ee+":";if(Ue(de))for(var Fe=0;Fe<de.length;Fe++)ee=de[Fe],me=Ie+Ce(ee,Fe),Pe+=_e(ee,q,le,me,ye);else if(Fe=R(de),typeof Fe=="function")for(de=Fe.call(de),Fe=0;!(ee=de.next()).done;)ee=ee.value,me=Ie+Ce(ee,Fe++),Pe+=_e(ee,q,le,me,ye);else if(me==="object"){if(typeof de.then=="function")return _e(xe(de),q,le,ee,ye);throw q=String(de),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(de).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function Te(de,q,le){if(de==null)return de;var ee=[],ye=0;return _e(de,ee,"","",function(me){return q.call(le,me,ye++)}),ee}function De(de){if(de._status===-1){var q=de._result;q=q(),q.then(function(le){(de._status===0||de._status===-1)&&(de._status=1,de._result=le)},function(le){(de._status===0||de._status===-1)&&(de._status=2,de._result=le)}),de._status===-1&&(de._status=0,de._result=q)}if(de._status===1)return de._result.default;throw de._result}var He=typeof reportError=="function"?reportError:function(de){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof de=="object"&&de!==null&&typeof de.message=="string"?String(de.message):String(de),error:de});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",de);return}console.error(de)},lt={map:Te,forEach:function(de,q,le){Te(de,function(){q.apply(this,arguments)},le)},count:function(de){var q=0;return Te(de,function(){q++}),q},toArray:function(de){return Te(de,function(q){return q})||[]},only:function(de){if(!j(de))throw Error("React.Children.only expected to receive a single React element child.");return de}};return Kn.Activity=T,Kn.Children=lt,Kn.Component=K,Kn.Fragment=t,Kn.Profiler=a,Kn.PureComponent=ue,Kn.StrictMode=r,Kn.Suspense=y,Kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Kn.__COMPILER_RUNTIME={__proto__:null,c:function(de){return Y.H.useMemoCache(de)}},Kn.cache=function(de){return function(){return de.apply(null,arguments)}},Kn.cacheSignal=function(){return null},Kn.cloneElement=function(de,q,le){if(de==null)throw Error("The argument must be a React element, but you passed "+de+".");var ee=W({},de.props),ye=de.key;if(q!=null)for(me in q.key!==void 0&&(ye=""+q.key),q)!G.call(q,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&q.ref===void 0||(ee[me]=q[me]);var me=arguments.length-2;if(me===1)ee.children=le;else if(1<me){for(var Pe=Array(me),Ie=0;Ie<me;Ie++)Pe[Ie]=arguments[Ie+2];ee.children=Pe}return P(de.type,ye,ee)},Kn.createContext=function(de){return de={$$typeof:f,_currentValue:de,_currentValue2:de,_threadCount:0,Provider:null,Consumer:null},de.Provider=de,de.Consumer={$$typeof:l,_context:de},de},Kn.createElement=function(de,q,le){var ee,ye={},me=null;if(q!=null)for(ee in q.key!==void 0&&(me=""+q.key),q)G.call(q,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ye[ee]=q[ee]);var Pe=arguments.length-2;if(Pe===1)ye.children=le;else if(1<Pe){for(var Ie=Array(Pe),Fe=0;Fe<Pe;Fe++)Ie[Fe]=arguments[Fe+2];ye.children=Ie}if(de&&de.defaultProps)for(ee in Pe=de.defaultProps,Pe)ye[ee]===void 0&&(ye[ee]=Pe[ee]);return P(de,me,ye)},Kn.createRef=function(){return{current:null}},Kn.forwardRef=function(de){return{$$typeof:g,render:de}},Kn.isValidElement=j,Kn.lazy=function(de){return{$$typeof:b,_payload:{_status:-1,_result:de},_init:De}},Kn.memo=function(de,q){return{$$typeof:m,type:de,compare:q===void 0?null:q}},Kn.startTransition=function(de){var q=Y.T,le={};Y.T=le;try{var ee=de(),ye=Y.S;ye!==null&&ye(le,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(ze,He)}catch(me){He(me)}finally{q!==null&&le.types!==null&&(q.types=le.types),Y.T=q}},Kn.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Kn.use=function(de){return Y.H.use(de)},Kn.useActionState=function(de,q,le){return Y.H.useActionState(de,q,le)},Kn.useCallback=function(de,q){return Y.H.useCallback(de,q)},Kn.useContext=function(de){return Y.H.useContext(de)},Kn.useDebugValue=function(){},Kn.useDeferredValue=function(de,q){return Y.H.useDeferredValue(de,q)},Kn.useEffect=function(de,q){return Y.H.useEffect(de,q)},Kn.useEffectEvent=function(de){return Y.H.useEffectEvent(de)},Kn.useId=function(){return Y.H.useId()},Kn.useImperativeHandle=function(de,q,le){return Y.H.useImperativeHandle(de,q,le)},Kn.useInsertionEffect=function(de,q){return Y.H.useInsertionEffect(de,q)},Kn.useLayoutEffect=function(de,q){return Y.H.useLayoutEffect(de,q)},Kn.useMemo=function(de,q){return Y.H.useMemo(de,q)},Kn.useOptimistic=function(de,q){return Y.H.useOptimistic(de,q)},Kn.useReducer=function(de,q,le){return Y.H.useReducer(de,q,le)},Kn.useRef=function(de){return Y.H.useRef(de)},Kn.useState=function(de){return Y.H.useState(de)},Kn.useSyncExternalStore=function(de,q,le){return Y.H.useSyncExternalStore(de,q,le)},Kn.useTransition=function(){return Y.H.useTransition()},Kn.version="19.2.4",Kn}var _v;function Gm(){return _v||(_v=1,i2.exports=h8()),i2.exports}var Re=Gm(),s2={exports:{}},cd={},a2={exports:{}},o2={};var Av;function f8(){return Av||(Av=1,(function(n){function e(_e,Te){var De=_e.length;_e.push(Te);e:for(;0<De;){var He=De-1>>>1,lt=_e[He];if(0<a(lt,Te))_e[He]=Te,_e[De]=lt,De=He;else break e}}function t(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var Te=_e[0],De=_e.pop();if(De!==Te){_e[0]=De;e:for(var He=0,lt=_e.length,de=lt>>>1;He<de;){var q=2*(He+1)-1,le=_e[q],ee=q+1,ye=_e[ee];if(0>a(le,De))ee<lt&&0>a(ye,le)?(_e[He]=ye,_e[ee]=De,He=ee):(_e[He]=le,_e[q]=De,He=q);else if(ee<lt&&0>a(ye,De))_e[He]=ye,_e[ee]=De,He=ee;else break e}}return Te}function a(_e,Te){var De=_e.sortIndex-Te.sortIndex;return De!==0?De:_e.id-Te.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var f=Date,g=f.now();n.unstable_now=function(){return f.now()-g}}var y=[],m=[],b=1,T=null,L=3,R=!1,X=!1,W=!1,$=!1,K=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function pe(_e){for(var Te=t(m);Te!==null;){if(Te.callback===null)r(m);else if(Te.startTime<=_e)r(m),Te.sortIndex=Te.expirationTime,e(y,Te);else break;Te=t(m)}}function Ue(_e){if(W=!1,pe(_e),!X)if(t(y)!==null)X=!0,ze||(ze=!0,U());else{var Te=t(m);Te!==null&&xe(Ue,Te.startTime-_e)}}var ze=!1,Y=-1,G=5,P=-1;function re(){return $?!0:!(n.unstable_now()-P<G)}function j(){if($=!1,ze){var _e=n.unstable_now();P=_e;var Te=!0;try{e:{X=!1,W&&(W=!1,oe(Y),Y=-1),R=!0;var De=L;try{t:{for(pe(_e),T=t(y);T!==null&&!(T.expirationTime>_e&&re());){var He=T.callback;if(typeof He=="function"){T.callback=null,L=T.priorityLevel;var lt=He(T.expirationTime<=_e);if(_e=n.unstable_now(),typeof lt=="function"){T.callback=lt,pe(_e),Te=!0;break t}T===t(y)&&r(y),pe(_e)}else r(y);T=t(y)}if(T!==null)Te=!0;else{var de=t(m);de!==null&&xe(Ue,de.startTime-_e),Te=!1}}break e}finally{T=null,L=De,R=!1}Te=void 0}}finally{Te?U():ze=!1}}}var U;if(typeof ue=="function")U=function(){ue(j)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Ce=H.port2;H.port1.onmessage=j,U=function(){Ce.postMessage(null)}}else U=function(){K(j,0)};function xe(_e,Te){Y=K(function(){_e(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_e){_e.callback=null},n.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<_e?Math.floor(1e3/_e):5},n.unstable_getCurrentPriorityLevel=function(){return L},n.unstable_next=function(_e){switch(L){case 1:case 2:case 3:var Te=3;break;default:Te=L}var De=L;L=Te;try{return _e()}finally{L=De}},n.unstable_requestPaint=function(){$=!0},n.unstable_runWithPriority=function(_e,Te){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var De=L;L=_e;try{return Te()}finally{L=De}},n.unstable_scheduleCallback=function(_e,Te,De){var He=n.unstable_now();switch(typeof De=="object"&&De!==null?(De=De.delay,De=typeof De=="number"&&0<De?He+De:He):De=He,_e){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=De+lt,_e={id:b++,callback:Te,priorityLevel:_e,startTime:De,expirationTime:lt,sortIndex:-1},De>He?(_e.sortIndex=De,e(m,_e),t(y)===null&&_e===t(m)&&(W?(oe(Y),Y=-1):W=!0,xe(Ue,De-He))):(_e.sortIndex=lt,e(y,_e),X||R||(X=!0,ze||(ze=!0,U()))),_e},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(_e){var Te=L;return function(){var De=L;L=Te;try{return _e.apply(this,arguments)}finally{L=De}}}})(o2)),o2}var Ev;function d8(){return Ev||(Ev=1,a2.exports=f8()),a2.exports}var l2={exports:{}},ka={};var Sv;function p8(){if(Sv)return ka;Sv=1;var n=Gm();function e(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(y,m,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:y,containerInfo:m,implementation:b}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ka.createPortal=function(y,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(y,m,null,b)},ka.flushSync=function(y){var m=f.T,b=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=m,r.p=b,r.d.f()}},ka.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(y,m))},ka.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},ka.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var b=m.as,T=g(b,m.crossOrigin),L=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;b==="style"?r.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:L,fetchPriority:R}):b==="script"&&r.d.X(y,{crossOrigin:T,integrity:L,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ka.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var b=g(m.as,m.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(y)},ka.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var b=m.as,T=g(b,m.crossOrigin);r.d.L(y,b,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ka.preloadModule=function(y,m){if(typeof y=="string")if(m){var b=g(m.as,m.crossOrigin);r.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(y)},ka.requestFormReset=function(y){r.d.r(y)},ka.unstable_batchedUpdates=function(y,m){return y(m)},ka.useFormState=function(y,m,b){return f.H.useFormState(y,m,b)},ka.useFormStatus=function(){return f.H.useHostTransitionStatus()},ka.version="19.2.4",ka}var Cv;function g8(){if(Cv)return l2.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),l2.exports=p8(),l2.exports}var Nv;function m8(){if(Nv)return cd;Nv=1;var n=d8(),e=Gm(),t=g8();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,h=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(h=o.return),i=o.return;while(i)}return o.tag===3?h:null}function f(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function g(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function y(i){if(l(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var h=i,x=o;;){var S=h.return;if(S===null)break;var I=S.alternate;if(I===null){if(x=S.return,x!==null){h=x;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===h)return y(S),i;if(I===x)return y(S),o;I=I.sibling}throw Error(r(188))}if(h.return!==x.return)h=S,x=I;else{for(var z=!1,ce=S.child;ce;){if(ce===h){z=!0,h=S,x=I;break}if(ce===x){z=!0,x=S,h=I;break}ce=ce.sibling}if(!z){for(ce=I.child;ce;){if(ce===h){z=!0,h=I,x=S;break}if(ce===x){z=!0,x=I,h=S;break}ce=ce.sibling}if(!z)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?i:o}function b(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=b(i),o!==null)return o;i=i.sibling}return null}var T=Object.assign,L=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var H=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===H?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case W:return"Fragment";case K:return"Profiler";case $:return"StrictMode";case Ue:return"Suspense";case ze:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case X:return"Portal";case ue:return i.displayName||"Context";case oe:return(i._context.displayName||"Context")+".Consumer";case pe:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Y:return o=i.displayName||null,o!==null?o:Ce(i.type)||"Memo";case G:o=i._payload,i=i._init;try{return Ce(i(o))}catch{}}return null}var xe=Array.isArray,_e=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Te=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},He=[],lt=-1;function de(i){return{current:i}}function q(i){0>lt||(i.current=He[lt],He[lt]=null,lt--)}function le(i,o){lt++,He[lt]=i.current,i.current=o}var ee=de(null),ye=de(null),me=de(null),Pe=de(null);function Ie(i,o){switch(le(me,o),le(ye,i),le(ee,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?z5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=z5(o),i=q5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}q(ee),le(ee,i)}function Fe(){q(ee),q(ye),q(me)}function Ne(i){i.memoizedState!==null&&le(Pe,i);var o=ee.current,h=q5(o,i.type);o!==h&&(le(ye,i),le(ee,h))}function Qe(i){ye.current===i&&(q(ee),q(ye)),Pe.current===i&&(q(Pe),id._currentValue=De)}var Oe,Ge;function vt(i){if(Oe===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Oe=o&&o[1]||"",Ge=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+i+Ge}var ae=!1;function It(i,o){if(!i||ae)return"";ae=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(o){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(ct){var ot=ct}Reflect.construct(i,[],Et)}else{try{Et.call()}catch(ct){ot=ct}i.call(Et.prototype)}}else{try{throw Error()}catch(ct){ot=ct}(Et=i())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(ct){if(ct&&ot&&typeof ct.stack=="string")return[ct.stack,ot.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=x.DetermineComponentFrameRoot(),z=I[0],ce=I[1];if(z&&ce){var ke=z.split(`
`),rt=ce.split(`
`);for(S=x=0;x<ke.length&&!ke[x].includes("DetermineComponentFrameRoot");)x++;for(;S<rt.length&&!rt[S].includes("DetermineComponentFrameRoot");)S++;if(x===ke.length||S===rt.length)for(x=ke.length-1,S=rt.length-1;1<=x&&0<=S&&ke[x]!==rt[S];)S--;for(;1<=x&&0<=S;x--,S--)if(ke[x]!==rt[S]){if(x!==1||S!==1)do if(x--,S--,0>S||ke[x]!==rt[S]){var yt=`
`+ke[x].replace(" at new "," at ");return i.displayName&&yt.includes("<anonymous>")&&(yt=yt.replace("<anonymous>",i.displayName)),yt}while(1<=x&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?vt(h):""}function Lt(i,o){switch(i.tag){case 26:case 27:case 5:return vt(i.type);case 16:return vt("Lazy");case 13:return i.child!==o&&o!==null?vt("Suspense Fallback"):vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return It(i.type,!1);case 11:return It(i.type.render,!1);case 1:return It(i.type,!0);case 31:return vt("Activity");default:return""}}function Tt(i){try{var o="",h=null;do o+=Lt(i,h),h=i,i=i.return;while(i);return o}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Ae=Object.prototype.hasOwnProperty,ht=n.unstable_scheduleCallback,Ye=n.unstable_cancelCallback,Dt=n.unstable_shouldYield,kt=n.unstable_requestPaint,Ut=n.unstable_now,Sn=n.unstable_getCurrentPriorityLevel,Kt=n.unstable_ImmediatePriority,pn=n.unstable_UserBlockingPriority,gn=n.unstable_NormalPriority,Vt=n.unstable_LowPriority,kn=n.unstable_IdlePriority,Qt=n.log,$r=n.unstable_setDisableYieldValue,en=null,ut=null;function Gt(i){if(typeof Qt=="function"&&$r(i),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(en,i)}catch{}}var qt=Math.clz32?Math.clz32:bn,Bt=Math.log,ar=Math.LN2;function bn(i){return i>>>=0,i===0?32:31-(Bt(i)/ar|0)|0}var An=256,rn=262144,Jt=4194304;function sn(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Hn(i,o,h){var x=i.pendingLanes;if(x===0)return 0;var S=0,I=i.suspendedLanes,z=i.pingedLanes;i=i.warmLanes;var ce=x&134217727;return ce!==0?(x=ce&~I,x!==0?S=sn(x):(z&=ce,z!==0?S=sn(z):h||(h=ce&~i,h!==0&&(S=sn(h))))):(ce=x&~I,ce!==0?S=sn(ce):z!==0?S=sn(z):h||(h=x&~i,h!==0&&(S=sn(h)))),S===0?0:o!==0&&o!==S&&(o&I)===0&&(I=S&-S,h=o&-o,I>=h||I===32&&(h&4194048)!==0)?o:S}function Br(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Ni(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(){var i=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),i}function ei(i){for(var o=[],h=0;31>h;h++)o.push(i);return o}function ln(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ti(i,o,h,x,S,I){var z=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var ce=i.entanglements,ke=i.expirationTimes,rt=i.hiddenUpdates;for(h=z&~h;0<h;){var yt=31-qt(h),Et=1<<yt;ce[yt]=0,ke[yt]=-1;var ot=rt[yt];if(ot!==null)for(rt[yt]=null,yt=0;yt<ot.length;yt++){var ct=ot[yt];ct!==null&&(ct.lane&=-536870913)}h&=~Et}x!==0&&zs(i,x,0),I!==0&&S===0&&i.tag!==0&&(i.suspendedLanes|=I&~(z&~o))}function zs(i,o,h){i.pendingLanes|=o,i.suspendedLanes&=~o;var x=31-qt(o);i.entangledLanes|=o,i.entanglements[x]=i.entanglements[x]|1073741824|h&261930}function pi(i,o){var h=i.entangledLanes|=o;for(i=i.entanglements;h;){var x=31-qt(h),S=1<<x;S&o|i[x]&o&&(i[x]|=o),h&=~S}}function Ki(i,o){var h=o&-o;return h=(h&42)!==0?1:Vn(h),(h&(i.suspendedLanes|o))!==0?0:h}function Vn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function dr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ar(){var i=Te.p;return i!==0?i:(i=window.event,i===void 0?32:fv(i.type))}function Mt(i,o){var h=Te.p;try{return Te.p=i,o()}finally{Te.p=h}}var ci=Math.random().toString(36).slice(2),pr="__reactFiber$"+ci,Gn="__reactProps$"+ci,Wr="__reactContainer$"+ci,Bi="__reactEvents$"+ci,fs="__reactListeners$"+ci,Fi="__reactHandles$"+ci,pa="__reactResources$"+ci,Cs="__reactMarker$"+ci;function Ii(i){delete i[pr],delete i[Gn],delete i[Bi],delete i[fs],delete i[Fi]}function Lr(i){var o=i[pr];if(o)return o;for(var h=i.parentNode;h;){if(o=h[Wr]||h[pr]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(i=Z5(i);i!==null;){if(h=i[pr])return h;i=Z5(i)}return o}i=h,h=i.parentNode}return null}function Wn(i){if(i=i[pr]||i[Wr]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ns(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function vi(i){var o=i[pa];return o||(o=i[pa]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Xr(i){i[Cs]=!0}var At=new Set,Ts={};function or(i,o){Zi(i,o),Zi(i+"Capture",o)}function Zi(i,o){for(Ts[i]=o,i=0;i<o.length;i++)At.add(o[i])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nr={},tr={};function zn(i){return Ae.call(tr,i)?!0:Ae.call(nr,i)?!1:yo.test(i)?tr[i]=!0:(nr[i]=!0,!1)}function ds(i,o,h){if(zn(o))if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var x=o.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+h)}}function Ri(i,o,h){if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+h)}}function ti(i,o,h,x){if(x===null)i.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(o,h,""+x)}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qi(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $s(i,o,h){var x=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var S=x.get,I=x.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return S.call(this)},set:function(z){h=""+z,I.call(this,z)}}),Object.defineProperty(i,o,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(z){h=""+z},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function wn(i){if(!i._valueTracker){var o=Qi(i)?"checked":"value";i._valueTracker=$s(i,o,""+i[o])}}function ps(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var h=o.getValue(),x="";return i&&(x=Qi(i)?i.checked?"true":"false":i.value),i=x,i!==h?(o.setValue(i),!0):!1}function bi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nr=/[\n"\\]/g;function Dn(i){return i.replace(Nr,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ni(i,o,h,x,S,I,z,ce){i.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?i.type=z:i.removeAttribute("type"),o!=null?z==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+yn(o)):i.value!==""+yn(o)&&(i.value=""+yn(o)):z!=="submit"&&z!=="reset"||i.removeAttribute("value"),o!=null?ve(i,z,yn(o)):h!=null?ve(i,z,yn(h)):x!=null&&i.removeAttribute("value"),S==null&&I!=null&&(i.defaultChecked=!!I),S!=null&&(i.checked=S&&typeof S!="function"&&typeof S!="symbol"),ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?i.name=""+yn(ce):i.removeAttribute("name")}function $e(i,o,h,x,S,I,z,ce){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(i.type=I),o!=null||h!=null){if(!(I!=="submit"&&I!=="reset"||o!=null)){wn(i);return}h=h!=null?""+yn(h):"",o=o!=null?""+yn(o):h,ce||o===i.value||(i.value=o),i.defaultValue=o}x=x??S,x=typeof x!="function"&&typeof x!="symbol"&&!!x,i.checked=ce?i.checked:!!x,i.defaultChecked=!!x,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(i.name=z),wn(i)}function ve(i,o,h){o==="number"&&bi(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function zt(i,o,h,x){if(i=i.options,o){o={};for(var S=0;S<h.length;S++)o["$"+h[S]]=!0;for(h=0;h<i.length;h++)S=o.hasOwnProperty("$"+i[h].value),i[h].selected!==S&&(i[h].selected=S),S&&x&&(i[h].defaultSelected=!0)}else{for(h=""+yn(h),o=null,S=0;S<i.length;S++){if(i[S].value===h){i[S].selected=!0,x&&(i[S].defaultSelected=!0);return}o!==null||i[S].disabled||(o=i[S])}o!==null&&(o.selected=!0)}}function ri(i,o,h){if(o!=null&&(o=""+yn(o),o!==i.value&&(i.value=o),h==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=h!=null?""+yn(h):""}function gi(i,o,h,x){if(o==null){if(x!=null){if(h!=null)throw Error(r(92));if(xe(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),o=h}h=yn(o),i.defaultValue=h,x=i.textContent,x===h&&x!==""&&x!==null&&(i.value=x),wn(i)}function Ui(i,o){if(o){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=o;return}}i.textContent=o}var Ta=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ji(i,o,h){var x=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":x?i.setProperty(o,h):typeof h!="number"||h===0||Ta.has(o)?o==="float"?i.cssFloat=h:i[o]=(""+h).trim():i[o]=h+"px"}function cn(i,o,h){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||o!=null&&o.hasOwnProperty(x)||(x.indexOf("--")===0?i.setProperty(x,""):x==="float"?i.cssFloat="":i[x]="");for(var S in o)x=o[S],o.hasOwnProperty(S)&&h[S]!==x&&Ji(i,S,x)}else for(var I in o)o.hasOwnProperty(I)&&Ji(i,I,o[I])}function Tr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $i(i){return qa.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Is(){}var ga=null;function Rs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,un=null;function Os(i){var o=Wn(i);if(o&&(i=o.stateNode)){var h=i[Gn]||null;e:switch(i=o.stateNode,o.type){case"input":if(ni(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Dn(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var x=h[o];if(x!==i&&x.form===i.form){var S=x[Gn]||null;if(!S)throw Error(r(90));ni(x,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(o=0;o<h.length;o++)x=h[o],x.form===i.form&&ps(x)}break e;case"textarea":ri(i,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&zt(i,!!h.multiple,o,!1)}}}var mn=!1;function Qa(i,o,h){if(mn)return i(o,h);mn=!0;try{var x=i(o);return x}finally{if(mn=!1,(Ur!==null||un!==null)&&(I0(),Ur&&(o=Ur,i=un,un=Ur=null,Os(o),i)))for(o=0;o<i.length;o++)Os(i[o])}}function hn(i,o){var h=i.stateNode;if(h===null)return null;var x=h[Gn]||null;if(x===null)return null;h=x[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(r(231,o,typeof h));return h}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bo=!1;if(ir)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){bo=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{bo=!1}var Ds=null,qs=null,ma=null;function Ha(){if(ma)return ma;var i,o=qs,h=o.length,x,S="value"in Ds?Ds.value:Ds.textContent,I=S.length;for(i=0;i<h&&o[i]===S[i];i++);var z=h-i;for(x=1;x<=z&&o[h-x]===S[I-x];x++);return ma=S.slice(i,1<x?1-x:void 0)}function Vi(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Hs(){return!0}function Ls(){return!1}function Yr(i){function o(h,x,S,I,z){this._reactName=h,this._targetInst=S,this.type=x,this.nativeEvent=I,this.target=z,this.currentTarget=null;for(var ce in i)i.hasOwnProperty(ce)&&(h=i[ce],this[ce]=h?h(I):I[ce]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Hs:Ls,this.isPropagationStopped=Ls,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Hs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Hs)},persist:function(){},isPersistent:Hs}),o}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Er=Yr(ks),xa=T({},ks,{view:0,detail:0}),Ga=Yr(xa),ya,Ia,ea,wo=T({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ea&&(ea&&i.type==="mousemove"?(ya=i.screenX-ea.screenX,Ia=i.screenY-ea.screenY):Ia=ya=0,ea=i),ya)},movementY:function(i){return"movementY"in i?i.movementY:Ia}}),lr=Yr(wo),Ms=T({},wo,{dataTransfer:0}),Gs=Yr(Ms),ta=T({},xa,{relatedTarget:0}),va=Yr(ta),at=T({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),O=Yr(at),Z=T({},ks,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),we=Yr(Z),Me=T({},ks,{data:0}),We=Yr(Me),pt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pt(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Wt[i])?!!o[i]:!1}function vn(){return Pt}var Ft=T({},xa,{key:function(i){if(i.key){var o=pt[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Vi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?St[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(i){return i.type==="keypress"?Vi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Vi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$n=Yr(Ft),mr=T({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=Yr(mr),w=T({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn}),M=Yr(w),V=T({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),he=Yr(V),Ke=T({},wo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),it=Yr(Ke),Rt=T({},ks,{newState:0,oldState:0}),Rn=Yr(Rt),Vr=[9,13,27,32],Xn=ir&&"CompositionEvent"in window,Sr=null;ir&&"documentMode"in document&&(Sr=document.documentMode);var zi=ir&&"TextEvent"in window&&!Sr,gs=ir&&(!Xn||Sr&&8<Sr&&11>=Sr),xr=" ",qi=!1;function ba(i,o){switch(i){case"keyup":return Vr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ja=!1;function mi(i,o){switch(i){case"compositionend":return na(o);case"keypress":return o.which!==32?null:(qi=!0,xr);case"textInput":return i=o.data,i===xr&&qi?null:i;default:return null}}function Ra(i,o){if(Ja)return i==="compositionend"||!Xn&&ba(i,o)?(i=Ha(),ma=qs=Ds=null,Ja=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return gs&&o.locale!=="ko"?null:o.data;default:return null}}var ms={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cl(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!ms[i.type]:o==="textarea"}function xi(i,o,h,x){Ur?un?un.push(x):un=[x]:Ur=x,o=P0(o,"onChange"),0<o.length&&(h=new Er("onChange","change",null,h,x),i.push({event:h,listeners:o}))}var Wa=null,Xa=null;function Pl(i){P5(i,0)}function Oa(i){var o=Ns(i);if(ps(o))return i}function xs(i,o){if(i==="change")return o}var ra=!1;if(ir){var ys;if(ir){var ia="oninput"in document;if(!ia){var Fn=document.createElement("div");Fn.setAttribute("oninput","return;"),ia=typeof Fn.oninput=="function"}ys=ia}else ys=!1;ra=ys&&(!document.documentMode||9<document.documentMode)}function Da(){Wa&&(Wa.detachEvent("onpropertychange",Q),Xa=Wa=null)}function Q(i){if(i.propertyName==="value"&&Oa(Xa)){var o=[];xi(o,Xa,i,Rs(i)),Qa(Pl,o)}}function s(i,o,h){i==="focusin"?(Da(),Wa=o,Xa=h,Wa.attachEvent("onpropertychange",Q)):i==="focusout"&&Da()}function c(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oa(Xa)}function u(i,o){if(i==="click")return Oa(o)}function d(i,o){if(i==="input"||i==="change")return Oa(o)}function p(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var v=typeof Object.is=="function"?Object.is:p;function A(i,o){if(v(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var h=Object.keys(i),x=Object.keys(o);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var S=h[x];if(!Ae.call(o,S)||!v(i[S],o[S]))return!1}return!0}function N(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function D(i,o){var h=N(i);i=0;for(var x;h;){if(h.nodeType===3){if(x=i+h.textContent.length,i<=o&&x>=o)return{node:h,offset:o-i};i=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=N(h)}}function B(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?B(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function J(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=bi(i.document);o instanceof i.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)i=o.contentWindow;else break;o=bi(i.document)}return o}function ne(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var be=ir&&"documentMode"in document&&11>=document.documentMode,Le=null,je=null,Xe=null,st=!1;function mt(i,o,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;st||Le==null||Le!==bi(x)||(x=Le,"selectionStart"in x&&ne(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Xe&&A(Xe,x)||(Xe=x,x=P0(je,"onSelect"),0<x.length&&(o=new Er("onSelect","select",null,o,h),i.push({event:o,listeners:x}),o.target=Le)))}function xt(i,o){var h={};return h[i.toLowerCase()]=o.toLowerCase(),h["Webkit"+i]="webkit"+o,h["Moz"+i]="moz"+o,h}var gt={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionrun:xt("Transition","TransitionRun"),transitionstart:xt("Transition","TransitionStart"),transitioncancel:xt("Transition","TransitionCancel"),transitionend:xt("Transition","TransitionEnd")},xn={},Cn={};ir&&(Cn=document.createElement("div").style,"AnimationEvent"in window||(delete gt.animationend.animation,delete gt.animationiteration.animation,delete gt.animationstart.animation),"TransitionEvent"in window||delete gt.transitionend.transition);function ii(i){if(xn[i])return xn[i];if(!gt[i])return i;var o=gt[i],h;for(h in o)if(o.hasOwnProperty(h)&&h in Cn)return xn[i]=o[h];return i}var vs=ii("animationend"),es=ii("animationiteration"),kr=ii("animationstart"),ts=ii("transitionrun"),sa=ii("transitionstart"),Ho=ii("transitioncancel"),Do=ii("transitionend"),vu=new Map,Go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Go.push("scrollEnd");function $a(i,o){vu.set(i,o),or(o,[i])}var bu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ya=[],jl=0,oh=0;function wu(){for(var i=jl,o=oh=jl=0;o<i;){var h=Ya[o];Ya[o++]=null;var x=Ya[o];Ya[o++]=null;var S=Ya[o];Ya[o++]=null;var I=Ya[o];if(Ya[o++]=null,x!==null&&S!==null){var z=x.pending;z===null?S.next=S:(S.next=z.next,z.next=S),x.pending=S}I!==0&&Au(h,S,I)}}function _u(i,o,h,x){Ya[jl++]=i,Ya[jl++]=o,Ya[jl++]=h,Ya[jl++]=x,oh|=x,i.lanes|=x,i=i.alternate,i!==null&&(i.lanes|=x)}function lh(i,o,h,x){return _u(i,o,h,x),aa(i)}function Wo(i,o){return _u(i,null,null,o),aa(i)}function Au(i,o,h){i.lanes|=h;var x=i.alternate;x!==null&&(x.lanes|=h);for(var S=!1,I=i.return;I!==null;)I.childLanes|=h,x=I.alternate,x!==null&&(x.childLanes|=h),I.tag===22&&(i=I.stateNode,i===null||i._visibility&1||(S=!0)),i=I,I=I.return;return i.tag===3?(I=i.stateNode,S&&o!==null&&(S=31-qt(h),i=I.hiddenUpdates,x=i[S],x===null?i[S]=[o]:x.push(o),o.lane=h|536870912),I):null}function aa(i){if(50<Qf)throw Qf=0,Ng=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ws={};function ch(i,o,h,x){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oa(i,o,h,x){return new ch(i,o,h,x)}function uh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eo(i,o){var h=i.alternate;return h===null?(h=oa(i.tag,o,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=o,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,o=i.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function Eu(i,o){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,o=h.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function _c(i,o,h,x,S,I){var z=0;if(x=i,typeof i=="function")uh(i)&&(z=1);else if(typeof i=="string")z=Q6(i,h,ee.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=oa(31,h,o,S),i.elementType=P,i.lanes=I,i;case W:return ul(h.children,S,I,o);case $:z=8,S|=24;break;case K:return i=oa(12,h,o,S|2),i.elementType=K,i.lanes=I,i;case Ue:return i=oa(13,h,o,S),i.elementType=Ue,i.lanes=I,i;case ze:return i=oa(19,h,o,S),i.elementType=ze,i.lanes=I,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ue:z=10;break e;case oe:z=9;break e;case pe:z=11;break e;case Y:z=14;break e;case G:z=16,x=null;break e}z=29,h=Error(r(130,i===null?"null":typeof i,"")),x=null}return o=oa(z,h,o,S),o.elementType=i,o.type=x,o.lanes=I,o}function ul(i,o,h,x){return i=oa(7,i,x,o),i.lanes=h,i}function Su(i,o,h){return i=oa(6,i,null,o),i.lanes=h,i}function hh(i){var o=oa(18,null,null,0);return o.stateNode=i,o}function Ac(i,o,h){return o=oa(4,i.children!==null?i.children:[],i.key,o),o.lanes=h,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var fh=new WeakMap;function to(i,o){if(typeof i=="object"&&i!==null){var h=fh.get(i);return h!==void 0?h:(o={value:i,source:o,stack:Tt(o)},fh.set(i,o),o)}return{value:i,source:o,stack:Tt(o)}}var Ec=[],Bl=0,dh=null,Cu=0,no=[],ro=0,hl=null,io=1,so="";function Ka(i,o){Ec[Bl++]=Cu,Ec[Bl++]=dh,dh=i,Cu=o}function l0(i,o,h){no[ro++]=io,no[ro++]=so,no[ro++]=hl,hl=i;var x=io;i=so;var S=32-qt(x)-1;x&=~(1<<S),h+=1;var I=32-qt(o)+S;if(30<I){var z=S-S%5;I=(x&(1<<z)-1).toString(32),x>>=z,S-=z,io=1<<32-qt(o)+S|h<<S|x,so=I+i}else io=1<<I|h<<S|x,so=i}function Rf(i){i.return!==null&&(Ka(i,1),l0(i,1,0))}function ph(i){for(;i===dh;)dh=Ec[--Bl],Ec[Bl]=null,Cu=Ec[--Bl],Ec[Bl]=null;for(;i===hl;)hl=no[--ro],no[ro]=null,so=no[--ro],no[ro]=null,io=no[--ro],no[ro]=null}function c0(i,o){no[ro++]=io,no[ro++]=so,no[ro++]=hl,io=o.id,so=o.overflow,hl=i}var Xs=null,ui=null,ur=!1,wa=null,Oi=!1,_o=Error(r(519));function fl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sc(to(o,i)),_o}function Of(i){var o=i.stateNode,h=i.type,x=i.memoizedProps;switch(o[pr]=i,o[Gn]=x,h){case"dialog":fr("cancel",o),fr("close",o);break;case"iframe":case"object":case"embed":fr("load",o);break;case"video":case"audio":for(h=0;h<$f.length;h++)fr($f[h],o);break;case"source":fr("error",o);break;case"img":case"image":case"link":fr("error",o),fr("load",o);break;case"details":fr("toggle",o);break;case"input":fr("invalid",o),$e(o,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":fr("invalid",o);break;case"textarea":fr("invalid",o),gi(o,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||x.suppressHydrationWarning===!0||U5(o.textContent,h)?(x.popover!=null&&(fr("beforetoggle",o),fr("toggle",o)),x.onScroll!=null&&fr("scroll",o),x.onScrollEnd!=null&&fr("scrollend",o),x.onClick!=null&&(o.onclick=Is),o=!0):o=!1,o||fl(i,!0)}function Xo(i){for(Xs=i.return;Xs;)switch(Xs.tag){case 5:case 31:case 13:Oi=!1;return;case 27:case 3:Oi=!0;return;default:Xs=Xs.return}}function Ys(i){if(i!==Xs)return!1;if(!ur)return Xo(i),ur=!0,!1;var o=i.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||zg(i.type,i.memoizedProps)),h=!h),h&&ui&&fl(i),Xo(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ui=K5(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ui=K5(i)}else o===27?(o=ui,Fc(i.type)?(i=Xg,Xg=null,ui=i):ui=o):ui=Xs?Po(i.stateNode.nextSibling):null;return!0}function Fl(){ui=Xs=null,ur=!1}function Df(){var i=wa;return i!==null&&(ho===null?ho=i:ho.push.apply(ho,i),wa=null),i}function Sc(i){wa===null?wa=[i]:wa.push(i)}var gh=de(null),dl=null,Lo=null;function pl(i,o,h){le(gh,o._currentValue),o._currentValue=h}function ao(i){i._currentValue=gh.current,q(gh)}function Cc(i,o,h){for(;i!==null;){var x=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,x!==null&&(x.childLanes|=o)):x!==null&&(x.childLanes&o)!==o&&(x.childLanes|=o),i===h)break;i=i.return}}function Ul(i,o,h,x){var S=i.child;for(S!==null&&(S.return=i);S!==null;){var I=S.dependencies;if(I!==null){var z=S.child;I=I.firstContext;e:for(;I!==null;){var ce=I;I=S;for(var ke=0;ke<o.length;ke++)if(ce.context===o[ke]){I.lanes|=h,ce=I.alternate,ce!==null&&(ce.lanes|=h),Cc(I.return,h,i),x||(z=null);break e}I=ce.next}}else if(S.tag===18){if(z=S.return,z===null)throw Error(r(341));z.lanes|=h,I=z.alternate,I!==null&&(I.lanes|=h),Cc(z,h,i),z=null}else z=S.child;if(z!==null)z.return=S;else for(z=S;z!==null;){if(z===i){z=null;break}if(S=z.sibling,S!==null){S.return=z.return,z=S;break}z=z.return}S=z}}function gl(i,o,h,x){i=null;for(var S=o,I=!1;S!==null;){if(!I){if((S.flags&524288)!==0)I=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var z=S.alternate;if(z===null)throw Error(r(387));if(z=z.memoizedProps,z!==null){var ce=S.type;v(S.pendingProps.value,z.value)||(i!==null?i.push(ce):i=[ce])}}else if(S===Pe.current){if(z=S.alternate,z===null)throw Error(r(387));z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(i!==null?i.push(id):i=[id])}S=S.return}i!==null&&Ul(o,i,h,x),o.flags|=262144}function mh(i){for(i=i.firstContext;i!==null;){if(!v(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ml(i){dl=i,Lo=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ks(i){return u0(dl,i)}function xh(i,o){return dl===null&&ml(i),u0(i,o)}function u0(i,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Lo===null){if(i===null)throw Error(r(308));Lo=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Lo=Lo.next=o;return h}var Wp=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(h,x){i.push(x)}};this.abort=function(){o.aborted=!0,i.forEach(function(h){return h()})}},Xp=n.unstable_scheduleCallback,Yp=n.unstable_NormalPriority,Hi={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Wp,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&Xp(Yp,function(){i.controller.abort()})}var Tu=null,yh=0,_=0,C=null;function k(i,o){if(Tu===null){var h=Tu=[];yh=0,_=Lg(),C={status:"pending",value:void 0,then:function(x){h.push(x)}}}return yh++,o.then(F,F),o}function F(){if(--yh===0&&Tu!==null){C!==null&&(C.status="fulfilled");var i=Tu;Tu=null,_=0,C=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function te(i,o){var h=[],x={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return i.then(function(){x.status="fulfilled",x.value=o;for(var S=0;S<h.length;S++)(0,h[S])(o)},function(S){for(x.status="rejected",x.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),x}var ie=_e.S;_e.S=function(i,o){u5=Ut(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&k(i,o),ie!==null&&ie(i,o)};var se=de(null);function fe(){var i=se.current;return i!==null?i:fi.pooledCache}function ge(i,o){o===null?le(se,se.current):le(se,o.pool)}function Se(){var i=fe();return i===null?null:{parent:Hi._currentValue,pool:i}}var Be=Error(r(460)),tt=Error(r(474)),Ee=Error(r(542)),qe={then:function(){}};function Je(i){return i=i.status,i==="fulfilled"||i==="rejected"}function dt(i,o,h){switch(h=i[h],h===void 0?i.push(o):h!==o&&(o.then(Is,Is),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Ot(i),i;default:if(typeof o.status=="string")o.then(Is,Is);else{if(i=fi,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(x){if(o.status==="pending"){var S=o;S.status="fulfilled",S.value=x}},function(x){if(o.status==="pending"){var S=o;S.status="rejected",S.reason=x}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Ot(i),i}throw ft=o,Be}}function et(i){try{var o=i._init;return o(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ft=h,Be):h}}var ft=null;function bt(){if(ft===null)throw Error(r(459));var i=ft;return ft=null,i}function Ot(i){if(i===Be||i===Ee)throw Error(r(483))}var Ct=null,an=0;function Xt(i){var o=an;return an+=1,Ct===null&&(Ct=[]),dt(Ct,i,o)}function jn(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function tn(i,o){throw o.$$typeof===L?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function cr(i){function o(Ze,Ve){if(i){var nt=Ze.deletions;nt===null?(Ze.deletions=[Ve],Ze.flags|=16):nt.push(Ve)}}function h(Ze,Ve){if(!i)return null;for(;Ve!==null;)o(Ze,Ve),Ve=Ve.sibling;return null}function x(Ze){for(var Ve=new Map;Ze!==null;)Ze.key!==null?Ve.set(Ze.key,Ze):Ve.set(Ze.index,Ze),Ze=Ze.sibling;return Ve}function S(Ze,Ve){return Ze=eo(Ze,Ve),Ze.index=0,Ze.sibling=null,Ze}function I(Ze,Ve,nt){return Ze.index=nt,i?(nt=Ze.alternate,nt!==null?(nt=nt.index,nt<Ve?(Ze.flags|=67108866,Ve):nt):(Ze.flags|=67108866,Ve)):(Ze.flags|=1048576,Ve)}function z(Ze){return i&&Ze.alternate===null&&(Ze.flags|=67108866),Ze}function ce(Ze,Ve,nt,wt){return Ve===null||Ve.tag!==6?(Ve=Su(nt,Ze.mode,wt),Ve.return=Ze,Ve):(Ve=S(Ve,nt),Ve.return=Ze,Ve)}function ke(Ze,Ve,nt,wt){var Tn=nt.type;return Tn===W?yt(Ze,Ve,nt.props.children,wt,nt.key):Ve!==null&&(Ve.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===G&&et(Tn)===Ve.type)?(Ve=S(Ve,nt.props),jn(Ve,nt),Ve.return=Ze,Ve):(Ve=_c(nt.type,nt.key,nt.props,null,Ze.mode,wt),jn(Ve,nt),Ve.return=Ze,Ve)}function rt(Ze,Ve,nt,wt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==nt.containerInfo||Ve.stateNode.implementation!==nt.implementation?(Ve=Ac(nt,Ze.mode,wt),Ve.return=Ze,Ve):(Ve=S(Ve,nt.children||[]),Ve.return=Ze,Ve)}function yt(Ze,Ve,nt,wt,Tn){return Ve===null||Ve.tag!==7?(Ve=ul(nt,Ze.mode,wt,Tn),Ve.return=Ze,Ve):(Ve=S(Ve,nt),Ve.return=Ze,Ve)}function Et(Ze,Ve,nt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=Su(""+Ve,Ze.mode,nt),Ve.return=Ze,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case R:return nt=_c(Ve.type,Ve.key,Ve.props,null,Ze.mode,nt),jn(nt,Ve),nt.return=Ze,nt;case X:return Ve=Ac(Ve,Ze.mode,nt),Ve.return=Ze,Ve;case G:return Ve=et(Ve),Et(Ze,Ve,nt)}if(xe(Ve)||U(Ve))return Ve=ul(Ve,Ze.mode,nt,null),Ve.return=Ze,Ve;if(typeof Ve.then=="function")return Et(Ze,Xt(Ve),nt);if(Ve.$$typeof===ue)return Et(Ze,xh(Ze,Ve),nt);tn(Ze,Ve)}return null}function ot(Ze,Ve,nt,wt){var Tn=Ve!==null?Ve.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return Tn!==null?null:ce(Ze,Ve,""+nt,wt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case R:return nt.key===Tn?ke(Ze,Ve,nt,wt):null;case X:return nt.key===Tn?rt(Ze,Ve,nt,wt):null;case G:return nt=et(nt),ot(Ze,Ve,nt,wt)}if(xe(nt)||U(nt))return Tn!==null?null:yt(Ze,Ve,nt,wt,null);if(typeof nt.then=="function")return ot(Ze,Ve,Xt(nt),wt);if(nt.$$typeof===ue)return ot(Ze,Ve,xh(Ze,nt),wt);tn(Ze,nt)}return null}function ct(Ze,Ve,nt,wt,Tn){if(typeof wt=="string"&&wt!==""||typeof wt=="number"||typeof wt=="bigint")return Ze=Ze.get(nt)||null,ce(Ve,Ze,""+wt,Tn);if(typeof wt=="object"&&wt!==null){switch(wt.$$typeof){case R:return Ze=Ze.get(wt.key===null?nt:wt.key)||null,ke(Ve,Ze,wt,Tn);case X:return Ze=Ze.get(wt.key===null?nt:wt.key)||null,rt(Ve,Ze,wt,Tn);case G:return wt=et(wt),ct(Ze,Ve,nt,wt,Tn)}if(xe(wt)||U(wt))return Ze=Ze.get(nt)||null,yt(Ve,Ze,wt,Tn,null);if(typeof wt.then=="function")return ct(Ze,Ve,nt,Xt(wt),Tn);if(wt.$$typeof===ue)return ct(Ze,Ve,nt,xh(Ve,wt),Tn);tn(Ve,wt)}return null}function nn(Ze,Ve,nt,wt){for(var Tn=null,Pr=null,fn=Ve,rr=Ve=0,vr=null;fn!==null&&rr<nt.length;rr++){fn.index>rr?(vr=fn,fn=null):vr=fn.sibling;var jr=ot(Ze,fn,nt[rr],wt);if(jr===null){fn===null&&(fn=vr);break}i&&fn&&jr.alternate===null&&o(Ze,fn),Ve=I(jr,Ve,rr),Pr===null?Tn=jr:Pr.sibling=jr,Pr=jr,fn=vr}if(rr===nt.length)return h(Ze,fn),ur&&Ka(Ze,rr),Tn;if(fn===null){for(;rr<nt.length;rr++)fn=Et(Ze,nt[rr],wt),fn!==null&&(Ve=I(fn,Ve,rr),Pr===null?Tn=fn:Pr.sibling=fn,Pr=fn);return ur&&Ka(Ze,rr),Tn}for(fn=x(fn);rr<nt.length;rr++)vr=ct(fn,Ze,rr,nt[rr],wt),vr!==null&&(i&&vr.alternate!==null&&fn.delete(vr.key===null?rr:vr.key),Ve=I(vr,Ve,rr),Pr===null?Tn=vr:Pr.sibling=vr,Pr=vr);return i&&fn.forEach(function(Hc){return o(Ze,Hc)}),ur&&Ka(Ze,rr),Tn}function Ln(Ze,Ve,nt,wt){if(nt==null)throw Error(r(151));for(var Tn=null,Pr=null,fn=Ve,rr=Ve=0,vr=null,jr=nt.next();fn!==null&&!jr.done;rr++,jr=nt.next()){fn.index>rr?(vr=fn,fn=null):vr=fn.sibling;var Hc=ot(Ze,fn,jr.value,wt);if(Hc===null){fn===null&&(fn=vr);break}i&&fn&&Hc.alternate===null&&o(Ze,fn),Ve=I(Hc,Ve,rr),Pr===null?Tn=Hc:Pr.sibling=Hc,Pr=Hc,fn=vr}if(jr.done)return h(Ze,fn),ur&&Ka(Ze,rr),Tn;if(fn===null){for(;!jr.done;rr++,jr=nt.next())jr=Et(Ze,jr.value,wt),jr!==null&&(Ve=I(jr,Ve,rr),Pr===null?Tn=jr:Pr.sibling=jr,Pr=jr);return ur&&Ka(Ze,rr),Tn}for(fn=x(fn);!jr.done;rr++,jr=nt.next())jr=ct(fn,Ze,rr,jr.value,wt),jr!==null&&(i&&jr.alternate!==null&&fn.delete(jr.key===null?rr:jr.key),Ve=I(jr,Ve,rr),Pr===null?Tn=jr:Pr.sibling=jr,Pr=jr);return i&&fn.forEach(function(l8){return o(Ze,l8)}),ur&&Ka(Ze,rr),Tn}function li(Ze,Ve,nt,wt){if(typeof nt=="object"&&nt!==null&&nt.type===W&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case R:e:{for(var Tn=nt.key;Ve!==null;){if(Ve.key===Tn){if(Tn=nt.type,Tn===W){if(Ve.tag===7){h(Ze,Ve.sibling),wt=S(Ve,nt.props.children),wt.return=Ze,Ze=wt;break e}}else if(Ve.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===G&&et(Tn)===Ve.type){h(Ze,Ve.sibling),wt=S(Ve,nt.props),jn(wt,nt),wt.return=Ze,Ze=wt;break e}h(Ze,Ve);break}else o(Ze,Ve);Ve=Ve.sibling}nt.type===W?(wt=ul(nt.props.children,Ze.mode,wt,nt.key),wt.return=Ze,Ze=wt):(wt=_c(nt.type,nt.key,nt.props,null,Ze.mode,wt),jn(wt,nt),wt.return=Ze,Ze=wt)}return z(Ze);case X:e:{for(Tn=nt.key;Ve!==null;){if(Ve.key===Tn)if(Ve.tag===4&&Ve.stateNode.containerInfo===nt.containerInfo&&Ve.stateNode.implementation===nt.implementation){h(Ze,Ve.sibling),wt=S(Ve,nt.children||[]),wt.return=Ze,Ze=wt;break e}else{h(Ze,Ve);break}else o(Ze,Ve);Ve=Ve.sibling}wt=Ac(nt,Ze.mode,wt),wt.return=Ze,Ze=wt}return z(Ze);case G:return nt=et(nt),li(Ze,Ve,nt,wt)}if(xe(nt))return nn(Ze,Ve,nt,wt);if(U(nt)){if(Tn=U(nt),typeof Tn!="function")throw Error(r(150));return nt=Tn.call(nt),Ln(Ze,Ve,nt,wt)}if(typeof nt.then=="function")return li(Ze,Ve,Xt(nt),wt);if(nt.$$typeof===ue)return li(Ze,Ve,xh(Ze,nt),wt);tn(Ze,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,Ve!==null&&Ve.tag===6?(h(Ze,Ve.sibling),wt=S(Ve,nt),wt.return=Ze,Ze=wt):(h(Ze,Ve),wt=Su(nt,Ze.mode,wt),wt.return=Ze,Ze=wt),z(Ze)):h(Ze,Ve)}return function(Ze,Ve,nt,wt){try{an=0;var Tn=li(Ze,Ve,nt,wt);return Ct=null,Tn}catch(fn){if(fn===Be||fn===Ee)throw fn;var Pr=oa(29,fn,null,Ze.mode);return Pr.lanes=wt,Pr.return=Ze,Pr}}}var hi=cr(!0),Yn=cr(!1),Yt=!1;function jt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wi(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function On(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function er(i,o,h){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(Hr&2)!==0){var S=x.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),x.pending=o,o=aa(i),Au(i,null,h),o}return _u(i,x,o,h),aa(i)}function zr(i,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var x=o.lanes;x&=i.pendingLanes,h|=x,o.lanes=h,pi(i,h)}}function bs(i,o){var h=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var S=null,I=null;if(h=h.firstBaseUpdate,h!==null){do{var z={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};I===null?S=I=z:I=I.next=z,h=h.next}while(h!==null);I===null?S=I=o:I=I.next=o}else S=I=o;h={baseState:x.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:x.shared,callbacks:x.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=o:i.next=o,h.lastBaseUpdate=o}var Zs=!1;function si(){if(Zs){var i=C;if(i!==null)throw i}}function ns(i,o,h,x){Zs=!1;var S=i.updateQueue;Yt=!1;var I=S.firstBaseUpdate,z=S.lastBaseUpdate,ce=S.shared.pending;if(ce!==null){S.shared.pending=null;var ke=ce,rt=ke.next;ke.next=null,z===null?I=rt:z.next=rt,z=ke;var yt=i.alternate;yt!==null&&(yt=yt.updateQueue,ce=yt.lastBaseUpdate,ce!==z&&(ce===null?yt.firstBaseUpdate=rt:ce.next=rt,yt.lastBaseUpdate=ke))}if(I!==null){var Et=S.baseState;z=0,yt=rt=ke=null,ce=I;do{var ot=ce.lane&-536870913,ct=ot!==ce.lane;if(ct?(yr&ot)===ot:(x&ot)===ot){ot!==0&&ot===_&&(Zs=!0),yt!==null&&(yt=yt.next={lane:0,tag:ce.tag,payload:ce.payload,callback:null,next:null});e:{var nn=i,Ln=ce;ot=o;var li=h;switch(Ln.tag){case 1:if(nn=Ln.payload,typeof nn=="function"){Et=nn.call(li,Et,ot);break e}Et=nn;break e;case 3:nn.flags=nn.flags&-65537|128;case 0:if(nn=Ln.payload,ot=typeof nn=="function"?nn.call(li,Et,ot):nn,ot==null)break e;Et=T({},Et,ot);break e;case 2:Yt=!0}}ot=ce.callback,ot!==null&&(i.flags|=64,ct&&(i.flags|=8192),ct=S.callbacks,ct===null?S.callbacks=[ot]:ct.push(ot))}else ct={lane:ot,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},yt===null?(rt=yt=ct,ke=Et):yt=yt.next=ct,z|=ot;if(ce=ce.next,ce===null){if(ce=S.shared.pending,ce===null)break;ct=ce,ce=ct.next,ct.next=null,S.lastBaseUpdate=ct,S.shared.pending=null}}while(!0);yt===null&&(ke=Et),S.baseState=ke,S.firstBaseUpdate=rt,S.lastBaseUpdate=yt,I===null&&(S.shared.lanes=0),kc|=z,i.lanes=z,i.memoizedState=Et}}function la(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function rs(i,o){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)la(h[i],o)}var sr=de(null),Ir=de(0);function _i(i,o){i=Zl,le(Ir,i),le(sr,o),Zl=i|o.baseLanes}function Mr(){le(Ir,Zl),le(sr,sr.current)}function ws(){Zl=Ir.current,q(sr),q(Ir)}var Ai=de(null),Rr=null;function Gi(i){var o=i.alternate;le(Cr,Cr.current&1),le(Ai,i),Rr===null&&(o===null||sr.current!==null||o.memoizedState!==null)&&(Rr=i)}function qr(i){le(Cr,Cr.current),le(Ai,i),Rr===null&&(Rr=i)}function is(i){i.tag===22?(le(Cr,Cr.current),le(Ai,i),Rr===null&&(Rr=i)):ss()}function ss(){le(Cr,Cr.current),le(Ai,Ai.current)}function Kr(i){q(Ai),Rr===i&&(Rr=null),q(Cr)}var Cr=de(0);function ca(i){for(var o=i;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Gg(h)||Wg(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Di=0,En=null,Nn=null,Or=null,La=!1,oo=!1,_a=!1,as=0,xl=0,yl=null,vh=0;function ai(){throw Error(r(321))}function Lf(i,o){if(o===null)return!1;for(var h=0;h<o.length&&h<i.length;h++)if(!v(i[h],o[h]))return!1;return!0}function kf(i,o,h,x,S,I){return Di=I,En=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_e.H=i===null||i.memoizedState===null?wy:ng,_a=!1,I=h(x,S),_a=!1,oo&&(I=Yo(o,h,x,S)),bh(i),I}function bh(i){_e.H=zf;var o=Nn!==null&&Nn.next!==null;if(Di=0,Or=Nn=En=null,La=!1,xl=0,yl=null,o)throw Error(r(300));i===null||js||(i=i.dependencies,i!==null&&mh(i)&&(js=!0))}function Yo(i,o,h,x){En=i;var S=0;do{if(oo&&(yl=null),xl=0,oo=!1,25<=S)throw Error(r(301));if(S+=1,Or=Nn=null,i.updateQueue!=null){var I=i.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}_e.H=_y,I=o(h,x)}while(oo);return I}function Kp(){var i=_e.H,o=i.useState()[0];return o=typeof o.then=="function"?vl(o):o,i=i.useState()[0],(Nn!==null?Nn.memoizedState:null)!==i&&(En.flags|=1024),o}function Mf(){var i=as!==0;return as=0,i}function Pf(i,o,h){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~h}function wh(i){if(La){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}La=!1}Di=0,Or=Nn=En=null,oo=!1,xl=as=0,yl=null}function Ps(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?En.memoizedState=Or=i:Or=Or.next=i,Or}function Li(){if(Nn===null){var i=En.alternate;i=i!==null?i.memoizedState:null}else i=Nn.next;var o=Or===null?En.memoizedState:Or.next;if(o!==null)Or=o,Nn=i;else{if(i===null)throw En.alternate===null?Error(r(467)):Error(r(310));Nn=i,i={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Or===null?En.memoizedState=Or=i:Or=Or.next=i}return Or}function Iu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(i){var o=xl;return xl+=1,yl===null&&(yl=[]),i=dt(yl,i,o),o=En,(Or===null?o.memoizedState:Or.next)===null&&(o=o.alternate,_e.H=o===null||o.memoizedState===null?wy:ng),i}function Tc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vl(i);if(i.$$typeof===ue)return Ks(i)}throw Error(r(438,String(i)))}function Vl(i){var o=null,h=En.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var x=En.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(o={data:x.data.map(function(S){return S.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=Iu(),En.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(i),x=0;x<i;x++)h[x]=re;return o.index++,h}function ko(i,o){return typeof o=="function"?o(i):o}function _h(i){var o=Li();return Ic(o,Nn,i)}function Ic(i,o,h){var x=i.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var S=i.baseQueue,I=x.pending;if(I!==null){if(S!==null){var z=S.next;S.next=I.next,I.next=z}o.baseQueue=S=I,x.pending=null}if(I=i.baseState,S===null)i.memoizedState=I;else{o=S.next;var ce=z=null,ke=null,rt=o,yt=!1;do{var Et=rt.lane&-536870913;if(Et!==rt.lane?(yr&Et)===Et:(Di&Et)===Et){var ot=rt.revertLane;if(ot===0)ke!==null&&(ke=ke.next={lane:0,revertLane:0,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),Et===_&&(yt=!0);else if((Di&ot)===ot){rt=rt.next,ot===_&&(yt=!0);continue}else Et={lane:0,revertLane:rt.revertLane,gesture:null,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},ke===null?(ce=ke=Et,z=I):ke=ke.next=Et,En.lanes|=ot,kc|=ot;Et=rt.action,_a&&h(I,Et),I=rt.hasEagerState?rt.eagerState:h(I,Et)}else ot={lane:Et,revertLane:rt.revertLane,gesture:rt.gesture,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null},ke===null?(ce=ke=ot,z=I):ke=ke.next=ot,En.lanes|=Et,kc|=Et;rt=rt.next}while(rt!==null&&rt!==o);if(ke===null?z=I:ke.next=ce,!v(I,i.memoizedState)&&(js=!0,yt&&(h=C,h!==null)))throw h;i.memoizedState=I,i.baseState=z,i.baseQueue=ke,x.lastRenderedState=I}return S===null&&(x.lanes=0),[i.memoizedState,x.dispatch]}function Ah(i){var o=Li(),h=o.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=i;var x=h.dispatch,S=h.pending,I=o.memoizedState;if(S!==null){h.pending=null;var z=S=S.next;do I=i(I,z.action),z=z.next;while(z!==S);v(I,o.memoizedState)||(js=!0),o.memoizedState=I,o.baseQueue===null&&(o.baseState=I),h.lastRenderedState=I}return[I,x]}function Eh(i,o,h){var x=En,S=Li(),I=ur;if(I){if(h===void 0)throw Error(r(407));h=h()}else h=o();var z=!v((Nn||S).memoizedState,h);if(z&&(S.memoizedState=h,js=!0),S=S.queue,Zp(Bf.bind(null,x,S,i),[i]),S.getSnapshot!==o||z||Or!==null&&Or.memoizedState.tag&1){if(x.flags|=2048,ql(9,{destroy:void 0},jf.bind(null,x,S,h,o),null),fi===null)throw Error(r(349));I||(Di&127)!==0||Ko(x,o,h)}return h}function Ko(i,o,h){i.flags|=16384,i={getSnapshot:o,value:h},o=En.updateQueue,o===null?(o=Iu(),En.updateQueue=o,o.stores=[i]):(h=o.stores,h===null?o.stores=[i]:h.push(i))}function jf(i,o,h,x){o.value=h,o.getSnapshot=x,h0(o)&&Ff(i)}function Bf(i,o,h){return h(function(){h0(o)&&Ff(i)})}function h0(i){var o=i.getSnapshot;i=i.value;try{var h=o();return!v(i,h)}catch{return!0}}function Ff(i){var o=Wo(i,2);o!==null&&fo(o,i,2)}function bl(i){var o=Ps();if(typeof i=="function"){var h=i;if(i=h(),_a){Gt(!0);try{h()}finally{Gt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:i},o}function f0(i,o,h,x){return i.baseState=h,Ic(i,Nn,typeof x=="function"?x:ko)}function d0(i,o,h,x,S){if(x0(i))throw Error(r(485));if(i=o.action,i!==null){var I={payload:S,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){I.listeners.push(z)}};_e.T!==null?h(!0):I.isTransition=!1,x(I),h=o.pending,h===null?(I.next=o.pending=I,p0(o,I)):(I.next=h.next,o.pending=h.next=I)}}function p0(i,o){var h=o.action,x=o.payload,S=i.state;if(o.isTransition){var I=_e.T,z={};_e.T=z;try{var ce=h(S,x),ke=_e.S;ke!==null&&ke(z,ce),Uf(i,o,ce)}catch(rt){zl(i,o,rt)}finally{I!==null&&z.types!==null&&(I.types=z.types),_e.T=I}}else try{I=h(S,x),Uf(i,o,I)}catch(rt){zl(i,o,rt)}}function Uf(i,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){g0(i,o,x)},function(x){return zl(i,o,x)}):g0(i,o,h)}function g0(i,o,h){o.status="fulfilled",o.value=h,Sh(o),i.state=h,o=i.pending,o!==null&&(h=o.next,h===o?i.pending=null:(h=h.next,o.next=h,p0(i,h)))}function zl(i,o,h){var x=i.pending;if(i.pending=null,x!==null){x=x.next;do o.status="rejected",o.reason=h,Sh(o),o=o.next;while(o!==x)}i.action=null}function Sh(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Ru(i,o){return o}function Mo(i,o){if(ur){var h=fi.formState;if(h!==null){e:{var x=En;if(ur){if(ui){t:{for(var S=ui,I=Oi;S.nodeType!==8;){if(!I){S=null;break t}if(S=Po(S.nextSibling),S===null){S=null;break t}}I=S.data,S=I==="F!"||I==="F"?S:null}if(S){ui=Po(S.nextSibling),x=S.data==="F!";break e}}fl(x)}x=!1}x&&(o=h[0])}}return h=Ps(),h.memoizedState=h.baseState=o,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ru,lastRenderedState:o},h.queue=x,h=yy.bind(null,En,x),x.dispatch=h,x=bl(!1),I=tg.bind(null,En,!1,x.queue),x=Ps(),S={state:o,dispatch:null,action:i,pending:null},x.queue=S,h=d0.bind(null,En,S,I,h),S.dispatch=h,x.memoizedState=i,[o,h,!1]}function Zo(i){var o=Li();return Qo(o,Nn,i)}function Qo(i,o,h){if(o=Ic(i,o,Ru)[0],i=_h(ko)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var x=vl(o)}catch(z){throw z===Be?Ee:z}else x=o;o=Li();var S=o.queue,I=S.dispatch;return h!==o.memoizedState&&(En.flags|=2048,ql(9,{destroy:void 0},Ch.bind(null,S,h),null)),[x,I,i]}function Ch(i,o){i.action=o}function Nh(i){var o=Li(),h=Nn;if(h!==null)return Qo(o,h,i);Li(),o=o.memoizedState,h=Li();var x=h.queue.dispatch;return h.memoizedState=i,[o,x,!1]}function ql(i,o,h,x){return i={tag:i,create:h,deps:x,inst:o,next:null},o=En.updateQueue,o===null&&(o=Iu(),En.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=i.next=i:(x=h.next,h.next=i,i.next=x,o.lastEffect=i),i}function m0(){return Li().memoizedState}function Rc(i,o,h,x){var S=Ps();En.flags|=i,S.memoizedState=ql(1|o,{destroy:void 0},h,x===void 0?null:x)}function Oc(i,o,h,x){var S=Li();x=x===void 0?null:x;var I=S.memoizedState.inst;Nn!==null&&x!==null&&Lf(x,Nn.memoizedState.deps)?S.memoizedState=ql(o,I,h,x):(En.flags|=i,S.memoizedState=ql(1|o,I,h,x))}function iy(i,o){Rc(8390656,8,i,o)}function Zp(i,o){Oc(2048,8,i,o)}function n6(i){En.flags|=4;var o=En.updateQueue;if(o===null)o=Iu(),En.updateQueue=o,o.events=[i];else{var h=o.events;h===null?o.events=[i]:h.push(i)}}function sy(i){var o=Li().memoizedState;return n6({ref:o,nextImpl:i}),function(){if((Hr&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function ay(i,o){return Oc(4,2,i,o)}function oy(i,o){return Oc(4,4,i,o)}function ly(i,o){if(typeof o=="function"){i=i();var h=o(i);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function cy(i,o,h){h=h!=null?h.concat([i]):null,Oc(4,4,ly.bind(null,o,i),h)}function Qp(){}function uy(i,o){var h=Li();o=o===void 0?null:o;var x=h.memoizedState;return o!==null&&Lf(o,x[1])?x[0]:(h.memoizedState=[i,o],i)}function hy(i,o){var h=Li();o=o===void 0?null:o;var x=h.memoizedState;if(o!==null&&Lf(o,x[1]))return x[0];if(x=i(),_a){Gt(!0);try{i()}finally{Gt(!1)}}return h.memoizedState=[x,o],x}function Jp(i,o,h){return h===void 0||(Di&1073741824)!==0&&(yr&261930)===0?i.memoizedState=o:(i.memoizedState=h,i=f5(),En.lanes|=i,kc|=i,h)}function fy(i,o,h,x){return v(h,o)?h:sr.current!==null?(i=Jp(i,h,x),v(i,o)||(js=!0),i):(Di&42)===0||(Di&1073741824)!==0&&(yr&261930)===0?(js=!0,i.memoizedState=h):(i=f5(),En.lanes|=i,kc|=i,o)}function dy(i,o,h,x,S){var I=Te.p;Te.p=I!==0&&8>I?I:8;var z=_e.T,ce={};_e.T=ce,tg(i,!1,o,h);try{var ke=S(),rt=_e.S;if(rt!==null&&rt(ce,ke),ke!==null&&typeof ke=="object"&&typeof ke.then=="function"){var yt=te(ke,x);Vf(i,o,yt,So(i))}else Vf(i,o,x,So(i))}catch(Et){Vf(i,o,{then:function(){},status:"rejected",reason:Et},So())}finally{Te.p=I,z!==null&&ce.types!==null&&(z.types=ce.types),_e.T=z}}function r6(){}function $p(i,o,h,x){if(i.tag!==5)throw Error(r(476));var S=py(i).queue;dy(i,S,o,De,h===null?r6:function(){return gy(i),h(x)})}function py(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:De},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:h},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function gy(i){var o=py(i);o.next===null&&(o=i.alternate.memoizedState),Vf(i,o.next.queue,{},So())}function eg(){return Ks(id)}function my(){return Li().memoizedState}function xy(){return Li().memoizedState}function i6(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var h=So();i=On(h);var x=er(o,i,h);x!==null&&(fo(x,o,h),zr(x,o,h)),o={cache:Nc()},i.payload=o;return}o=o.return}}function s6(i,o,h){var x=So();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},x0(i)?vy(o,h):(h=lh(i,o,h,x),h!==null&&(fo(h,i,x),by(h,o,x)))}function yy(i,o,h){var x=So();Vf(i,o,h,x)}function Vf(i,o,h,x){var S={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(x0(i))vy(o,S);else{var I=i.alternate;if(i.lanes===0&&(I===null||I.lanes===0)&&(I=o.lastRenderedReducer,I!==null))try{var z=o.lastRenderedState,ce=I(z,h);if(S.hasEagerState=!0,S.eagerState=ce,v(ce,z))return _u(i,o,S,0),fi===null&&wu(),!1}catch{}if(h=lh(i,o,S,x),h!==null)return fo(h,i,x),by(h,o,x),!0}return!1}function tg(i,o,h,x){if(x={lane:2,revertLane:Lg(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},x0(i)){if(o)throw Error(r(479))}else o=lh(i,h,x,2),o!==null&&fo(o,i,2)}function x0(i){var o=i.alternate;return i===En||o!==null&&o===En}function vy(i,o){oo=La=!0;var h=i.pending;h===null?o.next=o:(o.next=h.next,h.next=o),i.pending=o}function by(i,o,h){if((h&4194048)!==0){var x=o.lanes;x&=i.pendingLanes,h|=x,o.lanes=h,pi(i,h)}}var zf={readContext:Ks,use:Tc,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useLayoutEffect:ai,useInsertionEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useSyncExternalStore:ai,useId:ai,useHostTransitionStatus:ai,useFormState:ai,useActionState:ai,useOptimistic:ai,useMemoCache:ai,useCacheRefresh:ai};zf.useEffectEvent=ai;var wy={readContext:Ks,use:Tc,useCallback:function(i,o){return Ps().memoizedState=[i,o===void 0?null:o],i},useContext:Ks,useEffect:iy,useImperativeHandle:function(i,o,h){h=h!=null?h.concat([i]):null,Rc(4194308,4,ly.bind(null,o,i),h)},useLayoutEffect:function(i,o){return Rc(4194308,4,i,o)},useInsertionEffect:function(i,o){Rc(4,2,i,o)},useMemo:function(i,o){var h=Ps();o=o===void 0?null:o;var x=i();if(_a){Gt(!0);try{i()}finally{Gt(!1)}}return h.memoizedState=[x,o],x},useReducer:function(i,o,h){var x=Ps();if(h!==void 0){var S=h(o);if(_a){Gt(!0);try{h(o)}finally{Gt(!1)}}}else S=o;return x.memoizedState=x.baseState=S,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:S},x.queue=i,i=i.dispatch=s6.bind(null,En,i),[x.memoizedState,i]},useRef:function(i){var o=Ps();return i={current:i},o.memoizedState=i},useState:function(i){i=bl(i);var o=i.queue,h=yy.bind(null,En,o);return o.dispatch=h,[i.memoizedState,h]},useDebugValue:Qp,useDeferredValue:function(i,o){var h=Ps();return Jp(h,i,o)},useTransition:function(){var i=bl(!1);return i=dy.bind(null,En,i.queue,!0,!1),Ps().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,h){var x=En,S=Ps();if(ur){if(h===void 0)throw Error(r(407));h=h()}else{if(h=o(),fi===null)throw Error(r(349));(yr&127)!==0||Ko(x,o,h)}S.memoizedState=h;var I={value:h,getSnapshot:o};return S.queue=I,iy(Bf.bind(null,x,I,i),[i]),x.flags|=2048,ql(9,{destroy:void 0},jf.bind(null,x,I,h,o),null),h},useId:function(){var i=Ps(),o=fi.identifierPrefix;if(ur){var h=so,x=io;h=(x&~(1<<32-qt(x)-1)).toString(32)+h,o="_"+o+"R_"+h,h=as++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=vh++,o="_"+o+"r_"+h.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:eg,useFormState:Mo,useActionState:Mo,useOptimistic:function(i){var o=Ps();o.memoizedState=o.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=tg.bind(null,En,!0,h),h.dispatch=o,[i,o]},useMemoCache:Vl,useCacheRefresh:function(){return Ps().memoizedState=i6.bind(null,En)},useEffectEvent:function(i){var o=Ps(),h={impl:i};return o.memoizedState=h,function(){if((Hr&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},ng={readContext:Ks,use:Tc,useCallback:uy,useContext:Ks,useEffect:Zp,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:_h,useRef:m0,useState:function(){return _h(ko)},useDebugValue:Qp,useDeferredValue:function(i,o){var h=Li();return fy(h,Nn.memoizedState,i,o)},useTransition:function(){var i=_h(ko)[0],o=Li().memoizedState;return[typeof i=="boolean"?i:vl(i),o]},useSyncExternalStore:Eh,useId:my,useHostTransitionStatus:eg,useFormState:Zo,useActionState:Zo,useOptimistic:function(i,o){var h=Li();return f0(h,Nn,i,o)},useMemoCache:Vl,useCacheRefresh:xy};ng.useEffectEvent=sy;var _y={readContext:Ks,use:Tc,useCallback:uy,useContext:Ks,useEffect:Zp,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:Ah,useRef:m0,useState:function(){return Ah(ko)},useDebugValue:Qp,useDeferredValue:function(i,o){var h=Li();return Nn===null?Jp(h,i,o):fy(h,Nn.memoizedState,i,o)},useTransition:function(){var i=Ah(ko)[0],o=Li().memoizedState;return[typeof i=="boolean"?i:vl(i),o]},useSyncExternalStore:Eh,useId:my,useHostTransitionStatus:eg,useFormState:Nh,useActionState:Nh,useOptimistic:function(i,o){var h=Li();return Nn!==null?f0(h,Nn,i,o):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Vl,useCacheRefresh:xy};_y.useEffectEvent=sy;function rg(i,o,h,x){o=i.memoizedState,h=h(x,o),h=h==null?o:T({},o,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var ig={enqueueSetState:function(i,o,h){i=i._reactInternals;var x=So(),S=On(x);S.payload=o,h!=null&&(S.callback=h),o=er(i,S,x),o!==null&&(fo(o,i,x),zr(o,i,x))},enqueueReplaceState:function(i,o,h){i=i._reactInternals;var x=So(),S=On(x);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=er(i,S,x),o!==null&&(fo(o,i,x),zr(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var h=So(),x=On(h);x.tag=2,o!=null&&(x.callback=o),o=er(i,x,h),o!==null&&(fo(o,i,h),zr(o,i,h))}};function Ay(i,o,h,x,S,I,z){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,I,z):o.prototype&&o.prototype.isPureReactComponent?!A(h,x)||!A(S,I):!0}function Ey(i,o,h,x){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,x),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,x),o.state!==i&&ig.enqueueReplaceState(o,o.state,null)}function Ou(i,o){var h=o;if("ref"in o){h={};for(var x in o)x!=="ref"&&(h[x]=o[x])}if(i=i.defaultProps){h===o&&(h=T({},h));for(var S in i)h[S]===void 0&&(h[S]=i[S])}return h}function Sy(i){bu(i)}function Cy(i){console.error(i)}function Ny(i){bu(i)}function y0(i,o){try{var h=i.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(x){setTimeout(function(){throw x})}}function Ty(i,o,h){try{var x=i.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function sg(i,o,h){return h=On(h),h.tag=3,h.payload={element:null},h.callback=function(){y0(i,o)},h}function Iy(i){return i=On(i),i.tag=3,i}function Ry(i,o,h,x){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var I=x.value;i.payload=function(){return S(I)},i.callback=function(){Ty(o,h,x)}}var z=h.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(i.callback=function(){Ty(o,h,x),typeof S!="function"&&(Mc===null?Mc=new Set([this]):Mc.add(this));var ce=x.stack;this.componentDidCatch(x.value,{componentStack:ce!==null?ce:""})})}function a6(i,o,h,x,S){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(o=h.alternate,o!==null&&gl(o,h,S,!0),h=Ai.current,h!==null){switch(h.tag){case 31:case 13:return Rr===null?R0():h.alternate===null&&os===0&&(os=3),h.flags&=-257,h.flags|=65536,h.lanes=S,x===qe?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([x]):o.add(x),Rg(i,x,S)),!1;case 22:return h.flags|=65536,x===qe?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([x]):h.add(x)),Rg(i,x,S)),!1}throw Error(r(435,h.tag))}return Rg(i,x,S),R0(),!1}if(ur)return o=Ai.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=S,x!==_o&&(i=Error(r(422),{cause:x}),Sc(to(i,h)))):(x!==_o&&(o=Error(r(423),{cause:x}),Sc(to(o,h))),i=i.current.alternate,i.flags|=65536,S&=-S,i.lanes|=S,x=to(x,h),S=sg(i.stateNode,x,S),bs(i,S),os!==4&&(os=2)),!1;var I=Error(r(520),{cause:x});if(I=to(I,h),Zf===null?Zf=[I]:Zf.push(I),os!==4&&(os=2),o===null)return!0;x=to(x,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,i=S&-S,h.lanes|=i,i=sg(h.stateNode,x,i),bs(h,i),!1;case 1:if(o=h.type,I=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Mc===null||!Mc.has(I))))return h.flags|=65536,S&=-S,h.lanes|=S,S=Iy(S),Ry(S,i,h,x),bs(h,S),!1}h=h.return}while(h!==null);return!1}var ag=Error(r(461)),js=!1;function Aa(i,o,h,x){o.child=i===null?Yn(o,null,h,x):hi(o,i.child,h,x)}function Oy(i,o,h,x,S){h=h.render;var I=o.ref;if("ref"in x){var z={};for(var ce in x)ce!=="ref"&&(z[ce]=x[ce])}else z=x;return ml(o),x=kf(i,o,h,z,I,S),ce=Mf(),i!==null&&!js?(Pf(i,o,S),Hl(i,o,S)):(ur&&ce&&Rf(o),o.flags|=1,Aa(i,o,x,S),o.child)}function Dy(i,o,h,x,S){if(i===null){var I=h.type;return typeof I=="function"&&!uh(I)&&I.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=I,Ly(i,o,I,x,S)):(i=_c(h.type,null,x,o,o.mode,S),i.ref=o.ref,i.return=o,o.child=i)}if(I=i.child,!pg(i,S)){var z=I.memoizedProps;if(h=h.compare,h=h!==null?h:A,h(z,x)&&i.ref===o.ref)return Hl(i,o,S)}return o.flags|=1,i=eo(I,x),i.ref=o.ref,i.return=o,o.child=i}function Ly(i,o,h,x,S){if(i!==null){var I=i.memoizedProps;if(A(I,x)&&i.ref===o.ref)if(js=!1,o.pendingProps=x=I,pg(i,S))(i.flags&131072)!==0&&(js=!0);else return o.lanes=i.lanes,Hl(i,o,S)}return og(i,o,h,x,S)}function ky(i,o,h,x){var S=x.children,I=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((o.flags&128)!==0){if(I=I!==null?I.baseLanes|h:h,i!==null){for(x=o.child=i.child,S=0;x!==null;)S=S|x.lanes|x.childLanes,x=x.sibling;x=S&~I}else x=0,o.child=null;return My(i,o,I,h,x)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&ge(o,I!==null?I.cachePool:null),I!==null?_i(o,I):Mr(),is(o);else return x=o.lanes=536870912,My(i,o,I!==null?I.baseLanes|h:h,h,x)}else I!==null?(ge(o,I.cachePool),_i(o,I),ss(),o.memoizedState=null):(i!==null&&ge(o,null),Mr(),ss());return Aa(i,o,S,h),o.child}function qf(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function My(i,o,h,x,S){var I=fe();return I=I===null?null:{parent:Hi._currentValue,pool:I},o.memoizedState={baseLanes:h,cachePool:I},i!==null&&ge(o,null),Mr(),is(o),i!==null&&gl(i,o,x,!0),o.childLanes=S,null}function v0(i,o){return o=w0({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Py(i,o,h){return hi(o,i.child,null,h),i=v0(o,o.pendingProps),i.flags|=2,Kr(o),o.memoizedState=null,i}function o6(i,o,h){var x=o.pendingProps,S=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ur){if(x.mode==="hidden")return i=v0(o,x),o.lanes=536870912,qf(null,i);if(qr(o),(i=ui)?(i=Y5(i,Oi),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hl!==null?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},h=hh(i),h.return=o,o.child=h,Xs=o,ui=null)):i=null,i===null)throw fl(o);return o.lanes=536870912,null}return v0(o,x)}var I=i.memoizedState;if(I!==null){var z=I.dehydrated;if(qr(o),S)if(o.flags&256)o.flags&=-257,o=Py(i,o,h);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(js||gl(i,o,h,!1),S=(h&i.childLanes)!==0,js||S){if(x=fi,x!==null&&(z=Ki(x,h),z!==0&&z!==I.retryLane))throw I.retryLane=z,Wo(i,z),fo(x,i,z),ag;R0(),o=Py(i,o,h)}else i=I.treeContext,ui=Po(z.nextSibling),Xs=o,ur=!0,wa=null,Oi=!1,i!==null&&c0(o,i),o=v0(o,x),o.flags|=4096;return o}return i=eo(i.child,{mode:x.mode,children:x.children}),i.ref=o.ref,o.child=i,i.return=o,i}function b0(i,o){var h=o.ref;if(h===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(i===null||i.ref!==h)&&(o.flags|=4194816)}}function og(i,o,h,x,S){return ml(o),h=kf(i,o,h,x,void 0,S),x=Mf(),i!==null&&!js?(Pf(i,o,S),Hl(i,o,S)):(ur&&x&&Rf(o),o.flags|=1,Aa(i,o,h,S),o.child)}function jy(i,o,h,x,S,I){return ml(o),o.updateQueue=null,h=Yo(o,x,h,S),bh(i),x=Mf(),i!==null&&!js?(Pf(i,o,I),Hl(i,o,I)):(ur&&x&&Rf(o),o.flags|=1,Aa(i,o,h,I),o.child)}function By(i,o,h,x,S){if(ml(o),o.stateNode===null){var I=Ws,z=h.contextType;typeof z=="object"&&z!==null&&(I=Ks(z)),I=new h(x,I),o.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=ig,o.stateNode=I,I._reactInternals=o,I=o.stateNode,I.props=x,I.state=o.memoizedState,I.refs={},jt(o),z=h.contextType,I.context=typeof z=="object"&&z!==null?Ks(z):Ws,I.state=o.memoizedState,z=h.getDerivedStateFromProps,typeof z=="function"&&(rg(o,h,z,x),I.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(z=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),z!==I.state&&ig.enqueueReplaceState(I,I.state,null),ns(o,x,I,S),si(),I.state=o.memoizedState),typeof I.componentDidMount=="function"&&(o.flags|=4194308),x=!0}else if(i===null){I=o.stateNode;var ce=o.memoizedProps,ke=Ou(h,ce);I.props=ke;var rt=I.context,yt=h.contextType;z=Ws,typeof yt=="object"&&yt!==null&&(z=Ks(yt));var Et=h.getDerivedStateFromProps;yt=typeof Et=="function"||typeof I.getSnapshotBeforeUpdate=="function",ce=o.pendingProps!==ce,yt||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ce||rt!==z)&&Ey(o,I,x,z),Yt=!1;var ot=o.memoizedState;I.state=ot,ns(o,x,I,S),si(),rt=o.memoizedState,ce||ot!==rt||Yt?(typeof Et=="function"&&(rg(o,h,Et,x),rt=o.memoizedState),(ke=Yt||Ay(o,h,ke,x,ot,rt,z))?(yt||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=x,o.memoizedState=rt),I.props=x,I.state=rt,I.context=z,x=ke):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),x=!1)}else{I=o.stateNode,wi(i,o),z=o.memoizedProps,yt=Ou(h,z),I.props=yt,Et=o.pendingProps,ot=I.context,rt=h.contextType,ke=Ws,typeof rt=="object"&&rt!==null&&(ke=Ks(rt)),ce=h.getDerivedStateFromProps,(rt=typeof ce=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(z!==Et||ot!==ke)&&Ey(o,I,x,ke),Yt=!1,ot=o.memoizedState,I.state=ot,ns(o,x,I,S),si();var ct=o.memoizedState;z!==Et||ot!==ct||Yt||i!==null&&i.dependencies!==null&&mh(i.dependencies)?(typeof ce=="function"&&(rg(o,h,ce,x),ct=o.memoizedState),(yt=Yt||Ay(o,h,yt,x,ot,ct,ke)||i!==null&&i.dependencies!==null&&mh(i.dependencies))?(rt||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(x,ct,ke),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(x,ct,ke)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||z===i.memoizedProps&&ot===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ot===i.memoizedState||(o.flags|=1024),o.memoizedProps=x,o.memoizedState=ct),I.props=x,I.state=ct,I.context=ke,x=yt):(typeof I.componentDidUpdate!="function"||z===i.memoizedProps&&ot===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ot===i.memoizedState||(o.flags|=1024),x=!1)}return I=x,b0(i,o),x=(o.flags&128)!==0,I||x?(I=o.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:I.render(),o.flags|=1,i!==null&&x?(o.child=hi(o,i.child,null,S),o.child=hi(o,null,h,S)):Aa(i,o,h,S),o.memoizedState=I.state,i=o.child):i=Hl(i,o,S),i}function Fy(i,o,h,x){return Fl(),o.flags|=256,Aa(i,o,h,x),o.child}var lg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cg(i){return{baseLanes:i,cachePool:Se()}}function ug(i,o,h){return i=i!==null?i.childLanes&~h:0,o&&(i|=Eo),i}function Uy(i,o,h){var x=o.pendingProps,S=!1,I=(o.flags&128)!==0,z;if((z=I)||(z=i!==null&&i.memoizedState===null?!1:(Cr.current&2)!==0),z&&(S=!0,o.flags&=-129),z=(o.flags&32)!==0,o.flags&=-33,i===null){if(ur){if(S?Gi(o):ss(),(i=ui)?(i=Y5(i,Oi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hl!==null?{id:io,overflow:so}:null,retryLane:536870912,hydrationErrors:null},h=hh(i),h.return=o,o.child=h,Xs=o,ui=null)):i=null,i===null)throw fl(o);return Wg(i)?o.lanes=32:o.lanes=536870912,null}var ce=x.children;return x=x.fallback,S?(ss(),S=o.mode,ce=w0({mode:"hidden",children:ce},S),x=ul(x,S,h,null),ce.return=o,x.return=o,ce.sibling=x,o.child=ce,x=o.child,x.memoizedState=cg(h),x.childLanes=ug(i,z,h),o.memoizedState=lg,qf(null,x)):(Gi(o),hg(o,ce))}var ke=i.memoizedState;if(ke!==null&&(ce=ke.dehydrated,ce!==null)){if(I)o.flags&256?(Gi(o),o.flags&=-257,o=fg(i,o,h)):o.memoizedState!==null?(ss(),o.child=i.child,o.flags|=128,o=null):(ss(),ce=x.fallback,S=o.mode,x=w0({mode:"visible",children:x.children},S),ce=ul(ce,S,h,null),ce.flags|=2,x.return=o,ce.return=o,x.sibling=ce,o.child=x,hi(o,i.child,null,h),x=o.child,x.memoizedState=cg(h),x.childLanes=ug(i,z,h),o.memoizedState=lg,o=qf(null,x));else if(Gi(o),Wg(ce)){if(z=ce.nextSibling&&ce.nextSibling.dataset,z)var rt=z.dgst;z=rt,x=Error(r(419)),x.stack="",x.digest=z,Sc({value:x,source:null,stack:null}),o=fg(i,o,h)}else if(js||gl(i,o,h,!1),z=(h&i.childLanes)!==0,js||z){if(z=fi,z!==null&&(x=Ki(z,h),x!==0&&x!==ke.retryLane))throw ke.retryLane=x,Wo(i,x),fo(z,i,x),ag;Gg(ce)||R0(),o=fg(i,o,h)}else Gg(ce)?(o.flags|=192,o.child=i.child,o=null):(i=ke.treeContext,ui=Po(ce.nextSibling),Xs=o,ur=!0,wa=null,Oi=!1,i!==null&&c0(o,i),o=hg(o,x.children),o.flags|=4096);return o}return S?(ss(),ce=x.fallback,S=o.mode,ke=i.child,rt=ke.sibling,x=eo(ke,{mode:"hidden",children:x.children}),x.subtreeFlags=ke.subtreeFlags&65011712,rt!==null?ce=eo(rt,ce):(ce=ul(ce,S,h,null),ce.flags|=2),ce.return=o,x.return=o,x.sibling=ce,o.child=x,qf(null,x),x=o.child,ce=i.child.memoizedState,ce===null?ce=cg(h):(S=ce.cachePool,S!==null?(ke=Hi._currentValue,S=S.parent!==ke?{parent:ke,pool:ke}:S):S=Se(),ce={baseLanes:ce.baseLanes|h,cachePool:S}),x.memoizedState=ce,x.childLanes=ug(i,z,h),o.memoizedState=lg,qf(i.child,x)):(Gi(o),h=i.child,i=h.sibling,h=eo(h,{mode:"visible",children:x.children}),h.return=o,h.sibling=null,i!==null&&(z=o.deletions,z===null?(o.deletions=[i],o.flags|=16):z.push(i)),o.child=h,o.memoizedState=null,h)}function hg(i,o){return o=w0({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function w0(i,o){return i=oa(22,i,null,o),i.lanes=0,i}function fg(i,o,h){return hi(o,i.child,null,h),i=hg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Vy(i,o,h){i.lanes|=o;var x=i.alternate;x!==null&&(x.lanes|=o),Cc(i.return,o,h)}function dg(i,o,h,x,S,I){var z=i.memoizedState;z===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:S,treeForkCount:I}:(z.isBackwards=o,z.rendering=null,z.renderingStartTime=0,z.last=x,z.tail=h,z.tailMode=S,z.treeForkCount=I)}function zy(i,o,h){var x=o.pendingProps,S=x.revealOrder,I=x.tail;x=x.children;var z=Cr.current,ce=(z&2)!==0;if(ce?(z=z&1|2,o.flags|=128):z&=1,le(Cr,z),Aa(i,o,x,h),x=ur?Cu:0,!ce&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vy(i,h,o);else if(i.tag===19)Vy(i,h,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(S){case"forwards":for(h=o.child,S=null;h!==null;)i=h.alternate,i!==null&&ca(i)===null&&(S=h),h=h.sibling;h=S,h===null?(S=o.child,o.child=null):(S=h.sibling,h.sibling=null),dg(o,!1,S,h,I,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=o.child,o.child=null;S!==null;){if(i=S.alternate,i!==null&&ca(i)===null){o.child=S;break}i=S.sibling,S.sibling=h,h=S,S=i}dg(o,!0,h,null,I,x);break;case"together":dg(o,!1,null,null,void 0,x);break;default:o.memoizedState=null}return o.child}function Hl(i,o,h){if(i!==null&&(o.dependencies=i.dependencies),kc|=o.lanes,(h&o.childLanes)===0)if(i!==null){if(gl(i,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,h=eo(i,i.pendingProps),o.child=h,h.return=o;i.sibling!==null;)i=i.sibling,h=h.sibling=eo(i,i.pendingProps),h.return=o;h.sibling=null}return o.child}function pg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&mh(i)))}function l6(i,o,h){switch(o.tag){case 3:Ie(o,o.stateNode.containerInfo),pl(o,Hi,i.memoizedState.cache),Fl();break;case 27:case 5:Ne(o);break;case 4:Ie(o,o.stateNode.containerInfo);break;case 10:pl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,qr(o),null;break;case 13:var x=o.memoizedState;if(x!==null)return x.dehydrated!==null?(Gi(o),o.flags|=128,null):(h&o.child.childLanes)!==0?Uy(i,o,h):(Gi(o),i=Hl(i,o,h),i!==null?i.sibling:null);Gi(o);break;case 19:var S=(i.flags&128)!==0;if(x=(h&o.childLanes)!==0,x||(gl(i,o,h,!1),x=(h&o.childLanes)!==0),S){if(x)return zy(i,o,h);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),le(Cr,Cr.current),x)break;return null;case 22:return o.lanes=0,ky(i,o,h,o.pendingProps);case 24:pl(o,Hi,i.memoizedState.cache)}return Hl(i,o,h)}function qy(i,o,h){if(i!==null)if(i.memoizedProps!==o.pendingProps)js=!0;else{if(!pg(i,h)&&(o.flags&128)===0)return js=!1,l6(i,o,h);js=(i.flags&131072)!==0}else js=!1,ur&&(o.flags&1048576)!==0&&l0(o,Cu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var x=o.pendingProps;if(i=et(o.elementType),o.type=i,typeof i=="function")uh(i)?(x=Ou(i,x),o.tag=1,o=By(null,o,i,x,h)):(o.tag=0,o=og(null,o,i,x,h));else{if(i!=null){var S=i.$$typeof;if(S===pe){o.tag=11,o=Oy(null,o,i,x,h);break e}else if(S===Y){o.tag=14,o=Dy(null,o,i,x,h);break e}}throw o=Ce(i)||i,Error(r(306,o,""))}}return o;case 0:return og(i,o,o.type,o.pendingProps,h);case 1:return x=o.type,S=Ou(x,o.pendingProps),By(i,o,x,S,h);case 3:e:{if(Ie(o,o.stateNode.containerInfo),i===null)throw Error(r(387));x=o.pendingProps;var I=o.memoizedState;S=I.element,wi(i,o),ns(o,x,null,h);var z=o.memoizedState;if(x=z.cache,pl(o,Hi,x),x!==I.cache&&Ul(o,[Hi],h,!0),si(),x=z.element,I.isDehydrated)if(I={element:x,isDehydrated:!1,cache:z.cache},o.updateQueue.baseState=I,o.memoizedState=I,o.flags&256){o=Fy(i,o,x,h);break e}else if(x!==S){S=to(Error(r(424)),o),Sc(S),o=Fy(i,o,x,h);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ui=Po(i.firstChild),Xs=o,ur=!0,wa=null,Oi=!0,h=Yn(o,null,x,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Fl(),x===S){o=Hl(i,o,h);break e}Aa(i,o,x,h)}o=o.child}return o;case 26:return b0(i,o),i===null?(h=ev(o.type,null,o.pendingProps,null))?o.memoizedState=h:ur||(h=o.type,i=o.pendingProps,x=j0(me.current).createElement(h),x[pr]=o,x[Gn]=i,Ea(x,h,i),Xr(x),o.stateNode=x):o.memoizedState=ev(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ne(o),i===null&&ur&&(x=o.stateNode=Q5(o.type,o.pendingProps,me.current),Xs=o,Oi=!0,S=ui,Fc(o.type)?(Xg=S,ui=Po(x.firstChild)):ui=S),Aa(i,o,o.pendingProps.children,h),b0(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ur&&((S=x=ui)&&(x=B6(x,o.type,o.pendingProps,Oi),x!==null?(o.stateNode=x,Xs=o,ui=Po(x.firstChild),Oi=!1,S=!0):S=!1),S||fl(o)),Ne(o),S=o.type,I=o.pendingProps,z=i!==null?i.memoizedProps:null,x=I.children,zg(S,I)?x=null:z!==null&&zg(S,z)&&(o.flags|=32),o.memoizedState!==null&&(S=kf(i,o,Kp,null,null,h),id._currentValue=S),b0(i,o),Aa(i,o,x,h),o.child;case 6:return i===null&&ur&&((i=h=ui)&&(h=F6(h,o.pendingProps,Oi),h!==null?(o.stateNode=h,Xs=o,ui=null,i=!0):i=!1),i||fl(o)),null;case 13:return Uy(i,o,h);case 4:return Ie(o,o.stateNode.containerInfo),x=o.pendingProps,i===null?o.child=hi(o,null,x,h):Aa(i,o,x,h),o.child;case 11:return Oy(i,o,o.type,o.pendingProps,h);case 7:return Aa(i,o,o.pendingProps,h),o.child;case 8:return Aa(i,o,o.pendingProps.children,h),o.child;case 12:return Aa(i,o,o.pendingProps.children,h),o.child;case 10:return x=o.pendingProps,pl(o,o.type,x.value),Aa(i,o,x.children,h),o.child;case 9:return S=o.type._context,x=o.pendingProps.children,ml(o),S=Ks(S),x=x(S),o.flags|=1,Aa(i,o,x,h),o.child;case 14:return Dy(i,o,o.type,o.pendingProps,h);case 15:return Ly(i,o,o.type,o.pendingProps,h);case 19:return zy(i,o,h);case 31:return o6(i,o,h);case 22:return ky(i,o,h,o.pendingProps);case 24:return ml(o),x=Ks(Hi),i===null?(S=fe(),S===null&&(S=fi,I=Nc(),S.pooledCache=I,I.refCount++,I!==null&&(S.pooledCacheLanes|=h),S=I),o.memoizedState={parent:x,cache:S},jt(o),pl(o,Hi,S)):((i.lanes&h)!==0&&(wi(i,o),ns(o,null,null,h),si()),S=i.memoizedState,I=o.memoizedState,S.parent!==x?(S={parent:x,cache:x},o.memoizedState=S,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=S),pl(o,Hi,x)):(x=I.cache,pl(o,Hi,x),x!==S.cache&&Ul(o,[Hi],h,!0))),Aa(i,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Gl(i){i.flags|=4}function gg(i,o,h,x,S){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(S&335544128)===S)if(i.stateNode.complete)i.flags|=8192;else if(m5())i.flags|=8192;else throw ft=qe,tt}else i.flags&=-16777217}function Hy(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!sv(o))if(m5())i.flags|=8192;else throw ft=qe,tt}function _0(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Fr():536870912,i.lanes|=o,Oh|=o)}function Hf(i,o){if(!ur)switch(i.tailMode){case"hidden":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Ei(i){var o=i.alternate!==null&&i.alternate.child===i.child,h=0,x=0;if(o)for(var S=i.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags&65011712,x|=S.flags&65011712,S.return=i,S=S.sibling;else for(S=i.child;S!==null;)h|=S.lanes|S.childLanes,x|=S.subtreeFlags,x|=S.flags,S.return=i,S=S.sibling;return i.subtreeFlags|=x,i.childLanes=h,o}function c6(i,o,h){var x=o.pendingProps;switch(ph(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(o),null;case 1:return Ei(o),null;case 3:return h=o.stateNode,x=null,i!==null&&(x=i.memoizedState.cache),o.memoizedState.cache!==x&&(o.flags|=2048),ao(Hi),Fe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ys(o)?Gl(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Df())),Ei(o),null;case 26:var S=o.type,I=o.memoizedState;return i===null?(Gl(o),I!==null?(Ei(o),Hy(o,I)):(Ei(o),gg(o,S,null,x,h))):I?I!==i.memoizedState?(Gl(o),Ei(o),Hy(o,I)):(Ei(o),o.flags&=-16777217):(i=i.memoizedProps,i!==x&&Gl(o),Ei(o),gg(o,S,i,x,h)),null;case 27:if(Qe(o),h=me.current,S=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Gl(o);else{if(!x){if(o.stateNode===null)throw Error(r(166));return Ei(o),null}i=ee.current,Ys(o)?Of(o):(i=Q5(S,x,h),o.stateNode=i,Gl(o))}return Ei(o),null;case 5:if(Qe(o),S=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==x&&Gl(o);else{if(!x){if(o.stateNode===null)throw Error(r(166));return Ei(o),null}if(I=ee.current,Ys(o))Of(o);else{var z=j0(me.current);switch(I){case 1:I=z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:I=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":I=z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":I=z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":I=z.createElement("div"),I.innerHTML="<script><\/script>",I=I.removeChild(I.firstChild);break;case"select":I=typeof x.is=="string"?z.createElement("select",{is:x.is}):z.createElement("select"),x.multiple?I.multiple=!0:x.size&&(I.size=x.size);break;default:I=typeof x.is=="string"?z.createElement(S,{is:x.is}):z.createElement(S)}}I[pr]=o,I[Gn]=x;e:for(z=o.child;z!==null;){if(z.tag===5||z.tag===6)I.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===o)break e;for(;z.sibling===null;){if(z.return===null||z.return===o)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}o.stateNode=I;e:switch(Ea(I,S,x),S){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&Gl(o)}}return Ei(o),gg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,h),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==x&&Gl(o);else{if(typeof x!="string"&&o.stateNode===null)throw Error(r(166));if(i=me.current,Ys(o)){if(i=o.stateNode,h=o.memoizedProps,x=null,S=Xs,S!==null)switch(S.tag){case 27:case 5:x=S.memoizedProps}i[pr]=o,i=!!(i.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||U5(i.nodeValue,h)),i||fl(o,!0)}else i=j0(i).createTextNode(x),i[pr]=o,o.stateNode=i}return Ei(o),null;case 31:if(h=o.memoizedState,i===null||i.memoizedState!==null){if(x=Ys(o),h!==null){if(i===null){if(!x)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[pr]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ei(o),i=!1}else h=Df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return o.flags&256?(Kr(o),o):(Kr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ei(o),null;case 13:if(x=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(S=Ys(o),x!==null&&x.dehydrated!==null){if(i===null){if(!S)throw Error(r(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[pr]=o}else Fl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ei(o),S=!1}else S=Df(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=S),S=!0;if(!S)return o.flags&256?(Kr(o),o):(Kr(o),null)}return Kr(o),(o.flags&128)!==0?(o.lanes=h,o):(h=x!==null,i=i!==null&&i.memoizedState!==null,h&&(x=o.child,S=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(S=x.alternate.memoizedState.cachePool.pool),I=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(I=x.memoizedState.cachePool.pool),I!==S&&(x.flags|=2048)),h!==i&&h&&(o.child.flags|=8192),_0(o,o.updateQueue),Ei(o),null);case 4:return Fe(),i===null&&jg(o.stateNode.containerInfo),Ei(o),null;case 10:return ao(o.type),Ei(o),null;case 19:if(q(Cr),x=o.memoizedState,x===null)return Ei(o),null;if(S=(o.flags&128)!==0,I=x.rendering,I===null)if(S)Hf(x,!1);else{if(os!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=ca(i),I!==null){for(o.flags|=128,Hf(x,!1),i=I.updateQueue,o.updateQueue=i,_0(o,i),o.subtreeFlags=0,i=h,h=o.child;h!==null;)Eu(h,i),h=h.sibling;return le(Cr,Cr.current&1|2),ur&&Ka(o,x.treeForkCount),o.child}i=i.sibling}x.tail!==null&&Ut()>N0&&(o.flags|=128,S=!0,Hf(x,!1),o.lanes=4194304)}else{if(!S)if(i=ca(I),i!==null){if(o.flags|=128,S=!0,i=i.updateQueue,o.updateQueue=i,_0(o,i),Hf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!I.alternate&&!ur)return Ei(o),null}else 2*Ut()-x.renderingStartTime>N0&&h!==536870912&&(o.flags|=128,S=!0,Hf(x,!1),o.lanes=4194304);x.isBackwards?(I.sibling=o.child,o.child=I):(i=x.last,i!==null?i.sibling=I:o.child=I,x.last=I)}return x.tail!==null?(i=x.tail,x.rendering=i,x.tail=i.sibling,x.renderingStartTime=Ut(),i.sibling=null,h=Cr.current,le(Cr,S?h&1|2:h&1),ur&&Ka(o,x.treeForkCount),i):(Ei(o),null);case 22:case 23:return Kr(o),ws(),x=o.memoizedState!==null,i!==null?i.memoizedState!==null!==x&&(o.flags|=8192):x&&(o.flags|=8192),x?(h&536870912)!==0&&(o.flags&128)===0&&(Ei(o),o.subtreeFlags&6&&(o.flags|=8192)):Ei(o),h=o.updateQueue,h!==null&&_0(o,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),x=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),x!==h&&(o.flags|=2048),i!==null&&q(se),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),ao(Hi),Ei(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function u6(i,o){switch(ph(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ao(Hi),Fe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Qe(o),null;case 31:if(o.memoizedState!==null){if(Kr(o),o.alternate===null)throw Error(r(340));Fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Kr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Fl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return q(Cr),null;case 4:return Fe(),null;case 10:return ao(o.type),null;case 22:case 23:return Kr(o),ws(),i!==null&&q(se),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ao(Hi),null;case 25:return null;default:return null}}function Gy(i,o){switch(ph(o),o.tag){case 3:ao(Hi),Fe();break;case 26:case 27:case 5:Qe(o);break;case 4:Fe();break;case 31:o.memoizedState!==null&&Kr(o);break;case 13:Kr(o);break;case 19:q(Cr);break;case 10:ao(o.type);break;case 22:case 23:Kr(o),ws(),i!==null&&q(se);break;case 24:ao(Hi)}}function Gf(i,o){try{var h=o.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var S=x.next;h=S;do{if((h.tag&i)===i){x=void 0;var I=h.create,z=h.inst;x=I(),z.destroy=x}h=h.next}while(h!==S)}}catch(ce){Qr(o,o.return,ce)}}function Dc(i,o,h){try{var x=o.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var I=S.next;x=I;do{if((x.tag&i)===i){var z=x.inst,ce=z.destroy;if(ce!==void 0){z.destroy=void 0,S=o;var ke=h,rt=ce;try{rt()}catch(yt){Qr(S,ke,yt)}}}x=x.next}while(x!==I)}}catch(yt){Qr(o,o.return,yt)}}function Wy(i){var o=i.updateQueue;if(o!==null){var h=i.stateNode;try{rs(o,h)}catch(x){Qr(i,i.return,x)}}}function Xy(i,o,h){h.props=Ou(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(x){Qr(i,o,x)}}function Wf(i,o){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var x=i.stateNode;break;case 30:x=i.stateNode;break;default:x=i.stateNode}typeof h=="function"?i.refCleanup=h(x):h.current=x}}catch(S){Qr(i,o,S)}}function wl(i,o){var h=i.ref,x=i.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(S){Qr(i,o,S)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Qr(i,o,S)}else h.current=null}function Yy(i){var o=i.type,h=i.memoizedProps,x=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(S){Qr(i,i.return,S)}}function mg(i,o,h){try{var x=i.stateNode;D6(x,i.type,h,o),x[Gn]=o}catch(S){Qr(i,i.return,S)}}function Ky(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Fc(i.type)||i.tag===4}function xg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Ky(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Fc(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yg(i,o,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(i),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=Is));else if(x!==4&&(x===27&&Fc(i.type)&&(h=i.stateNode,o=null),i=i.child,i!==null))for(yg(i,o,h),i=i.sibling;i!==null;)yg(i,o,h),i=i.sibling}function A0(i,o,h){var x=i.tag;if(x===5||x===6)i=i.stateNode,o?h.insertBefore(i,o):h.appendChild(i);else if(x!==4&&(x===27&&Fc(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(A0(i,o,h),i=i.sibling;i!==null;)A0(i,o,h),i=i.sibling}function Zy(i){var o=i.stateNode,h=i.memoizedProps;try{for(var x=i.type,S=o.attributes;S.length;)o.removeAttributeNode(S[0]);Ea(o,x,h),o[pr]=i,o[Gn]=h}catch(I){Qr(i,i.return,I)}}var Wl=!1,Bs=!1,vg=!1,Qy=typeof WeakSet=="function"?WeakSet:Set,ua=null;function h6(i,o){if(i=i.containerInfo,Ug=H0,i=J(i),ne(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var S=x.anchorOffset,I=x.focusNode;x=x.focusOffset;try{h.nodeType,I.nodeType}catch{h=null;break e}var z=0,ce=-1,ke=-1,rt=0,yt=0,Et=i,ot=null;t:for(;;){for(var ct;Et!==h||S!==0&&Et.nodeType!==3||(ce=z+S),Et!==I||x!==0&&Et.nodeType!==3||(ke=z+x),Et.nodeType===3&&(z+=Et.nodeValue.length),(ct=Et.firstChild)!==null;)ot=Et,Et=ct;for(;;){if(Et===i)break t;if(ot===h&&++rt===S&&(ce=z),ot===I&&++yt===x&&(ke=z),(ct=Et.nextSibling)!==null)break;Et=ot,ot=Et.parentNode}Et=ct}h=ce===-1||ke===-1?null:{start:ce,end:ke}}else h=null}h=h||{start:0,end:0}}else h=null;for(Vg={focusedElem:i,selectionRange:h},H0=!1,ua=o;ua!==null;)if(o=ua,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ua=i;else for(;ua!==null;){switch(o=ua,I=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)S=i[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&I!==null){i=void 0,h=o,S=I.memoizedProps,I=I.memoizedState,x=h.stateNode;try{var nn=Ou(h.type,S);i=x.getSnapshotBeforeUpdate(nn,I),x.__reactInternalSnapshotBeforeUpdate=i}catch(Ln){Qr(h,h.return,Ln)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,h=i.nodeType,h===9)Hg(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,ua=i;break}ua=o.return}}function Jy(i,o,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:Yl(i,h),x&4&&Gf(5,h);break;case 1:if(Yl(i,h),x&4)if(i=h.stateNode,o===null)try{i.componentDidMount()}catch(z){Qr(h,h.return,z)}else{var S=Ou(h.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(S,o,i.__reactInternalSnapshotBeforeUpdate)}catch(z){Qr(h,h.return,z)}}x&64&&Wy(h),x&512&&Wf(h,h.return);break;case 3:if(Yl(i,h),x&64&&(i=h.updateQueue,i!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{rs(i,o)}catch(z){Qr(h,h.return,z)}}break;case 27:o===null&&x&4&&Zy(h);case 26:case 5:Yl(i,h),o===null&&x&4&&Yy(h),x&512&&Wf(h,h.return);break;case 12:Yl(i,h);break;case 31:Yl(i,h),x&4&&t5(i,h);break;case 13:Yl(i,h),x&4&&n5(i,h),x&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=b6.bind(null,h),U6(i,h))));break;case 22:if(x=h.memoizedState!==null||Wl,!x){o=o!==null&&o.memoizedState!==null||Bs,S=Wl;var I=Bs;Wl=x,(Bs=o)&&!I?Kl(i,h,(h.subtreeFlags&8772)!==0):Yl(i,h),Wl=S,Bs=I}break;case 30:break;default:Yl(i,h)}}function $y(i){var o=i.alternate;o!==null&&(i.alternate=null,$y(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ii(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ki=null,lo=!1;function Xl(i,o,h){for(h=h.child;h!==null;)e5(i,o,h),h=h.sibling}function e5(i,o,h){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(en,h)}catch{}switch(h.tag){case 26:Bs||wl(h,o),Xl(i,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Bs||wl(h,o);var x=ki,S=lo;Fc(h.type)&&(ki=h.stateNode,lo=!1),Xl(i,o,h),td(h.stateNode),ki=x,lo=S;break;case 5:Bs||wl(h,o);case 6:if(x=ki,S=lo,ki=null,Xl(i,o,h),ki=x,lo=S,ki!==null)if(lo)try{(ki.nodeType===9?ki.body:ki.nodeName==="HTML"?ki.ownerDocument.body:ki).removeChild(h.stateNode)}catch(I){Qr(h,o,I)}else try{ki.removeChild(h.stateNode)}catch(I){Qr(h,o,I)}break;case 18:ki!==null&&(lo?(i=ki,W5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Fh(i)):W5(ki,h.stateNode));break;case 4:x=ki,S=lo,ki=h.stateNode.containerInfo,lo=!0,Xl(i,o,h),ki=x,lo=S;break;case 0:case 11:case 14:case 15:Dc(2,h,o),Bs||Dc(4,h,o),Xl(i,o,h);break;case 1:Bs||(wl(h,o),x=h.stateNode,typeof x.componentWillUnmount=="function"&&Xy(h,o,x)),Xl(i,o,h);break;case 21:Xl(i,o,h);break;case 22:Bs=(x=Bs)||h.memoizedState!==null,Xl(i,o,h),Bs=x;break;default:Xl(i,o,h)}}function t5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fh(i)}catch(h){Qr(o,o.return,h)}}}function n5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fh(i)}catch(h){Qr(o,o.return,h)}}function f6(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Qy),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Qy),o;default:throw Error(r(435,i.tag))}}function E0(i,o){var h=f6(i);o.forEach(function(x){if(!h.has(x)){h.add(x);var S=w6.bind(null,i,x);x.then(S,S)}})}function co(i,o){var h=o.deletions;if(h!==null)for(var x=0;x<h.length;x++){var S=h[x],I=i,z=o,ce=z;e:for(;ce!==null;){switch(ce.tag){case 27:if(Fc(ce.type)){ki=ce.stateNode,lo=!1;break e}break;case 5:ki=ce.stateNode,lo=!1;break e;case 3:case 4:ki=ce.stateNode.containerInfo,lo=!0;break e}ce=ce.return}if(ki===null)throw Error(r(160));e5(I,z,S),ki=null,lo=!1,I=S.alternate,I!==null&&(I.return=null),S.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)r5(o,i),o=o.sibling}var Jo=null;function r5(i,o){var h=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:co(o,i),uo(i),x&4&&(Dc(3,i,i.return),Gf(3,i),Dc(5,i,i.return));break;case 1:co(o,i),uo(i),x&512&&(Bs||h===null||wl(h,h.return)),x&64&&Wl&&(i=i.updateQueue,i!==null&&(x=i.callbacks,x!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var S=Jo;if(co(o,i),uo(i),x&512&&(Bs||h===null||wl(h,h.return)),x&4){var I=h!==null?h.memoizedState:null;if(x=i.memoizedState,h===null)if(x===null)if(i.stateNode===null){e:{x=i.type,h=i.memoizedProps,S=S.ownerDocument||S;t:switch(x){case"title":I=S.getElementsByTagName("title")[0],(!I||I[Cs]||I[pr]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=S.createElement(x),S.head.insertBefore(I,S.querySelector("head > title"))),Ea(I,x,h),I[pr]=i,Xr(I),x=I;break e;case"link":var z=rv("link","href",S).get(x+(h.href||""));if(z){for(var ce=0;ce<z.length;ce++)if(I=z[ce],I.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&I.getAttribute("rel")===(h.rel==null?null:h.rel)&&I.getAttribute("title")===(h.title==null?null:h.title)&&I.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){z.splice(ce,1);break t}}I=S.createElement(x),Ea(I,x,h),S.head.appendChild(I);break;case"meta":if(z=rv("meta","content",S).get(x+(h.content||""))){for(ce=0;ce<z.length;ce++)if(I=z[ce],I.getAttribute("content")===(h.content==null?null:""+h.content)&&I.getAttribute("name")===(h.name==null?null:h.name)&&I.getAttribute("property")===(h.property==null?null:h.property)&&I.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&I.getAttribute("charset")===(h.charSet==null?null:h.charSet)){z.splice(ce,1);break t}}I=S.createElement(x),Ea(I,x,h),S.head.appendChild(I);break;default:throw Error(r(468,x))}I[pr]=i,Xr(I),x=I}i.stateNode=x}else iv(S,i.type,i.stateNode);else i.stateNode=nv(S,x,i.memoizedProps);else I!==x?(I===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):I.count--,x===null?iv(S,i.type,i.stateNode):nv(S,x,i.memoizedProps)):x===null&&i.stateNode!==null&&mg(i,i.memoizedProps,h.memoizedProps)}break;case 27:co(o,i),uo(i),x&512&&(Bs||h===null||wl(h,h.return)),h!==null&&x&4&&mg(i,i.memoizedProps,h.memoizedProps);break;case 5:if(co(o,i),uo(i),x&512&&(Bs||h===null||wl(h,h.return)),i.flags&32){S=i.stateNode;try{Ui(S,"")}catch(nn){Qr(i,i.return,nn)}}x&4&&i.stateNode!=null&&(S=i.memoizedProps,mg(i,S,h!==null?h.memoizedProps:S)),x&1024&&(vg=!0);break;case 6:if(co(o,i),uo(i),x&4){if(i.stateNode===null)throw Error(r(162));x=i.memoizedProps,h=i.stateNode;try{h.nodeValue=x}catch(nn){Qr(i,i.return,nn)}}break;case 3:if(U0=null,S=Jo,Jo=B0(o.containerInfo),co(o,i),Jo=S,uo(i),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Fh(o.containerInfo)}catch(nn){Qr(i,i.return,nn)}vg&&(vg=!1,i5(i));break;case 4:x=Jo,Jo=B0(i.stateNode.containerInfo),co(o,i),uo(i),Jo=x;break;case 12:co(o,i),uo(i);break;case 31:co(o,i),uo(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,E0(i,x)));break;case 13:co(o,i),uo(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(C0=Ut()),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,E0(i,x)));break;case 22:S=i.memoizedState!==null;var ke=h!==null&&h.memoizedState!==null,rt=Wl,yt=Bs;if(Wl=rt||S,Bs=yt||ke,co(o,i),Bs=yt,Wl=rt,uo(i),x&8192)e:for(o=i.stateNode,o._visibility=S?o._visibility&-2:o._visibility|1,S&&(h===null||ke||Wl||Bs||Du(i)),h=null,o=i;;){if(o.tag===5||o.tag===26){if(h===null){ke=h=o;try{if(I=ke.stateNode,S)z=I.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{ce=ke.stateNode;var Et=ke.memoizedProps.style,ot=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;ce.style.display=ot==null||typeof ot=="boolean"?"":(""+ot).trim()}}catch(nn){Qr(ke,ke.return,nn)}}}else if(o.tag===6){if(h===null){ke=o;try{ke.stateNode.nodeValue=S?"":ke.memoizedProps}catch(nn){Qr(ke,ke.return,nn)}}}else if(o.tag===18){if(h===null){ke=o;try{var ct=ke.stateNode;S?X5(ct,!0):X5(ke.stateNode,!1)}catch(nn){Qr(ke,ke.return,nn)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}x&4&&(x=i.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,E0(i,h))));break;case 19:co(o,i),uo(i),x&4&&(x=i.updateQueue,x!==null&&(i.updateQueue=null,E0(i,x)));break;case 30:break;case 21:break;default:co(o,i),uo(i)}}function uo(i){var o=i.flags;if(o&2){try{for(var h,x=i.return;x!==null;){if(Ky(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var S=h.stateNode,I=xg(i);A0(i,I,S);break;case 5:var z=h.stateNode;h.flags&32&&(Ui(z,""),h.flags&=-33);var ce=xg(i);A0(i,ce,z);break;case 3:case 4:var ke=h.stateNode.containerInfo,rt=xg(i);yg(i,rt,ke);break;default:throw Error(r(161))}}catch(yt){Qr(i,i.return,yt)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function i5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;i5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Yl(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Jy(i,o.alternate,o),o=o.sibling}function Du(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Dc(4,o,o.return),Du(o);break;case 1:wl(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&Xy(o,o.return,h),Du(o);break;case 27:td(o.stateNode);case 26:case 5:wl(o,o.return),Du(o);break;case 22:o.memoizedState===null&&Du(o);break;case 30:Du(o);break;default:Du(o)}i=i.sibling}}function Kl(i,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var x=o.alternate,S=i,I=o,z=I.flags;switch(I.tag){case 0:case 11:case 15:Kl(S,I,h),Gf(4,I);break;case 1:if(Kl(S,I,h),x=I,S=x.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(rt){Qr(x,x.return,rt)}if(x=I,S=x.updateQueue,S!==null){var ce=x.stateNode;try{var ke=S.shared.hiddenCallbacks;if(ke!==null)for(S.shared.hiddenCallbacks=null,S=0;S<ke.length;S++)la(ke[S],ce)}catch(rt){Qr(x,x.return,rt)}}h&&z&64&&Wy(I),Wf(I,I.return);break;case 27:Zy(I);case 26:case 5:Kl(S,I,h),h&&x===null&&z&4&&Yy(I),Wf(I,I.return);break;case 12:Kl(S,I,h);break;case 31:Kl(S,I,h),h&&z&4&&t5(S,I);break;case 13:Kl(S,I,h),h&&z&4&&n5(S,I);break;case 22:I.memoizedState===null&&Kl(S,I,h),Wf(I,I.return);break;case 30:break;default:Kl(S,I,h)}o=o.sibling}}function bg(i,o){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&Nu(h))}function wg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i))}function $o(i,o,h,x){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)s5(i,o,h,x),o=o.sibling}function s5(i,o,h,x){var S=o.flags;switch(o.tag){case 0:case 11:case 15:$o(i,o,h,x),S&2048&&Gf(9,o);break;case 1:$o(i,o,h,x);break;case 3:$o(i,o,h,x),S&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i)));break;case 12:if(S&2048){$o(i,o,h,x),i=o.stateNode;try{var I=o.memoizedProps,z=I.id,ce=I.onPostCommit;typeof ce=="function"&&ce(z,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ke){Qr(o,o.return,ke)}}else $o(i,o,h,x);break;case 31:$o(i,o,h,x);break;case 13:$o(i,o,h,x);break;case 23:break;case 22:I=o.stateNode,z=o.alternate,o.memoizedState!==null?I._visibility&2?$o(i,o,h,x):Xf(i,o):I._visibility&2?$o(i,o,h,x):(I._visibility|=2,Th(i,o,h,x,(o.subtreeFlags&10256)!==0||!1)),S&2048&&bg(z,o);break;case 24:$o(i,o,h,x),S&2048&&wg(o.alternate,o);break;default:$o(i,o,h,x)}}function Th(i,o,h,x,S){for(S=S&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var I=i,z=o,ce=h,ke=x,rt=z.flags;switch(z.tag){case 0:case 11:case 15:Th(I,z,ce,ke,S),Gf(8,z);break;case 23:break;case 22:var yt=z.stateNode;z.memoizedState!==null?yt._visibility&2?Th(I,z,ce,ke,S):Xf(I,z):(yt._visibility|=2,Th(I,z,ce,ke,S)),S&&rt&2048&&bg(z.alternate,z);break;case 24:Th(I,z,ce,ke,S),S&&rt&2048&&wg(z.alternate,z);break;default:Th(I,z,ce,ke,S)}o=o.sibling}}function Xf(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=i,x=o,S=x.flags;switch(x.tag){case 22:Xf(h,x),S&2048&&bg(x.alternate,x);break;case 24:Xf(h,x),S&2048&&wg(x.alternate,x);break;default:Xf(h,x)}o=o.sibling}}var Yf=8192;function Ih(i,o,h){if(i.subtreeFlags&Yf)for(i=i.child;i!==null;)a5(i,o,h),i=i.sibling}function a5(i,o,h){switch(i.tag){case 26:Ih(i,o,h),i.flags&Yf&&i.memoizedState!==null&&J6(h,Jo,i.memoizedState,i.memoizedProps);break;case 5:Ih(i,o,h);break;case 3:case 4:var x=Jo;Jo=B0(i.stateNode.containerInfo),Ih(i,o,h),Jo=x;break;case 22:i.memoizedState===null&&(x=i.alternate,x!==null&&x.memoizedState!==null?(x=Yf,Yf=16777216,Ih(i,o,h),Yf=x):Ih(i,o,h));break;default:Ih(i,o,h)}}function o5(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Kf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var x=o[h];ua=x,c5(x,i)}o5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l5(i),i=i.sibling}function l5(i){switch(i.tag){case 0:case 11:case 15:Kf(i),i.flags&2048&&Dc(9,i,i.return);break;case 3:Kf(i);break;case 12:Kf(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,S0(i)):Kf(i);break;default:Kf(i)}}function S0(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var x=o[h];ua=x,c5(x,i)}o5(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Dc(8,o,o.return),S0(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,S0(o));break;default:S0(o)}i=i.sibling}}function c5(i,o){for(;ua!==null;){var h=ua;switch(h.tag){case 0:case 11:case 15:Dc(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Nu(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,ua=x;else e:for(h=i;ua!==null;){x=ua;var S=x.sibling,I=x.return;if($y(x),x===h){ua=null;break e}if(S!==null){S.return=I,ua=S;break e}ua=I}}}var d6={getCacheForType:function(i){var o=Ks(Hi),h=o.data.get(i);return h===void 0&&(h=i(),o.data.set(i,h)),h},cacheSignal:function(){return Ks(Hi).controller.signal}},p6=typeof WeakMap=="function"?WeakMap:Map,Hr=0,fi=null,hr=null,yr=0,Zr=0,Ao=null,Lc=!1,Rh=!1,_g=!1,Zl=0,os=0,kc=0,Lu=0,Ag=0,Eo=0,Oh=0,Zf=null,ho=null,Eg=!1,C0=0,u5=0,N0=1/0,T0=null,Mc=null,Qs=0,Pc=null,Dh=null,Ql=0,Sg=0,Cg=null,h5=null,Qf=0,Ng=null;function So(){return(Hr&2)!==0&&yr!==0?yr&-yr:_e.T!==null?Lg():Ar()}function f5(){if(Eo===0)if((yr&536870912)===0||ur){var i=rn;rn<<=1,(rn&3932160)===0&&(rn=262144),Eo=i}else Eo=536870912;return i=Ai.current,i!==null&&(i.flags|=32),Eo}function fo(i,o,h){(i===fi&&(Zr===2||Zr===9)||i.cancelPendingCommit!==null)&&(Lh(i,0),jc(i,yr,Eo,!1)),ln(i,h),((Hr&2)===0||i!==fi)&&(i===fi&&((Hr&2)===0&&(Lu|=h),os===4&&jc(i,yr,Eo,!1)),_l(i))}function d5(i,o,h){if((Hr&6)!==0)throw Error(r(327));var x=!h&&(o&127)===0&&(o&i.expiredLanes)===0||Br(i,o),S=x?x6(i,o):Ig(i,o,!0),I=x;do{if(S===0){Rh&&!x&&jc(i,o,0,!1);break}else{if(h=i.current.alternate,I&&!g6(h)){S=Ig(i,o,!1),I=!1;continue}if(S===2){if(I=o,i.errorRecoveryDisabledLanes&I)var z=0;else z=i.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){o=z;e:{var ce=i;S=Zf;var ke=ce.current.memoizedState.isDehydrated;if(ke&&(Lh(ce,z).flags|=256),z=Ig(ce,z,!1),z!==2){if(_g&&!ke){ce.errorRecoveryDisabledLanes|=I,Lu|=I,S=4;break e}I=ho,ho=S,I!==null&&(ho===null?ho=I:ho.push.apply(ho,I))}S=z}if(I=!1,S!==2)continue}}if(S===1){Lh(i,0),jc(i,o,0,!0);break}e:{switch(x=i,I=S,I){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:jc(x,o,Eo,!Lc);break e;case 2:ho=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(S=C0+300-Ut(),10<S)){if(jc(x,o,Eo,!Lc),Hn(x,0,!0)!==0)break e;Ql=o,x.timeoutHandle=H5(p5.bind(null,x,h,ho,T0,Eg,o,Eo,Lu,Oh,Lc,I,"Throttled",-0,0),S);break e}p5(x,h,ho,T0,Eg,o,Eo,Lu,Oh,Lc,I,null,-0,0)}}break}while(!0);_l(i)}function p5(i,o,h,x,S,I,z,ce,ke,rt,yt,Et,ot,ct){if(i.timeoutHandle=-1,Et=o.subtreeFlags,Et&8192||(Et&16785408)===16785408){Et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Is},a5(o,I,Et);var nn=(I&62914560)===I?C0-Ut():(I&4194048)===I?u5-Ut():0;if(nn=$6(Et,nn),nn!==null){Ql=I,i.cancelPendingCommit=nn(_5.bind(null,i,o,I,h,x,S,z,ce,ke,yt,Et,null,ot,ct)),jc(i,I,z,!rt);return}}_5(i,o,I,h,x,S,z,ce,ke)}function g6(i){for(var o=i;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var S=h[x],I=S.getSnapshot;S=S.value;try{if(!v(I(),S))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function jc(i,o,h,x){o&=~Ag,o&=~Lu,i.suspendedLanes|=o,i.pingedLanes&=~o,x&&(i.warmLanes|=o),x=i.expirationTimes;for(var S=o;0<S;){var I=31-qt(S),z=1<<I;x[I]=-1,S&=~z}h!==0&&zs(i,h,o)}function I0(){return(Hr&6)===0?(Jf(0),!1):!0}function Tg(){if(hr!==null){if(Zr===0)var i=hr.return;else i=hr,Lo=dl=null,wh(i),Ct=null,an=0,i=hr;for(;i!==null;)Gy(i.alternate,i),i=i.return;hr=null}}function Lh(i,o){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,M6(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),Ql=0,Tg(),fi=i,hr=h=eo(i.current,null),yr=o,Zr=0,Ao=null,Lc=!1,Rh=Br(i,o),_g=!1,Oh=Eo=Ag=Lu=kc=os=0,ho=Zf=null,Eg=!1,(o&8)!==0&&(o|=o&32);var x=i.entangledLanes;if(x!==0)for(i=i.entanglements,x&=o;0<x;){var S=31-qt(x),I=1<<S;o|=i[S],x&=~I}return Zl=o,wu(),h}function g5(i,o){En=null,_e.H=zf,o===Be||o===Ee?(o=bt(),Zr=3):o===tt?(o=bt(),Zr=4):Zr=o===ag?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ao=o,hr===null&&(os=1,y0(i,to(o,i.current)))}function m5(){var i=Ai.current;return i===null?!0:(yr&4194048)===yr?Rr===null:(yr&62914560)===yr||(yr&536870912)!==0?i===Rr:!1}function x5(){var i=_e.H;return _e.H=zf,i===null?zf:i}function y5(){var i=_e.A;return _e.A=d6,i}function R0(){os=4,Lc||(yr&4194048)!==yr&&Ai.current!==null||(Rh=!0),(kc&134217727)===0&&(Lu&134217727)===0||fi===null||jc(fi,yr,Eo,!1)}function Ig(i,o,h){var x=Hr;Hr|=2;var S=x5(),I=y5();(fi!==i||yr!==o)&&(T0=null,Lh(i,o)),o=!1;var z=os;e:do try{if(Zr!==0&&hr!==null){var ce=hr,ke=Ao;switch(Zr){case 8:Tg(),z=6;break e;case 3:case 2:case 9:case 6:Ai.current===null&&(o=!0);var rt=Zr;if(Zr=0,Ao=null,kh(i,ce,ke,rt),h&&Rh){z=0;break e}break;default:rt=Zr,Zr=0,Ao=null,kh(i,ce,ke,rt)}}m6(),z=os;break}catch(yt){g5(i,yt)}while(!0);return o&&i.shellSuspendCounter++,Lo=dl=null,Hr=x,_e.H=S,_e.A=I,hr===null&&(fi=null,yr=0,wu()),z}function m6(){for(;hr!==null;)v5(hr)}function x6(i,o){var h=Hr;Hr|=2;var x=x5(),S=y5();fi!==i||yr!==o?(T0=null,N0=Ut()+500,Lh(i,o)):Rh=Br(i,o);e:do try{if(Zr!==0&&hr!==null){o=hr;var I=Ao;t:switch(Zr){case 1:Zr=0,Ao=null,kh(i,o,I,1);break;case 2:case 9:if(Je(I)){Zr=0,Ao=null,b5(o);break}o=function(){Zr!==2&&Zr!==9||fi!==i||(Zr=7),_l(i)},I.then(o,o);break e;case 3:Zr=7;break e;case 4:Zr=5;break e;case 7:Je(I)?(Zr=0,Ao=null,b5(o)):(Zr=0,Ao=null,kh(i,o,I,7));break;case 5:var z=null;switch(hr.tag){case 26:z=hr.memoizedState;case 5:case 27:var ce=hr;if(z?sv(z):ce.stateNode.complete){Zr=0,Ao=null;var ke=ce.sibling;if(ke!==null)hr=ke;else{var rt=ce.return;rt!==null?(hr=rt,O0(rt)):hr=null}break t}}Zr=0,Ao=null,kh(i,o,I,5);break;case 6:Zr=0,Ao=null,kh(i,o,I,6);break;case 8:Tg(),os=6;break e;default:throw Error(r(462))}}y6();break}catch(yt){g5(i,yt)}while(!0);return Lo=dl=null,_e.H=x,_e.A=S,Hr=h,hr!==null?0:(fi=null,yr=0,wu(),os)}function y6(){for(;hr!==null&&!Dt();)v5(hr)}function v5(i){var o=qy(i.alternate,i,Zl);i.memoizedProps=i.pendingProps,o===null?O0(i):hr=o}function b5(i){var o=i,h=o.alternate;switch(o.tag){case 15:case 0:o=jy(h,o,o.pendingProps,o.type,void 0,yr);break;case 11:o=jy(h,o,o.pendingProps,o.type.render,o.ref,yr);break;case 5:wh(o);default:Gy(h,o),o=hr=Eu(o,Zl),o=qy(h,o,Zl)}i.memoizedProps=i.pendingProps,o===null?O0(i):hr=o}function kh(i,o,h,x){Lo=dl=null,wh(o),Ct=null,an=0;var S=o.return;try{if(a6(i,S,o,h,yr)){os=1,y0(i,to(h,i.current)),hr=null;return}}catch(I){if(S!==null)throw hr=S,I;os=1,y0(i,to(h,i.current)),hr=null;return}o.flags&32768?(ur||x===1?i=!0:Rh||(yr&536870912)!==0?i=!1:(Lc=i=!0,(x===2||x===9||x===3||x===6)&&(x=Ai.current,x!==null&&x.tag===13&&(x.flags|=16384))),w5(o,i)):O0(o)}function O0(i){var o=i;do{if((o.flags&32768)!==0){w5(o,Lc);return}i=o.return;var h=c6(o.alternate,o,Zl);if(h!==null){hr=h;return}if(o=o.sibling,o!==null){hr=o;return}hr=o=i}while(o!==null);os===0&&(os=5)}function w5(i,o){do{var h=u6(i.alternate,i);if(h!==null){h.flags&=32767,hr=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(i=i.sibling,i!==null)){hr=i;return}hr=i=h}while(i!==null);os=6,hr=null}function _5(i,o,h,x,S,I,z,ce,ke){i.cancelPendingCommit=null;do D0();while(Qs!==0);if((Hr&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(I=o.lanes|o.childLanes,I|=oh,Ti(i,h,I,z,ce,ke),i===fi&&(hr=fi=null,yr=0),Dh=o,Pc=i,Ql=h,Sg=I,Cg=S,h5=x,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,_6(gn,function(){return N5(),null})):(i.callbackNode=null,i.callbackPriority=0),x=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||x){x=_e.T,_e.T=null,S=Te.p,Te.p=2,z=Hr,Hr|=4;try{h6(i,o,h)}finally{Hr=z,Te.p=S,_e.T=x}}Qs=1,A5(),E5(),S5()}}function A5(){if(Qs===1){Qs=0;var i=Pc,o=Dh,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=_e.T,_e.T=null;var x=Te.p;Te.p=2;var S=Hr;Hr|=4;try{r5(o,i);var I=Vg,z=J(i.containerInfo),ce=I.focusedElem,ke=I.selectionRange;if(z!==ce&&ce&&ce.ownerDocument&&B(ce.ownerDocument.documentElement,ce)){if(ke!==null&&ne(ce)){var rt=ke.start,yt=ke.end;if(yt===void 0&&(yt=rt),"selectionStart"in ce)ce.selectionStart=rt,ce.selectionEnd=Math.min(yt,ce.value.length);else{var Et=ce.ownerDocument||document,ot=Et&&Et.defaultView||window;if(ot.getSelection){var ct=ot.getSelection(),nn=ce.textContent.length,Ln=Math.min(ke.start,nn),li=ke.end===void 0?Ln:Math.min(ke.end,nn);!ct.extend&&Ln>li&&(z=li,li=Ln,Ln=z);var Ze=D(ce,Ln),Ve=D(ce,li);if(Ze&&Ve&&(ct.rangeCount!==1||ct.anchorNode!==Ze.node||ct.anchorOffset!==Ze.offset||ct.focusNode!==Ve.node||ct.focusOffset!==Ve.offset)){var nt=Et.createRange();nt.setStart(Ze.node,Ze.offset),ct.removeAllRanges(),Ln>li?(ct.addRange(nt),ct.extend(Ve.node,Ve.offset)):(nt.setEnd(Ve.node,Ve.offset),ct.addRange(nt))}}}}for(Et=[],ct=ce;ct=ct.parentNode;)ct.nodeType===1&&Et.push({element:ct,left:ct.scrollLeft,top:ct.scrollTop});for(typeof ce.focus=="function"&&ce.focus(),ce=0;ce<Et.length;ce++){var wt=Et[ce];wt.element.scrollLeft=wt.left,wt.element.scrollTop=wt.top}}H0=!!Ug,Vg=Ug=null}finally{Hr=S,Te.p=x,_e.T=h}}i.current=o,Qs=2}}function E5(){if(Qs===2){Qs=0;var i=Pc,o=Dh,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=_e.T,_e.T=null;var x=Te.p;Te.p=2;var S=Hr;Hr|=4;try{Jy(i,o.alternate,o)}finally{Hr=S,Te.p=x,_e.T=h}}Qs=3}}function S5(){if(Qs===4||Qs===3){Qs=0,kt();var i=Pc,o=Dh,h=Ql,x=h5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Qs=5:(Qs=0,Dh=Pc=null,C5(i,i.pendingLanes));var S=i.pendingLanes;if(S===0&&(Mc=null),dr(h),o=o.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(en,o,void 0,(o.current.flags&128)===128)}catch{}if(x!==null){o=_e.T,S=Te.p,Te.p=2,_e.T=null;try{for(var I=i.onRecoverableError,z=0;z<x.length;z++){var ce=x[z];I(ce.value,{componentStack:ce.stack})}}finally{_e.T=o,Te.p=S}}(Ql&3)!==0&&D0(),_l(i),S=i.pendingLanes,(h&261930)!==0&&(S&42)!==0?i===Ng?Qf++:(Qf=0,Ng=i):Qf=0,Jf(0)}}function C5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nu(o)))}function D0(){return A5(),E5(),S5(),N5()}function N5(){if(Qs!==5)return!1;var i=Pc,o=Sg;Sg=0;var h=dr(Ql),x=_e.T,S=Te.p;try{Te.p=32>h?32:h,_e.T=null,h=Cg,Cg=null;var I=Pc,z=Ql;if(Qs=0,Dh=Pc=null,Ql=0,(Hr&6)!==0)throw Error(r(331));var ce=Hr;if(Hr|=4,l5(I.current),s5(I,I.current,z,h),Hr=ce,Jf(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(en,I)}catch{}return!0}finally{Te.p=S,_e.T=x,C5(i,o)}}function T5(i,o,h){o=to(h,o),o=sg(i.stateNode,o,2),i=er(i,o,2),i!==null&&(ln(i,2),_l(i))}function Qr(i,o,h){if(i.tag===3)T5(i,i,h);else for(;o!==null;){if(o.tag===3){T5(o,i,h);break}else if(o.tag===1){var x=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Mc===null||!Mc.has(x))){i=to(h,i),h=Iy(2),x=er(o,h,2),x!==null&&(Ry(h,x,o,i),ln(x,2),_l(x));break}}o=o.return}}function Rg(i,o,h){var x=i.pingCache;if(x===null){x=i.pingCache=new p6;var S=new Set;x.set(o,S)}else S=x.get(o),S===void 0&&(S=new Set,x.set(o,S));S.has(h)||(_g=!0,S.add(h),i=v6.bind(null,i,o,h),o.then(i,i))}function v6(i,o,h){var x=i.pingCache;x!==null&&x.delete(o),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,fi===i&&(yr&h)===h&&(os===4||os===3&&(yr&62914560)===yr&&300>Ut()-C0?(Hr&2)===0&&Lh(i,0):Ag|=h,Oh===yr&&(Oh=0)),_l(i)}function I5(i,o){o===0&&(o=Fr()),i=Wo(i,o),i!==null&&(ln(i,o),_l(i))}function b6(i){var o=i.memoizedState,h=0;o!==null&&(h=o.retryLane),I5(i,h)}function w6(i,o){var h=0;switch(i.tag){case 31:case 13:var x=i.stateNode,S=i.memoizedState;S!==null&&(h=S.retryLane);break;case 19:x=i.stateNode;break;case 22:x=i.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(o),I5(i,h)}function _6(i,o){return ht(i,o)}var L0=null,Mh=null,Og=!1,k0=!1,Dg=!1,Bc=0;function _l(i){i!==Mh&&i.next===null&&(Mh===null?L0=Mh=i:Mh=Mh.next=i),k0=!0,Og||(Og=!0,E6())}function Jf(i,o){if(!Dg&&k0){Dg=!0;do for(var h=!1,x=L0;x!==null;){if(i!==0){var S=x.pendingLanes;if(S===0)var I=0;else{var z=x.suspendedLanes,ce=x.pingedLanes;I=(1<<31-qt(42|i)+1)-1,I&=S&~(z&~ce),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(h=!0,L5(x,I))}else I=yr,I=Hn(x,x===fi?I:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(I&3)===0||Br(x,I)||(h=!0,L5(x,I));x=x.next}while(h);Dg=!1}}function A6(){R5()}function R5(){k0=Og=!1;var i=0;Bc!==0&&k6()&&(i=Bc);for(var o=Ut(),h=null,x=L0;x!==null;){var S=x.next,I=O5(x,o);I===0?(x.next=null,h===null?L0=S:h.next=S,S===null&&(Mh=h)):(h=x,(i!==0||(I&3)!==0)&&(k0=!0)),x=S}Qs!==0&&Qs!==5||Jf(i),Bc!==0&&(Bc=0)}function O5(i,o){for(var h=i.suspendedLanes,x=i.pingedLanes,S=i.expirationTimes,I=i.pendingLanes&-62914561;0<I;){var z=31-qt(I),ce=1<<z,ke=S[z];ke===-1?((ce&h)===0||(ce&x)!==0)&&(S[z]=Ni(ce,o)):ke<=o&&(i.expiredLanes|=ce),I&=~ce}if(o=fi,h=yr,h=Hn(i,i===o?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x=i.callbackNode,h===0||i===o&&(Zr===2||Zr===9)||i.cancelPendingCommit!==null)return x!==null&&x!==null&&Ye(x),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||Br(i,h)){if(o=h&-h,o===i.callbackPriority)return o;switch(x!==null&&Ye(x),dr(h)){case 2:case 8:h=pn;break;case 32:h=gn;break;case 268435456:h=kn;break;default:h=gn}return x=D5.bind(null,i),h=ht(h,x),i.callbackPriority=o,i.callbackNode=h,o}return x!==null&&x!==null&&Ye(x),i.callbackPriority=2,i.callbackNode=null,2}function D5(i,o){if(Qs!==0&&Qs!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(D0()&&i.callbackNode!==h)return null;var x=yr;return x=Hn(i,i===fi?x:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),x===0?null:(d5(i,x,o),O5(i,Ut()),i.callbackNode!=null&&i.callbackNode===h?D5.bind(null,i):null)}function L5(i,o){if(D0())return null;d5(i,o,!0)}function E6(){P6(function(){(Hr&6)!==0?ht(Kt,A6):R5()})}function Lg(){if(Bc===0){var i=_;i===0&&(i=An,An<<=1,(An&261888)===0&&(An=256)),Bc=i}return Bc}function k5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$i(""+i)}function M5(i,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,i.id&&h.setAttribute("form",i.id),o.parentNode.insertBefore(h,o),i=new FormData(i),h.parentNode.removeChild(h),i}function S6(i,o,h,x,S){if(o==="submit"&&h&&h.stateNode===S){var I=k5((S[Gn]||null).action),z=x.submitter;z&&(o=(o=z[Gn]||null)?k5(o.formAction):z.getAttribute("formAction"),o!==null&&(I=o,z=null));var ce=new Er("action","action",null,x,S);i.push({event:ce,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Bc!==0){var ke=z?M5(S,z):new FormData(S);$p(h,{pending:!0,data:ke,method:S.method,action:I},null,ke)}}else typeof I=="function"&&(ce.preventDefault(),ke=z?M5(S,z):new FormData(S),$p(h,{pending:!0,data:ke,method:S.method,action:I},I,ke))},currentTarget:S}]})}}for(var kg=0;kg<Go.length;kg++){var Mg=Go[kg],C6=Mg.toLowerCase(),N6=Mg[0].toUpperCase()+Mg.slice(1);$a(C6,"on"+N6)}$a(vs,"onAnimationEnd"),$a(es,"onAnimationIteration"),$a(kr,"onAnimationStart"),$a("dblclick","onDoubleClick"),$a("focusin","onFocus"),$a("focusout","onBlur"),$a(ts,"onTransitionRun"),$a(sa,"onTransitionStart"),$a(Ho,"onTransitionCancel"),$a(Do,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($f));function P5(i,o){o=(o&4)!==0;for(var h=0;h<i.length;h++){var x=i[h],S=x.event;x=x.listeners;e:{var I=void 0;if(o)for(var z=x.length-1;0<=z;z--){var ce=x[z],ke=ce.instance,rt=ce.currentTarget;if(ce=ce.listener,ke!==I&&S.isPropagationStopped())break e;I=ce,S.currentTarget=rt;try{I(S)}catch(yt){bu(yt)}S.currentTarget=null,I=ke}else for(z=0;z<x.length;z++){if(ce=x[z],ke=ce.instance,rt=ce.currentTarget,ce=ce.listener,ke!==I&&S.isPropagationStopped())break e;I=ce,S.currentTarget=rt;try{I(S)}catch(yt){bu(yt)}S.currentTarget=null,I=ke}}}}function fr(i,o){var h=o[Bi];h===void 0&&(h=o[Bi]=new Set);var x=i+"__bubble";h.has(x)||(j5(o,i,2,!1),h.add(x))}function Pg(i,o,h){var x=0;o&&(x|=4),j5(h,i,x,o)}var M0="_reactListening"+Math.random().toString(36).slice(2);function jg(i){if(!i[M0]){i[M0]=!0,At.forEach(function(h){h!=="selectionchange"&&(T6.has(h)||Pg(h,!1,i),Pg(h,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[M0]||(o[M0]=!0,Pg("selectionchange",!1,o))}}function j5(i,o,h,x){switch(fv(o)){case 2:var S=n8;break;case 8:S=r8;break;default:S=Jg}h=S.bind(null,o,h,i),S=void 0,!bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),x?S!==void 0?i.addEventListener(o,h,{capture:!0,passive:S}):i.addEventListener(o,h,!0):S!==void 0?i.addEventListener(o,h,{passive:S}):i.addEventListener(o,h,!1)}function Bg(i,o,h,x,S){var I=x;if((o&1)===0&&(o&2)===0&&x!==null)e:for(;;){if(x===null)return;var z=x.tag;if(z===3||z===4){var ce=x.stateNode.containerInfo;if(ce===S)break;if(z===4)for(z=x.return;z!==null;){var ke=z.tag;if((ke===3||ke===4)&&z.stateNode.containerInfo===S)return;z=z.return}for(;ce!==null;){if(z=Lr(ce),z===null)return;if(ke=z.tag,ke===5||ke===6||ke===26||ke===27){x=I=z;continue e}ce=ce.parentNode}}x=x.return}Qa(function(){var rt=I,yt=Rs(h),Et=[];e:{var ot=vu.get(i);if(ot!==void 0){var ct=Er,nn=i;switch(i){case"keypress":if(Vi(h)===0)break e;case"keydown":case"keyup":ct=$n;break;case"focusin":nn="focus",ct=va;break;case"focusout":nn="blur",ct=va;break;case"beforeblur":case"afterblur":ct=va;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Gs;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=M;break;case vs:case es:case kr:ct=O;break;case Do:ct=he;break;case"scroll":case"scrollend":ct=Ga;break;case"wheel":ct=it;break;case"copy":case"cut":case"paste":ct=we;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=_n;break;case"toggle":case"beforetoggle":ct=Rn}var Ln=(o&4)!==0,li=!Ln&&(i==="scroll"||i==="scrollend"),Ze=Ln?ot!==null?ot+"Capture":null:ot;Ln=[];for(var Ve=rt,nt;Ve!==null;){var wt=Ve;if(nt=wt.stateNode,wt=wt.tag,wt!==5&&wt!==26&&wt!==27||nt===null||Ze===null||(wt=hn(Ve,Ze),wt!=null&&Ln.push(ed(Ve,wt,nt))),li)break;Ve=Ve.return}0<Ln.length&&(ot=new ct(ot,nn,null,h,yt),Et.push({event:ot,listeners:Ln}))}}if((o&7)===0){e:{if(ot=i==="mouseover"||i==="pointerover",ct=i==="mouseout"||i==="pointerout",ot&&h!==ga&&(nn=h.relatedTarget||h.fromElement)&&(Lr(nn)||nn[Wr]))break e;if((ct||ot)&&(ot=yt.window===yt?yt:(ot=yt.ownerDocument)?ot.defaultView||ot.parentWindow:window,ct?(nn=h.relatedTarget||h.toElement,ct=rt,nn=nn?Lr(nn):null,nn!==null&&(li=l(nn),Ln=nn.tag,nn!==li||Ln!==5&&Ln!==27&&Ln!==6)&&(nn=null)):(ct=null,nn=rt),ct!==nn)){if(Ln=lr,wt="onMouseLeave",Ze="onMouseEnter",Ve="mouse",(i==="pointerout"||i==="pointerover")&&(Ln=_n,wt="onPointerLeave",Ze="onPointerEnter",Ve="pointer"),li=ct==null?ot:Ns(ct),nt=nn==null?ot:Ns(nn),ot=new Ln(wt,Ve+"leave",ct,h,yt),ot.target=li,ot.relatedTarget=nt,wt=null,Lr(yt)===rt&&(Ln=new Ln(Ze,Ve+"enter",nn,h,yt),Ln.target=nt,Ln.relatedTarget=li,wt=Ln),li=wt,ct&&nn)t:{for(Ln=I6,Ze=ct,Ve=nn,nt=0,wt=Ze;wt;wt=Ln(wt))nt++;wt=0;for(var Tn=Ve;Tn;Tn=Ln(Tn))wt++;for(;0<nt-wt;)Ze=Ln(Ze),nt--;for(;0<wt-nt;)Ve=Ln(Ve),wt--;for(;nt--;){if(Ze===Ve||Ve!==null&&Ze===Ve.alternate){Ln=Ze;break t}Ze=Ln(Ze),Ve=Ln(Ve)}Ln=null}else Ln=null;ct!==null&&B5(Et,ot,ct,Ln,!1),nn!==null&&li!==null&&B5(Et,li,nn,Ln,!0)}}e:{if(ot=rt?Ns(rt):window,ct=ot.nodeName&&ot.nodeName.toLowerCase(),ct==="select"||ct==="input"&&ot.type==="file")var Pr=xs;else if(cl(ot))if(ra)Pr=d;else{Pr=c;var fn=s}else ct=ot.nodeName,!ct||ct.toLowerCase()!=="input"||ot.type!=="checkbox"&&ot.type!=="radio"?rt&&Tr(rt.elementType)&&(Pr=xs):Pr=u;if(Pr&&(Pr=Pr(i,rt))){xi(Et,Pr,h,yt);break e}fn&&fn(i,ot,rt),i==="focusout"&&rt&&ot.type==="number"&&rt.memoizedProps.value!=null&&ve(ot,"number",ot.value)}switch(fn=rt?Ns(rt):window,i){case"focusin":(cl(fn)||fn.contentEditable==="true")&&(Le=fn,je=rt,Xe=null);break;case"focusout":Xe=je=Le=null;break;case"mousedown":st=!0;break;case"contextmenu":case"mouseup":case"dragend":st=!1,mt(Et,h,yt);break;case"selectionchange":if(be)break;case"keydown":case"keyup":mt(Et,h,yt)}var rr;if(Xn)e:{switch(i){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else Ja?ba(i,h)&&(vr="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(vr="onCompositionStart");vr&&(gs&&h.locale!=="ko"&&(Ja||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&Ja&&(rr=Ha()):(Ds=yt,qs="value"in Ds?Ds.value:Ds.textContent,Ja=!0)),fn=P0(rt,vr),0<fn.length&&(vr=new We(vr,i,null,h,yt),Et.push({event:vr,listeners:fn}),rr?vr.data=rr:(rr=na(h),rr!==null&&(vr.data=rr)))),(rr=zi?mi(i,h):Ra(i,h))&&(vr=P0(rt,"onBeforeInput"),0<vr.length&&(fn=new We("onBeforeInput","beforeinput",null,h,yt),Et.push({event:fn,listeners:vr}),fn.data=rr)),S6(Et,i,rt,h,yt)}P5(Et,o)})}function ed(i,o,h){return{instance:i,listener:o,currentTarget:h}}function P0(i,o){for(var h=o+"Capture",x=[];i!==null;){var S=i,I=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||I===null||(S=hn(i,h),S!=null&&x.unshift(ed(i,S,I)),S=hn(i,o),S!=null&&x.push(ed(i,S,I))),i.tag===3)return x;i=i.return}return[]}function I6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function B5(i,o,h,x,S){for(var I=o._reactName,z=[];h!==null&&h!==x;){var ce=h,ke=ce.alternate,rt=ce.stateNode;if(ce=ce.tag,ke!==null&&ke===x)break;ce!==5&&ce!==26&&ce!==27||rt===null||(ke=rt,S?(rt=hn(h,I),rt!=null&&z.unshift(ed(h,rt,ke))):S||(rt=hn(h,I),rt!=null&&z.push(ed(h,rt,ke)))),h=h.return}z.length!==0&&i.push({event:o,listeners:z})}var R6=/\r\n?/g,O6=/\u0000|\uFFFD/g;function F5(i){return(typeof i=="string"?i:""+i).replace(R6,`
`).replace(O6,"")}function U5(i,o){return o=F5(o),F5(i)===o}function oi(i,o,h,x,S,I){switch(h){case"children":typeof x=="string"?o==="body"||o==="textarea"&&x===""||Ui(i,x):(typeof x=="number"||typeof x=="bigint")&&o!=="body"&&Ui(i,""+x);break;case"className":Ri(i,"class",x);break;case"tabIndex":Ri(i,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(i,h,x);break;case"style":cn(i,x,I);break;case"data":if(o!=="object"){Ri(i,"data",x);break}case"src":case"href":if(x===""&&(o!=="a"||h!=="href")){i.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(h);break}x=$i(""+x),i.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(h==="formAction"?(o!=="input"&&oi(i,o,"name",S.name,S,null),oi(i,o,"formEncType",S.formEncType,S,null),oi(i,o,"formMethod",S.formMethod,S,null),oi(i,o,"formTarget",S.formTarget,S,null)):(oi(i,o,"encType",S.encType,S,null),oi(i,o,"method",S.method,S,null),oi(i,o,"target",S.target,S,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){i.removeAttribute(h);break}x=$i(""+x),i.setAttribute(h,x);break;case"onClick":x!=null&&(i.onclick=Is);break;case"onScroll":x!=null&&fr("scroll",i);break;case"onScrollEnd":x!=null&&fr("scrollend",i);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"multiple":i.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":i.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){i.removeAttribute("xlink:href");break}h=$i(""+x),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,""+x):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":x===!0?i.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?i.setAttribute(h,x):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?i.setAttribute(h,x):i.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?i.removeAttribute(h):i.setAttribute(h,x);break;case"popover":fr("beforetoggle",i),fr("toggle",i),ds(i,"popover",x);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ds(i,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=vo.get(h)||h,ds(i,h,x))}}function Fg(i,o,h,x,S,I){switch(h){case"style":cn(i,x,I);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(S.children!=null)throw Error(r(60));i.innerHTML=h}}break;case"children":typeof x=="string"?Ui(i,x):(typeof x=="number"||typeof x=="bigint")&&Ui(i,""+x);break;case"onScroll":x!=null&&fr("scroll",i);break;case"onScrollEnd":x!=null&&fr("scrollend",i);break;case"onClick":x!=null&&(i.onclick=Is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ts.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),o=h.slice(2,S?h.length-7:void 0),I=i[Gn]||null,I=I!=null?I[h]:null,typeof I=="function"&&i.removeEventListener(o,I,S),typeof x=="function")){typeof I!="function"&&I!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(o,x,S);break e}h in i?i[h]=x:x===!0?i.setAttribute(h,""):ds(i,h,x)}}}function Ea(i,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fr("error",i),fr("load",i);var x=!1,S=!1,I;for(I in h)if(h.hasOwnProperty(I)){var z=h[I];if(z!=null)switch(I){case"src":x=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:oi(i,o,I,z,h,null)}}S&&oi(i,o,"srcSet",h.srcSet,h,null),x&&oi(i,o,"src",h.src,h,null);return;case"input":fr("invalid",i);var ce=I=z=S=null,ke=null,rt=null;for(x in h)if(h.hasOwnProperty(x)){var yt=h[x];if(yt!=null)switch(x){case"name":S=yt;break;case"type":z=yt;break;case"checked":ke=yt;break;case"defaultChecked":rt=yt;break;case"value":I=yt;break;case"defaultValue":ce=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(r(137,o));break;default:oi(i,o,x,yt,h,null)}}$e(i,I,ce,ke,rt,z,S,!1);return;case"select":fr("invalid",i),x=z=I=null;for(S in h)if(h.hasOwnProperty(S)&&(ce=h[S],ce!=null))switch(S){case"value":I=ce;break;case"defaultValue":z=ce;break;case"multiple":x=ce;default:oi(i,o,S,ce,h,null)}o=I,h=z,i.multiple=!!x,o!=null?zt(i,!!x,o,!1):h!=null&&zt(i,!!x,h,!0);return;case"textarea":fr("invalid",i),I=S=x=null;for(z in h)if(h.hasOwnProperty(z)&&(ce=h[z],ce!=null))switch(z){case"value":x=ce;break;case"defaultValue":S=ce;break;case"children":I=ce;break;case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(91));break;default:oi(i,o,z,ce,h,null)}gi(i,x,S,I);return;case"option":for(ke in h)h.hasOwnProperty(ke)&&(x=h[ke],x!=null)&&(ke==="selected"?i.selected=x&&typeof x!="function"&&typeof x!="symbol":oi(i,o,ke,x,h,null));return;case"dialog":fr("beforetoggle",i),fr("toggle",i),fr("cancel",i),fr("close",i);break;case"iframe":case"object":fr("load",i);break;case"video":case"audio":for(x=0;x<$f.length;x++)fr($f[x],i);break;case"image":fr("error",i),fr("load",i);break;case"details":fr("toggle",i);break;case"embed":case"source":case"link":fr("error",i),fr("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(rt in h)if(h.hasOwnProperty(rt)&&(x=h[rt],x!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:oi(i,o,rt,x,h,null)}return;default:if(Tr(o)){for(yt in h)h.hasOwnProperty(yt)&&(x=h[yt],x!==void 0&&Fg(i,o,yt,x,h,void 0));return}}for(ce in h)h.hasOwnProperty(ce)&&(x=h[ce],x!=null&&oi(i,o,ce,x,h,null))}function D6(i,o,h,x){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,I=null,z=null,ce=null,ke=null,rt=null,yt=null;for(ct in h){var Et=h[ct];if(h.hasOwnProperty(ct)&&Et!=null)switch(ct){case"checked":break;case"value":break;case"defaultValue":ke=Et;default:x.hasOwnProperty(ct)||oi(i,o,ct,null,x,Et)}}for(var ot in x){var ct=x[ot];if(Et=h[ot],x.hasOwnProperty(ot)&&(ct!=null||Et!=null))switch(ot){case"type":I=ct;break;case"name":S=ct;break;case"checked":rt=ct;break;case"defaultChecked":yt=ct;break;case"value":z=ct;break;case"defaultValue":ce=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(r(137,o));break;default:ct!==Et&&oi(i,o,ot,ct,x,Et)}}ni(i,z,ce,ke,rt,yt,I,S);return;case"select":ct=z=ce=ot=null;for(I in h)if(ke=h[I],h.hasOwnProperty(I)&&ke!=null)switch(I){case"value":break;case"multiple":ct=ke;default:x.hasOwnProperty(I)||oi(i,o,I,null,x,ke)}for(S in x)if(I=x[S],ke=h[S],x.hasOwnProperty(S)&&(I!=null||ke!=null))switch(S){case"value":ot=I;break;case"defaultValue":ce=I;break;case"multiple":z=I;default:I!==ke&&oi(i,o,S,I,x,ke)}o=ce,h=z,x=ct,ot!=null?zt(i,!!h,ot,!1):!!x!=!!h&&(o!=null?zt(i,!!h,o,!0):zt(i,!!h,h?[]:"",!1));return;case"textarea":ct=ot=null;for(ce in h)if(S=h[ce],h.hasOwnProperty(ce)&&S!=null&&!x.hasOwnProperty(ce))switch(ce){case"value":break;case"children":break;default:oi(i,o,ce,null,x,S)}for(z in x)if(S=x[z],I=h[z],x.hasOwnProperty(z)&&(S!=null||I!=null))switch(z){case"value":ot=S;break;case"defaultValue":ct=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==I&&oi(i,o,z,S,x,I)}ri(i,ot,ct);return;case"option":for(var nn in h)ot=h[nn],h.hasOwnProperty(nn)&&ot!=null&&!x.hasOwnProperty(nn)&&(nn==="selected"?i.selected=!1:oi(i,o,nn,null,x,ot));for(ke in x)ot=x[ke],ct=h[ke],x.hasOwnProperty(ke)&&ot!==ct&&(ot!=null||ct!=null)&&(ke==="selected"?i.selected=ot&&typeof ot!="function"&&typeof ot!="symbol":oi(i,o,ke,ot,x,ct));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ln in h)ot=h[Ln],h.hasOwnProperty(Ln)&&ot!=null&&!x.hasOwnProperty(Ln)&&oi(i,o,Ln,null,x,ot);for(rt in x)if(ot=x[rt],ct=h[rt],x.hasOwnProperty(rt)&&ot!==ct&&(ot!=null||ct!=null))switch(rt){case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,o));break;default:oi(i,o,rt,ot,x,ct)}return;default:if(Tr(o)){for(var li in h)ot=h[li],h.hasOwnProperty(li)&&ot!==void 0&&!x.hasOwnProperty(li)&&Fg(i,o,li,void 0,x,ot);for(yt in x)ot=x[yt],ct=h[yt],!x.hasOwnProperty(yt)||ot===ct||ot===void 0&&ct===void 0||Fg(i,o,yt,ot,x,ct);return}}for(var Ze in h)ot=h[Ze],h.hasOwnProperty(Ze)&&ot!=null&&!x.hasOwnProperty(Ze)&&oi(i,o,Ze,null,x,ot);for(Et in x)ot=x[Et],ct=h[Et],!x.hasOwnProperty(Et)||ot===ct||ot==null&&ct==null||oi(i,o,Et,ot,x,ct)}function V5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L6(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var S=h[x],I=S.transferSize,z=S.initiatorType,ce=S.duration;if(I&&ce&&V5(z)){for(z=0,ce=S.responseEnd,x+=1;x<h.length;x++){var ke=h[x],rt=ke.startTime;if(rt>ce)break;var yt=ke.transferSize,Et=ke.initiatorType;yt&&V5(Et)&&(ke=ke.responseEnd,z+=yt*(ke<ce?1:(ce-rt)/(ke-rt)))}if(--x,o+=8*(I+z)/(S.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ug=null,Vg=null;function j0(i){return i.nodeType===9?i:i.ownerDocument}function z5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function zg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qg=null;function k6(){var i=window.event;return i&&i.type==="popstate"?i===qg?!1:(qg=i,!0):(qg=null,!1)}var H5=typeof setTimeout=="function"?setTimeout:void 0,M6=typeof clearTimeout=="function"?clearTimeout:void 0,G5=typeof Promise=="function"?Promise:void 0,P6=typeof queueMicrotask=="function"?queueMicrotask:typeof G5<"u"?function(i){return G5.resolve(null).then(i).catch(j6)}:H5;function j6(i){setTimeout(function(){throw i})}function Fc(i){return i==="head"}function W5(i,o){var h=o,x=0;do{var S=h.nextSibling;if(i.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(x===0){i.removeChild(S),Fh(o);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")td(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,td(h);for(var I=h.firstChild;I;){var z=I.nextSibling,ce=I.nodeName;I[Cs]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=z}}else h==="body"&&td(i.ownerDocument.body);h=S}while(h);Fh(o)}function X5(i,o){var h=i;i=0;do{var x=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=x}while(h)}function Hg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Hg(h),Ii(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function B6(i,o,h,x){for(;i.nodeType===1;){var S=h;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!x&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(x){if(!i[Cs])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(I=i.getAttribute("rel"),I==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(I!==S.rel||i.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||i.getAttribute("title")!==(S.title==null?null:S.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(I=i.getAttribute("src"),(I!==(S.src==null?null:S.src)||i.getAttribute("type")!==(S.type==null?null:S.type)||i.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&I&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var I=S.name==null?null:""+S.name;if(S.type==="hidden"&&i.getAttribute("name")===I)return i}else return i;if(i=Po(i.nextSibling),i===null)break}return null}function F6(i,o,h){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=Po(i.nextSibling),i===null))return null;return i}function Y5(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Po(i.nextSibling),i===null))return null;return i}function Gg(i){return i.data==="$?"||i.data==="$~"}function Wg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function U6(i,o){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||h.readyState!=="loading")o();else{var x=function(){o(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),i._reactRetry=x}}function Po(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Xg=null;function K5(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(o===0)return Po(i.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}i=i.nextSibling}return null}function Z5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return i;o--}else h!=="/$"&&h!=="/&"||o++}i=i.previousSibling}return null}function Q5(i,o,h){switch(o=j0(h),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function td(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ii(i)}var jo=new Map,J5=new Set;function B0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Jl=Te.d;Te.d={f:V6,r:z6,D:q6,C:H6,L:G6,m:W6,X:Y6,S:X6,M:K6};function V6(){var i=Jl.f(),o=I0();return i||o}function z6(i){var o=Wn(i);o!==null&&o.tag===5&&o.type==="form"?gy(o):Jl.r(i)}var Ph=typeof document>"u"?null:document;function $5(i,o,h){var x=Ph;if(x&&typeof o=="string"&&o){var S=Dn(o);S='link[rel="'+i+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),J5.has(S)||(J5.add(S),i={rel:i,crossOrigin:h,href:o},x.querySelector(S)===null&&(o=x.createElement("link"),Ea(o,"link",i),Xr(o),x.head.appendChild(o)))}}function q6(i){Jl.D(i),$5("dns-prefetch",i,null)}function H6(i,o){Jl.C(i,o),$5("preconnect",i,o)}function G6(i,o,h){Jl.L(i,o,h);var x=Ph;if(x&&i&&o){var S='link[rel="preload"][as="'+Dn(o)+'"]';o==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Dn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Dn(h.imageSizes)+'"]')):S+='[href="'+Dn(i)+'"]';var I=S;switch(o){case"style":I=jh(i);break;case"script":I=Bh(i)}jo.has(I)||(i=T({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:i,as:o},h),jo.set(I,i),x.querySelector(S)!==null||o==="style"&&x.querySelector(nd(I))||o==="script"&&x.querySelector(rd(I))||(o=x.createElement("link"),Ea(o,"link",i),Xr(o),x.head.appendChild(o)))}}function W6(i,o){Jl.m(i,o);var h=Ph;if(h&&i){var x=o&&typeof o.as=="string"?o.as:"script",S='link[rel="modulepreload"][as="'+Dn(x)+'"][href="'+Dn(i)+'"]',I=S;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=Bh(i)}if(!jo.has(I)&&(i=T({rel:"modulepreload",href:i},o),jo.set(I,i),h.querySelector(S)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(rd(I)))return}x=h.createElement("link"),Ea(x,"link",i),Xr(x),h.head.appendChild(x)}}}function X6(i,o,h){Jl.S(i,o,h);var x=Ph;if(x&&i){var S=vi(x).hoistableStyles,I=jh(i);o=o||"default";var z=S.get(I);if(!z){var ce={loading:0,preload:null};if(z=x.querySelector(nd(I)))ce.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":o},h),(h=jo.get(I))&&Yg(i,h);var ke=z=x.createElement("link");Xr(ke),Ea(ke,"link",i),ke._p=new Promise(function(rt,yt){ke.onload=rt,ke.onerror=yt}),ke.addEventListener("load",function(){ce.loading|=1}),ke.addEventListener("error",function(){ce.loading|=2}),ce.loading|=4,F0(z,o,x)}z={type:"stylesheet",instance:z,count:1,state:ce},S.set(I,z)}}}function Y6(i,o){Jl.X(i,o);var h=Ph;if(h&&i){var x=vi(h).hoistableScripts,S=Bh(i),I=x.get(S);I||(I=h.querySelector(rd(S)),I||(i=T({src:i,async:!0},o),(o=jo.get(S))&&Kg(i,o),I=h.createElement("script"),Xr(I),Ea(I,"link",i),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function K6(i,o){Jl.M(i,o);var h=Ph;if(h&&i){var x=vi(h).hoistableScripts,S=Bh(i),I=x.get(S);I||(I=h.querySelector(rd(S)),I||(i=T({src:i,async:!0,type:"module"},o),(o=jo.get(S))&&Kg(i,o),I=h.createElement("script"),Xr(I),Ea(I,"link",i),h.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},x.set(S,I))}}function ev(i,o,h,x){var S=(S=me.current)?B0(S):null;if(!S)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=jh(h.href),h=vi(S).hoistableStyles,x=h.get(o),x||(x={type:"style",instance:null,count:0,state:null},h.set(o,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=jh(h.href);var I=vi(S).hoistableStyles,z=I.get(i);if(z||(S=S.ownerDocument||S,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(i,z),(I=S.querySelector(nd(i)))&&!I._p&&(z.instance=I,z.state.loading=5),jo.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},jo.set(i,h),I||Z6(S,i,h,z.state))),o&&x===null)throw Error(r(528,""));return z}if(o&&x!==null)throw Error(r(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bh(h),h=vi(S).hoistableScripts,x=h.get(o),x||(x={type:"script",instance:null,count:0,state:null},h.set(o,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function jh(i){return'href="'+Dn(i)+'"'}function nd(i){return'link[rel="stylesheet"]['+i+"]"}function tv(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function Z6(i,o,h,x){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?x.loading=1:(o=i.createElement("link"),x.preload=o,o.addEventListener("load",function(){return x.loading|=1}),o.addEventListener("error",function(){return x.loading|=2}),Ea(o,"link",h),Xr(o),i.head.appendChild(o))}function Bh(i){return'[src="'+Dn(i)+'"]'}function rd(i){return"script[async]"+i}function nv(i,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var x=i.querySelector('style[data-href~="'+Dn(h.href)+'"]');if(x)return o.instance=x,Xr(x),x;var S=T({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(i.ownerDocument||i).createElement("style"),Xr(x),Ea(x,"style",S),F0(x,h.precedence,i),o.instance=x;case"stylesheet":S=jh(h.href);var I=i.querySelector(nd(S));if(I)return o.state.loading|=4,o.instance=I,Xr(I),I;x=tv(h),(S=jo.get(S))&&Yg(x,S),I=(i.ownerDocument||i).createElement("link"),Xr(I);var z=I;return z._p=new Promise(function(ce,ke){z.onload=ce,z.onerror=ke}),Ea(I,"link",x),o.state.loading|=4,F0(I,h.precedence,i),o.instance=I;case"script":return I=Bh(h.src),(S=i.querySelector(rd(I)))?(o.instance=S,Xr(S),S):(x=h,(S=jo.get(I))&&(x=T({},h),Kg(x,S)),i=i.ownerDocument||i,S=i.createElement("script"),Xr(S),Ea(S,"link",x),i.head.appendChild(S),o.instance=S);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(x=o.instance,o.state.loading|=4,F0(x,h.precedence,i));return o.instance}function F0(i,o,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=x.length?x[x.length-1]:null,I=S,z=0;z<x.length;z++){var ce=x[z];if(ce.dataset.precedence===o)I=ce;else if(I!==S)break}I?I.parentNode.insertBefore(i,I.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(i,o.firstChild))}function Yg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Kg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var U0=null;function rv(i,o,h){if(U0===null){var x=new Map,S=U0=new Map;S.set(h,x)}else S=U0,x=S.get(h),x||(x=new Map,S.set(h,x));if(x.has(i))return x;for(x.set(i,null),h=h.getElementsByTagName(i),S=0;S<h.length;S++){var I=h[S];if(!(I[Cs]||I[pr]||i==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var z=I.getAttribute(o)||"";z=i+z;var ce=x.get(z);ce?ce.push(I):x.set(z,[I])}}return x}function iv(i,o,h){i=i.ownerDocument||i,i.head.insertBefore(h,o==="title"?i.querySelector("head > title"):null)}function Q6(i,o,h){if(h===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function sv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function J6(i,o,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=jh(x.href),I=o.querySelector(nd(S));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=V0.bind(i),o.then(i,i)),h.state.loading|=4,h.instance=I,Xr(I);return}I=o.ownerDocument||o,x=tv(x),(S=jo.get(S))&&Yg(x,S),I=I.createElement("link"),Xr(I);var z=I;z._p=new Promise(function(ce,ke){z.onload=ce,z.onerror=ke}),Ea(I,"link",x),h.instance=I}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=V0.bind(i),o.addEventListener("load",h),o.addEventListener("error",h))}}var Zg=0;function $6(i,o){return i.stylesheets&&i.count===0&&q0(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var x=setTimeout(function(){if(i.stylesheets&&q0(i,i.stylesheets),i.unsuspend){var I=i.unsuspend;i.unsuspend=null,I()}},6e4+o);0<i.imgBytes&&Zg===0&&(Zg=62500*L6());var S=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&q0(i,i.stylesheets),i.unsuspend)){var I=i.unsuspend;i.unsuspend=null,I()}},(i.imgBytes>Zg?50:800)+o);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(x),clearTimeout(S)}}:null}function V0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)q0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var z0=null;function q0(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,z0=new Map,o.forEach(e8,i),z0=null,V0.call(i))}function e8(i,o){if(!(o.state.loading&4)){var h=z0.get(i);if(h)var x=h.get(null);else{h=new Map,z0.set(i,h);for(var S=i.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<S.length;I++){var z=S[I];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(h.set(z.dataset.precedence,z),x=z)}x&&h.set(null,x)}S=o.instance,z=S.getAttribute("data-precedence"),I=h.get(z)||x,I===x&&h.set(null,S),h.set(z,S),this.count++,x=V0.bind(this),S.addEventListener("load",x),S.addEventListener("error",x),I?I.parentNode.insertBefore(S,I.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(S,i.firstChild)),o.state.loading|=4}}var id={$$typeof:ue,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function t8(i,o,h,x,S,I,z,ce,ke){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=x,this.onUncaughtError=S,this.onCaughtError=I,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ke,this.incompleteTransitions=new Map}function av(i,o,h,x,S,I,z,ce,ke,rt,yt,Et){return i=new t8(i,o,h,z,ke,rt,yt,Et,ce),o=1,I===!0&&(o|=24),I=oa(3,null,null,o),i.current=I,I.stateNode=i,o=Nc(),o.refCount++,i.pooledCache=o,o.refCount++,I.memoizedState={element:x,isDehydrated:h,cache:o},jt(I),i}function ov(i){return i?(i=Ws,i):Ws}function lv(i,o,h,x,S,I){S=ov(S),x.context===null?x.context=S:x.pendingContext=S,x=On(o),x.payload={element:h},I=I===void 0?null:I,I!==null&&(x.callback=I),h=er(i,x,o),h!==null&&(fo(h,i,o),zr(h,i,o))}function cv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<o?h:o}}function Qg(i,o){cv(i,o),(i=i.alternate)&&cv(i,o)}function uv(i){if(i.tag===13||i.tag===31){var o=Wo(i,67108864);o!==null&&fo(o,i,67108864),Qg(i,67108864)}}function hv(i){if(i.tag===13||i.tag===31){var o=So();o=Vn(o);var h=Wo(i,o);h!==null&&fo(h,i,o),Qg(i,o)}}var H0=!0;function n8(i,o,h,x){var S=_e.T;_e.T=null;var I=Te.p;try{Te.p=2,Jg(i,o,h,x)}finally{Te.p=I,_e.T=S}}function r8(i,o,h,x){var S=_e.T;_e.T=null;var I=Te.p;try{Te.p=8,Jg(i,o,h,x)}finally{Te.p=I,_e.T=S}}function Jg(i,o,h,x){if(H0){var S=$g(x);if(S===null)Bg(i,o,x,G0,h),dv(i,x);else if(s8(S,i,o,h,x))x.stopPropagation();else if(dv(i,x),o&4&&-1<i8.indexOf(i)){for(;S!==null;){var I=Wn(S);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var z=sn(I.pendingLanes);if(z!==0){var ce=I;for(ce.pendingLanes|=2,ce.entangledLanes|=2;z;){var ke=1<<31-qt(z);ce.entanglements[1]|=ke,z&=~ke}_l(I),(Hr&6)===0&&(N0=Ut()+500,Jf(0))}}break;case 31:case 13:ce=Wo(I,2),ce!==null&&fo(ce,I,2),I0(),Qg(I,2)}if(I=$g(x),I===null&&Bg(i,o,x,G0,h),I===S)break;S=I}S!==null&&x.stopPropagation()}else Bg(i,o,x,null,h)}}function $g(i){return i=Rs(i),e2(i)}var G0=null;function e2(i){if(G0=null,i=Lr(i),i!==null){var o=l(i);if(o===null)i=null;else{var h=o.tag;if(h===13){if(i=f(o),i!==null)return i;i=null}else if(h===31){if(i=g(o),i!==null)return i;i=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return G0=i,null}function fv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sn()){case Kt:return 2;case pn:return 8;case gn:case Vt:return 32;case kn:return 268435456;default:return 32}default:return 32}}var t2=!1,Uc=null,Vc=null,zc=null,sd=new Map,ad=new Map,qc=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dv(i,o){switch(i){case"focusin":case"focusout":Uc=null;break;case"dragenter":case"dragleave":Vc=null;break;case"mouseover":case"mouseout":zc=null;break;case"pointerover":case"pointerout":sd.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(o.pointerId)}}function od(i,o,h,x,S,I){return i===null||i.nativeEvent!==I?(i={blockedOn:o,domEventName:h,eventSystemFlags:x,nativeEvent:I,targetContainers:[S]},o!==null&&(o=Wn(o),o!==null&&uv(o)),i):(i.eventSystemFlags|=x,o=i.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),i)}function s8(i,o,h,x,S){switch(o){case"focusin":return Uc=od(Uc,i,o,h,x,S),!0;case"dragenter":return Vc=od(Vc,i,o,h,x,S),!0;case"mouseover":return zc=od(zc,i,o,h,x,S),!0;case"pointerover":var I=S.pointerId;return sd.set(I,od(sd.get(I)||null,i,o,h,x,S)),!0;case"gotpointercapture":return I=S.pointerId,ad.set(I,od(ad.get(I)||null,i,o,h,x,S)),!0}return!1}function pv(i){var o=Lr(i.target);if(o!==null){var h=l(o);if(h!==null){if(o=h.tag,o===13){if(o=f(h),o!==null){i.blockedOn=o,Mt(i.priority,function(){hv(h)});return}}else if(o===31){if(o=g(h),o!==null){i.blockedOn=o,Mt(i.priority,function(){hv(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function W0(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var h=$g(i.nativeEvent);if(h===null){h=i.nativeEvent;var x=new h.constructor(h.type,h);ga=x,h.target.dispatchEvent(x),ga=null}else return o=Wn(h),o!==null&&uv(o),i.blockedOn=h,!1;o.shift()}return!0}function gv(i,o,h){W0(i)&&h.delete(o)}function a8(){t2=!1,Uc!==null&&W0(Uc)&&(Uc=null),Vc!==null&&W0(Vc)&&(Vc=null),zc!==null&&W0(zc)&&(zc=null),sd.forEach(gv),ad.forEach(gv)}function X0(i,o){i.blockedOn===o&&(i.blockedOn=null,t2||(t2=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,a8)))}var Y0=null;function mv(i){Y0!==i&&(Y0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Y0===i&&(Y0=null);for(var o=0;o<i.length;o+=3){var h=i[o],x=i[o+1],S=i[o+2];if(typeof x!="function"){if(e2(x||h)===null)continue;break}var I=Wn(h);I!==null&&(i.splice(o,3),o-=3,$p(I,{pending:!0,data:S,method:h.method,action:x},x,S))}}))}function Fh(i){function o(ke){return X0(ke,i)}Uc!==null&&X0(Uc,i),Vc!==null&&X0(Vc,i),zc!==null&&X0(zc,i),sd.forEach(o),ad.forEach(o);for(var h=0;h<qc.length;h++){var x=qc[h];x.blockedOn===i&&(x.blockedOn=null)}for(;0<qc.length&&(h=qc[0],h.blockedOn===null);)pv(h),h.blockedOn===null&&qc.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var S=h[x],I=h[x+1],z=S[Gn]||null;if(typeof I=="function")z||mv(h);else if(z){var ce=null;if(I&&I.hasAttribute("formAction")){if(S=I,z=I[Gn]||null)ce=z.formAction;else if(e2(S)!==null)continue}else ce=z.action;typeof ce=="function"?h[x+1]=ce:(h.splice(x,3),x-=3),mv(h)}}}function xv(){function i(I){I.canIntercept&&I.info==="react-transition"&&I.intercept({handler:function(){return new Promise(function(z){return S=z})},focusReset:"manual",scroll:"manual"})}function o(){S!==null&&(S(),S=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var I=navigation.currentEntry;I&&I.url!=null&&navigation.navigate(I.url,{state:I.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,S=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),S!==null&&(S(),S=null)}}}function n2(i){this._internalRoot=i}K0.prototype.render=n2.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var h=o.current,x=So();lv(h,x,i,o,null,null)},K0.prototype.unmount=n2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;lv(i.current,2,null,i,null,null),I0(),o[Wr]=null}};function K0(i){this._internalRoot=i}K0.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ar();i={blockedOn:null,target:i,priority:o};for(var h=0;h<qc.length&&o!==0&&o<qc[h].priority;h++);qc.splice(h,0,i),h===0&&pv(i)}};var yv=e.version;if(yv!=="19.2.4")throw Error(r(527,yv,"19.2.4"));Te.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?b(i):null,i=i===null?null:i.stateNode,i};var o8={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_e,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z0.isDisabled&&Z0.supportsFiber)try{en=Z0.inject(o8),ut=Z0}catch{}}return cd.createRoot=function(i,o){if(!a(i))throw Error(r(299));var h=!1,x="",S=Sy,I=Cy,z=Ny;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(S=o.onUncaughtError),o.onCaughtError!==void 0&&(I=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError)),o=av(i,1,!1,null,null,h,x,null,S,I,z,xv),i[Wr]=o.current,jg(i),new n2(o)},cd.hydrateRoot=function(i,o,h){if(!a(i))throw Error(r(299));var x=!1,S="",I=Sy,z=Cy,ce=Ny,ke=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(I=h.onUncaughtError),h.onCaughtError!==void 0&&(z=h.onCaughtError),h.onRecoverableError!==void 0&&(ce=h.onRecoverableError),h.formState!==void 0&&(ke=h.formState)),o=av(i,1,!0,o,h??null,x,S,ke,I,z,ce,xv),o.context=ov(null),h=o.current,x=So(),x=Vn(x),S=On(x),S.callback=null,er(h,S,x),h=x,o.current.lanes=h,ln(o,h),_l(o),i[Wr]=o.current,jg(i),new K0(o)},cd.version="19.2.4",cd}var Tv;function x8(){if(Tv)return s2.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),s2.exports=m8(),s2.exports}var y8=x8();var Iv="popstate";function v8(n={}){function e(a,l){let{pathname:f="/",search:g="",hash:y=""}=th(a.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Q2("",{pathname:f,search:g,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let f=a.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let y=a.location.href,m=y.indexOf("#");g=m===-1?y:y.slice(0,m)}return g+"#"+(typeof l=="string"?l:Ld(l))}function r(a,l){zo(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return w8(e,t,r,n)}function ji(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b8(){return Math.random().toString(36).substring(2,10)}function Rv(n,e){return{usr:n.state,key:n.key,idx:e}}function Q2(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?th(e):e,state:t,key:e&&e.key||r||b8()}}function Ld({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function th(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function w8(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,f=a.history,g="POP",y=null,m=b();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function b(){return(f.state||{idx:null}).idx}function T(){g="POP";let $=b(),K=$==null?null:$-m;m=$,y&&y({action:g,location:W.location,delta:K})}function L($,K){g="PUSH";let oe=Q2(W.location,$,K);t&&t(oe,$),m=b()+1;let ue=Rv(oe,m),pe=W.createHref(oe);try{f.pushState(ue,"",pe)}catch(Ue){if(Ue instanceof DOMException&&Ue.name==="DataCloneError")throw Ue;a.location.assign(pe)}l&&y&&y({action:g,location:W.location,delta:1})}function R($,K){g="REPLACE";let oe=Q2(W.location,$,K);t&&t(oe,$),m=b();let ue=Rv(oe,m),pe=W.createHref(oe);f.replaceState(ue,"",pe),l&&y&&y({action:g,location:W.location,delta:0})}function X($){return _8($)}let W={get action(){return g},get location(){return n(a,f)},listen($){if(y)throw new Error("A history only accepts one active listener");return a.addEventListener(Iv,T),y=$,()=>{a.removeEventListener(Iv,T),y=null}},createHref($){return e(a,$)},createURL:X,encodeLocation($){let K=X($);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:L,replace:R,go($){return f.go($)}};return W}function _8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ji(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ld(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function $3(n,e,t="/"){return A8(n,e,t,!1)}function A8(n,e,t,r){let a=typeof e=="string"?th(e):e,l=uc(a.pathname||"/",t);if(l==null)return null;let f=e4(n);E8(f);let g=null;for(let y=0;g==null&&y<f.length;++y){let m=M8(l);g=L8(f[y],m,r)}return g}function e4(n,e=[],t=[],r="",a=!1){let l=(f,g,y=a,m)=>{let b={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:g,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&y)return;ji(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let T=ac([r,b.relativePath]),L=t.concat(b);f.children&&f.children.length>0&&(ji(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),e4(f.children,e,L,T,y)),!(f.path==null&&!f.index)&&e.push({path:T,score:O8(T,f.index),routesMeta:L})};return n.forEach((f,g)=>{if(f.path===""||!f.path?.includes("?"))l(f,g);else for(let y of t4(f.path))l(f,g,!0,y)}),e}function t4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let f=t4(r.join("/")),g=[];return g.push(...f.map(y=>y===""?l:[l,y].join("/"))),a&&g.push(...f),g.map(y=>n.startsWith("/")&&y===""?"/":y)}function E8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:D8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var S8=/^:[\w-]+$/,C8=3,N8=2,T8=1,I8=10,R8=-2,Ov=n=>n==="*";function O8(n,e){let t=n.split("/"),r=t.length;return t.some(Ov)&&(r+=R8),e&&(r+=N8),t.filter(a=>!Ov(a)).reduce((a,l)=>a+(S8.test(l)?C8:l===""?T8:I8),r)}function D8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function L8(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",f=[];for(let g=0;g<r.length;++g){let y=r[g],m=g===r.length-1,b=l==="/"?e:e.slice(l.length)||"/",T=D1({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},b),L=y.route;if(!T&&m&&t&&!r[r.length-1].route.index&&(T=D1({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},b)),!T)return null;Object.assign(a,T.params),f.push({params:a,pathname:ac([l,T.pathname]),pathnameBase:F8(ac([l,T.pathnameBase])),route:L}),T.pathnameBase!=="/"&&(l=ac([l,T.pathnameBase]))}return f}function D1(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=k8(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],f=l.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:r.reduce((m,{paramName:b,isOptional:T},L)=>{if(b==="*"){let X=g[L]||"";f=l.slice(0,l.length-X.length).replace(/(.)\/+$/,"$1")}const R=g[L];return T&&!R?m[b]=void 0:m[b]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:f,pattern:n}}function k8(n,e=!1,t=!0){zo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,y)=>(r.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function M8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function uc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var P8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function j8(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?th(n):n,l;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?l=Dv(t.substring(1),"/"):l=Dv(t,e)):l=e,{pathname:l,search:U8(r),hash:V8(a)}}function Dv(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function c2(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Wm(n){let e=B8(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xm(n,e,t,r=!1){let a;typeof n=="string"?a=th(n):(a={...n},ji(!a.pathname||!a.pathname.includes("?"),c2("?","pathname","search",a)),ji(!a.pathname||!a.pathname.includes("#"),c2("#","pathname","hash",a)),ji(!a.search||!a.search.includes("#"),c2("#","search","hash",a)));let l=n===""||a.pathname==="",f=l?"/":a.pathname,g;if(f==null)g=t;else{let T=e.length-1;if(!r&&f.startsWith("..")){let L=f.split("/");for(;L[0]==="..";)L.shift(),T-=1;a.pathname=L.join("/")}g=T>=0?e[T]:"/"}let y=j8(a,g),m=f&&f!=="/"&&f.endsWith("/"),b=(l||f===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(m||b)&&(y.pathname+="/"),y}var ac=n=>n.join("/").replace(/\/\/+/g,"/"),F8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,V8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,z8=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function q8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function H8(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function r4(n,e){let t=n;if(typeof t!="string"||!P8.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,a=!1;if(n4)try{let l=new URL(window.location.href),f=t.startsWith("//")?new URL(l.protocol+t):new URL(t),g=uc(f.pathname,e);f.origin===l.origin&&g!=null?t=g+f.search+f.hash:a=!0}catch{zo(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i4=["POST","PUT","PATCH","DELETE"];new Set(i4);var G8=["GET",...i4];new Set(G8);var yf=Re.createContext(null);yf.displayName="DataRouter";var hp=Re.createContext(null);hp.displayName="DataRouterState";var W8=Re.createContext(!1),s4=Re.createContext({isTransitioning:!1});s4.displayName="ViewTransition";var X8=Re.createContext(new Map);X8.displayName="Fetchers";var Y8=Re.createContext(null);Y8.displayName="Await";var Oo=Re.createContext(null);Oo.displayName="Navigation";var Xd=Re.createContext(null);Xd.displayName="Location";var kl=Re.createContext({outlet:null,matches:[],isDataRoute:!1});kl.displayName="Route";var Ym=Re.createContext(null);Ym.displayName="RouteError";var a4="REACT_ROUTER_ERROR",K8="REDIRECT",Z8="ROUTE_ERROR_RESPONSE";function Q8(n){if(n.startsWith(`${a4}:${K8}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function J8(n){if(n.startsWith(`${a4}:${Z8}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new z8(e.status,e.statusText,e.data)}catch{}}function $8(n,{relative:e}={}){ji(vf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Re.useContext(Oo),{hash:a,pathname:l,search:f}=Yd(n,{relative:e}),g=l;return t!=="/"&&(g=l==="/"?t:ac([t,l])),r.createHref({pathname:g,search:f,hash:a})}function vf(){return Re.useContext(Xd)!=null}function vc(){return ji(vf(),"useLocation() may be used only in the context of a <Router> component."),Re.useContext(Xd).location}var o4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l4(n){Re.useContext(Oo).static||Re.useLayoutEffect(n)}function Km(){let{isDataRoute:n}=Re.useContext(kl);return n?fS():eS()}function eS(){ji(vf(),"useNavigate() may be used only in the context of a <Router> component.");let n=Re.useContext(yf),{basename:e,navigator:t}=Re.useContext(Oo),{matches:r}=Re.useContext(kl),{pathname:a}=vc(),l=JSON.stringify(Wm(r)),f=Re.useRef(!1);return l4(()=>{f.current=!0}),Re.useCallback((y,m={})=>{if(zo(f.current,o4),!f.current)return;if(typeof y=="number"){t.go(y);return}let b=Xm(y,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ac([e,b.pathname])),(m.replace?t.replace:t.push)(b,m.state,m)},[e,t,l,a,n])}Re.createContext(null);function Yd(n,{relative:e}={}){let{matches:t}=Re.useContext(kl),{pathname:r}=vc(),a=JSON.stringify(Wm(t));return Re.useMemo(()=>Xm(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function tS(n,e){return c4(n,e)}function c4(n,e,t,r,a){ji(vf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Re.useContext(Oo),{matches:f}=Re.useContext(kl),g=f[f.length-1],y=g?g.params:{},m=g?g.pathname:"/",b=g?g.pathnameBase:"/",T=g&&g.route;{let oe=T&&T.path||"";h4(m,!T||oe.endsWith("*")||oe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${oe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${oe}"> to <Route path="${oe==="/"?"*":`${oe}/*`}">.`)}let L=vc(),R;if(e){let oe=typeof e=="string"?th(e):e;ji(b==="/"||oe.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${oe.pathname}" was given in the \`location\` prop.`),R=oe}else R=L;let X=R.pathname||"/",W=X;if(b!=="/"){let oe=b.replace(/^\//,"").split("/");W="/"+X.replace(/^\//,"").split("/").slice(oe.length).join("/")}let $=$3(n,{pathname:W});zo(T||$!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),zo($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=aS($&&$.map(oe=>Object.assign({},oe,{params:Object.assign({},y,oe.params),pathname:ac([b,l.encodeLocation?l.encodeLocation(oe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathname]),pathnameBase:oe.pathnameBase==="/"?b:ac([b,l.encodeLocation?l.encodeLocation(oe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:oe.pathnameBase])})),f,t,r,a);return e&&K?Re.createElement(Xd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},K):K}function nS(){let n=hS(),e=q8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=Re.createElement(Re.Fragment,null,Re.createElement("p",null," Hey developer "),Re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Re.createElement("code",{style:l},"ErrorBoundary")," or"," ",Re.createElement("code",{style:l},"errorElement")," prop on your route.")),Re.createElement(Re.Fragment,null,Re.createElement("h2",null,"Unexpected Application Error!"),Re.createElement("h3",{style:{fontStyle:"italic"}},e),t?Re.createElement("pre",{style:a},t):null,f)}var rS=Re.createElement(nS,null),u4=class extends Re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=J8(n.digest);t&&(n=t)}let e=n!==void 0?Re.createElement(kl.Provider,{value:this.props.routeContext},Re.createElement(Ym.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Re.createElement(iS,{error:n},e):e}};u4.contextType=W8;var u2=new WeakMap;function iS({children:n,error:e}){let{basename:t}=Re.useContext(Oo);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Q8(e.digest);if(r){let a=u2.get(e);if(a)throw a;let l=r4(r.location,t);if(n4&&!u2.get(e))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw u2.set(e,f),f}return Re.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return n}function sS({routeContext:n,match:e,children:t}){let r=Re.useContext(yf);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Re.createElement(kl.Provider,{value:n},t)}function aS(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,f=t?.errors;if(f!=null){let b=l.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ji(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),l=l.slice(0,Math.min(l.length,b+1))}let g=!1,y=-1;if(t)for(let b=0;b<l.length;b++){let T=l[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=b),T.route.id){let{loaderData:L,errors:R}=t,X=T.route.loader&&!L.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||X){g=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}let m=t&&r?(b,T)=>{r(b,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:H8(t.matches),errorInfo:T})}:void 0;return l.reduceRight((b,T,L)=>{let R,X=!1,W=null,$=null;t&&(R=f&&T.route.id?f[T.route.id]:void 0,W=T.route.errorElement||rS,g&&(y<0&&L===0?(h4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,$=null):y===L&&(X=!0,$=T.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,L+1)),oe=()=>{let ue;return R?ue=W:X?ue=$:T.route.Component?ue=Re.createElement(T.route.Component,null):T.route.element?ue=T.route.element:ue=b,Re.createElement(sS,{match:T,routeContext:{outlet:b,matches:K,isDataRoute:t!=null},children:ue})};return t&&(T.route.ErrorBoundary||T.route.errorElement||L===0)?Re.createElement(u4,{location:t.location,revalidation:t.revalidation,component:W,error:R,children:oe(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:m}):oe()},null)}function Zm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oS(n){let e=Re.useContext(yf);return ji(e,Zm(n)),e}function lS(n){let e=Re.useContext(hp);return ji(e,Zm(n)),e}function cS(n){let e=Re.useContext(kl);return ji(e,Zm(n)),e}function Qm(n){let e=cS(n),t=e.matches[e.matches.length-1];return ji(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uS(){return Qm("useRouteId")}function hS(){let n=Re.useContext(Ym),e=lS("useRouteError"),t=Qm("useRouteError");return n!==void 0?n:e.errors?.[t]}function fS(){let{router:n}=oS("useNavigate"),e=Qm("useNavigate"),t=Re.useRef(!1);return l4(()=>{t.current=!0}),Re.useCallback(async(a,l={})=>{zo(t.current,o4),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var Lv={};function h4(n,e,t){!e&&!Lv[n]&&(Lv[n]=!0,zo(!1,t))}Re.memo(dS);function dS({routes:n,future:e,state:t,onError:r}){return c4(n,void 0,t,r,e)}function Jm({to:n,replace:e,state:t,relative:r}){ji(vf(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Re.useContext(Oo);zo(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=Re.useContext(kl),{pathname:f}=vc(),g=Km(),y=Xm(n,Wm(l),f,r==="path"),m=JSON.stringify(y);return Re.useEffect(()=>{g(JSON.parse(m),{replace:e,state:t,relative:r})},[g,m,r,e,t]),null}function El(n){ji(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:f}){ji(!vf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=n.replace(/^\/*/,"/"),y=Re.useMemo(()=>({basename:g,navigator:a,static:l,unstable_useTransitions:f,future:{}}),[g,a,l,f]);typeof t=="string"&&(t=th(t));let{pathname:m="/",search:b="",hash:T="",state:L=null,key:R="default"}=t,X=Re.useMemo(()=>{let W=uc(m,g);return W==null?null:{location:{pathname:W,search:b,hash:T,state:L,key:R},navigationType:r}},[g,m,b,T,L,R,r]);return zo(X!=null,`<Router basename="${g}"> is not able to match the URL "${m}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:Re.createElement(Oo.Provider,{value:y},Re.createElement(Xd.Provider,{children:e,value:X}))}function gS({children:n,location:e}){return tS(J2(n),e)}function J2(n,e=[]){let t=[];return Re.Children.forEach(n,(r,a)=>{if(!Re.isValidElement(r))return;let l=[...e,a];if(r.type===Re.Fragment){t.push.apply(t,J2(r.props.children,l));return}ji(r.type===El,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ji(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=J2(r.props.children,l)),t.push(f)}),t}var d1="get",p1="application/x-www-form-urlencoded";function fp(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function mS(n){return fp(n)&&n.tagName.toLowerCase()==="button"}function xS(n){return fp(n)&&n.tagName.toLowerCase()==="form"}function yS(n){return fp(n)&&n.tagName.toLowerCase()==="input"}function vS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bS(n,e){return n.button===0&&(!e||e==="_self")&&!vS(n)}var J0=null;function wS(){if(J0===null)try{new FormData(document.createElement("form"),0),J0=!1}catch{J0=!0}return J0}var _S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h2(n){return n!=null&&!_S.has(n)?(zo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${p1}"`),null):n}function AS(n,e){let t,r,a,l,f;if(xS(n)){let g=n.getAttribute("action");r=g?uc(g,e):null,t=n.getAttribute("method")||d1,a=h2(n.getAttribute("enctype"))||p1,l=new FormData(n)}else if(mS(n)||yS(n)&&(n.type==="submit"||n.type==="image")){let g=n.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||g.getAttribute("action");if(r=y?uc(y,e):null,t=n.getAttribute("formmethod")||g.getAttribute("method")||d1,a=h2(n.getAttribute("formenctype"))||h2(g.getAttribute("enctype"))||p1,l=new FormData(g,n),!wS()){let{name:m,type:b,value:T}=n;if(b==="image"){let L=m?`${m}.`:"";l.append(`${L}x`,"0"),l.append(`${L}y`,"0")}else m&&l.append(m,T)}}else{if(fp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=d1,r=null,a=p1,f=n}return l&&a==="text/plain"&&(f=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $m(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ES(n,e,t,r){let a=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:e&&uc(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function SS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function NS(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let f=await SS(l,t);return f.links?f.links():[]}return[]}));return OS(r.flat(1).filter(CS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function kv(n,e,t,r,a,l){let f=(y,m)=>t[m]?y.route.id!==t[m].route.id:!0,g=(y,m)=>t[m].pathname!==y.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==y.params["*"];return l==="assets"?e.filter((y,m)=>f(y,m)||g(y,m)):l==="data"?e.filter((y,m)=>{let b=r.routes[y.route.id];if(!b||!b.hasLoader)return!1;if(f(y,m)||g(y,m))return!0;if(y.route.shouldRevalidate){let T=y.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function TS(n,e,{includeHydrateFallback:t}={}){return IS(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function IS(n){return[...new Set(n)]}function RS(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function OS(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(RS(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function f4(){let n=Re.useContext(yf);return $m(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DS(){let n=Re.useContext(hp);return $m(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ex=Re.createContext(void 0);ex.displayName="FrameworkContext";function d4(){let n=Re.useContext(ex);return $m(n,"You must render this element inside a <HydratedRouter> element"),n}function LS(n,e){let t=Re.useContext(ex),[r,a]=Re.useState(!1),[l,f]=Re.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:m,onMouseLeave:b,onTouchStart:T}=e,L=Re.useRef(null);Re.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let W=K=>{K.forEach(oe=>{f(oe.isIntersecting)})},$=new IntersectionObserver(W,{threshold:.5});return L.current&&$.observe(L.current),()=>{$.disconnect()}}},[n]),Re.useEffect(()=>{if(r){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[r]);let R=()=>{a(!0)},X=()=>{a(!1),f(!1)};return t?n!=="intent"?[l,L,{}]:[l,L,{onFocus:ud(g,R),onBlur:ud(y,X),onMouseEnter:ud(m,R),onMouseLeave:ud(b,X),onTouchStart:ud(T,R)}]:[!1,L,{}]}function ud(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kS({page:n,...e}){let{router:t}=f4(),r=Re.useMemo(()=>$3(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Re.createElement(PS,{page:n,matches:r,...e}):null}function MS(n){let{manifest:e,routeModules:t}=d4(),[r,a]=Re.useState([]);return Re.useEffect(()=>{let l=!1;return NS(n,e,t).then(f=>{l||a(f)}),()=>{l=!0}},[n,e,t]),r}function PS({page:n,matches:e,...t}){let r=vc(),{future:a,manifest:l,routeModules:f}=d4(),{basename:g}=f4(),{loaderData:y,matches:m}=DS(),b=Re.useMemo(()=>kv(n,e,m,l,r,"data"),[n,e,m,l,r]),T=Re.useMemo(()=>kv(n,e,m,l,r,"assets"),[n,e,m,l,r]),L=Re.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let W=new Set,$=!1;if(e.forEach(oe=>{let ue=l.routes[oe.route.id];!ue||!ue.hasLoader||(!b.some(pe=>pe.route.id===oe.route.id)&&oe.route.id in y&&f[oe.route.id]?.shouldRevalidate||ue.hasClientLoader?$=!0:W.add(oe.route.id))}),W.size===0)return[];let K=ES(n,g,a.unstable_trailingSlashAwareDataRequests,"data");return $&&W.size>0&&K.searchParams.set("_routes",e.filter(oe=>W.has(oe.route.id)).map(oe=>oe.route.id).join(",")),[K.pathname+K.search]},[g,a.unstable_trailingSlashAwareDataRequests,y,r,l,b,e,n,f]),R=Re.useMemo(()=>TS(T,l),[T,l]),X=MS(T);return Re.createElement(Re.Fragment,null,L.map(W=>Re.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...t})),R.map(W=>Re.createElement("link",{key:W,rel:"modulepreload",href:W,...t})),X.map(({key:W,link:$})=>Re.createElement("link",{key:W,nonce:t.nonce,...$,crossOrigin:$.crossOrigin??t.crossOrigin})))}function jS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var BS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BS&&(window.__reactRouterVersion="7.13.0")}catch{}function FS({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=Re.useRef();a.current==null&&(a.current=v8({window:r,v5Compat:!0}));let l=a.current,[f,g]=Re.useState({action:l.action,location:l.location}),y=Re.useCallback(m=>{t===!1?g(m):Re.startTransition(()=>g(m))},[t]);return Re.useLayoutEffect(()=>l.listen(y),[l,y]),Re.createElement(pS,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:l,unstable_useTransitions:t})}var p4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tx=Re.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:f,state:g,target:y,to:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:L,...R},X){let{basename:W,unstable_useTransitions:$}=Re.useContext(Oo),K=typeof m=="string"&&p4.test(m),oe=r4(m,W);m=oe.to;let ue=$8(m,{relative:a}),[pe,Ue,ze]=LS(r,R),Y=qS(m,{replace:f,state:g,target:y,preventScrollReset:b,relative:a,viewTransition:T,unstable_defaultShouldRevalidate:L,unstable_useTransitions:$});function G(re){e&&e(re),re.defaultPrevented||Y(re)}let P=Re.createElement("a",{...R,...ze,href:oe.absoluteURL||ue,onClick:oe.isExternal||l?e:G,ref:jS(X,Ue),target:y,"data-discover":!K&&t==="render"?"true":void 0});return pe&&!K?Re.createElement(Re.Fragment,null,P,Re.createElement(kS,{page:ue})):P});tx.displayName="Link";var US=Re.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:f,viewTransition:g,children:y,...m},b){let T=Yd(f,{relative:m.relative}),L=vc(),R=Re.useContext(hp),{navigator:X,basename:W}=Re.useContext(Oo),$=R!=null&&YS(T)&&g===!0,K=X.encodeLocation?X.encodeLocation(T).pathname:T.pathname,oe=L.pathname,ue=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(oe=oe.toLowerCase(),ue=ue?ue.toLowerCase():null,K=K.toLowerCase()),ue&&W&&(ue=uc(ue,W)||ue);const pe=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let Ue=oe===K||!a&&oe.startsWith(K)&&oe.charAt(pe)==="/",ze=ue!=null&&(ue===K||!a&&ue.startsWith(K)&&ue.charAt(K.length)==="/"),Y={isActive:Ue,isPending:ze,isTransitioning:$},G=Ue?e:void 0,P;typeof r=="function"?P=r(Y):P=[r,Ue?"active":null,ze?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let re=typeof l=="function"?l(Y):l;return Re.createElement(tx,{...m,"aria-current":G,className:P,ref:b,style:re,to:f,viewTransition:g},typeof y=="function"?y(Y):y)});US.displayName="NavLink";var VS=Re.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:f=d1,action:g,onSubmit:y,relative:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:L,...R},X)=>{let{unstable_useTransitions:W}=Re.useContext(Oo),$=WS(),K=XS(g,{relative:m}),oe=f.toLowerCase()==="get"?"get":"post",ue=typeof g=="string"&&p4.test(g),pe=Ue=>{if(y&&y(Ue),Ue.defaultPrevented)return;Ue.preventDefault();let ze=Ue.nativeEvent.submitter,Y=ze?.getAttribute("formmethod")||f,G=()=>$(ze||Ue.currentTarget,{fetcherKey:e,method:Y,navigate:t,replace:a,state:l,relative:m,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:L});W&&t!==!1?Re.startTransition(()=>G()):G()};return Re.createElement("form",{ref:X,method:oe,action:K,onSubmit:r?y:pe,...R,"data-discover":!ue&&n==="render"?"true":void 0})});VS.displayName="Form";function zS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g4(n){let e=Re.useContext(yf);return ji(e,zS(n)),e}function qS(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:y}={}){let m=Km(),b=vc(),T=Yd(n,{relative:l});return Re.useCallback(L=>{if(bS(L,e)){L.preventDefault();let R=t!==void 0?t:Ld(b)===Ld(T),X=()=>m(n,{replace:R,state:r,preventScrollReset:a,relative:l,viewTransition:f,unstable_defaultShouldRevalidate:g});y?Re.startTransition(()=>X()):X()}},[b,m,T,t,r,e,n,a,l,f,g,y])}var HS=0,GS=()=>`__${String(++HS)}__`;function WS(){let{router:n}=g4("useSubmit"),{basename:e}=Re.useContext(Oo),t=uS(),r=n.fetch,a=n.navigate;return Re.useCallback(async(l,f={})=>{let{action:g,method:y,encType:m,formData:b,body:T}=AS(l,e);if(f.navigate===!1){let L=f.fetcherKey||GS();await r(L,t,f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||y,formEncType:f.encType||m,flushSync:f.flushSync})}else await a(f.action||g,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||y,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:t,flushSync:f.flushSync,viewTransition:f.viewTransition})},[r,a,e,t])}function XS(n,{relative:e}={}){let{basename:t}=Re.useContext(Oo),r=Re.useContext(kl);ji(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Yd(n||".",{relative:e})},f=vc();if(n==null){l.search=f.search;let g=new URLSearchParams(l.search),y=g.getAll("index");if(y.some(b=>b==="")){g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let b=g.toString();l.search=b?`?${b}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ac([t,l.pathname])),Ld(l)}function YS(n,{relative:e}={}){let t=Re.useContext(s4);ji(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=g4("useViewTransitionState"),a=Yd(n,{relative:e});if(!t.isTransitioning)return!1;let l=uc(t.currentLocation.pathname,r)||t.currentLocation.pathname,f=uc(t.nextLocation.pathname,r)||t.nextLocation.pathname;return D1(a.pathname,f)!=null||D1(a.pathname,l)!=null}const KS=()=>{};var Mv={};const m4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},ZS=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],f=n[t++],g=n[t++],y=((a&7)<<18|(l&63)<<12|(f&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const l=n[t++],f=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|f&63)}}return e.join("")},x4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],f=a+1<n.length,g=f?n[a+1]:0,y=a+2<n.length,m=y?n[a+2]:0,b=l>>2,T=(l&3)<<4|g>>4;let L=(g&15)<<2|m>>6,R=m&63;y||(R=64,f||(L=64)),r.push(t[b],t[T],t[L],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],g=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||g==null||m==null||T==null)throw new QS;const L=l<<2|g>>4;if(r.push(L),m!==64){const R=g<<4&240|m>>2;if(r.push(R),T!==64){const X=m<<6&192|T;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(n){const e=m4(n);return x4.encodeByteArray(e,!0)},L1=function(n){return JS(n).replace(/\./g,"")},y4=function(n){try{return x4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $S(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eC=()=>$S().__FIREBASE_DEFAULTS__,tC=()=>{if(typeof process>"u"||typeof Mv>"u")return;const n=Mv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y4(n[1]);return e&&JSON.parse(e)},dp=()=>{try{return KS()||eC()||tC()||nC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},v4=n=>dp()?.emulatorHosts?.[n],rC=n=>{const e=v4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},b4=()=>dp()?.config,w4=n=>dp()?.[`_${n}`];class iC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function bf(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _4(n){return(await fetch(n,{credentials:"include"})).ok}function sC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[L1(JSON.stringify(t)),L1(JSON.stringify(f)),""].join(".")}const _d={};function aC(){const n={prod:[],emulator:[]};for(const e of Object.keys(_d))_d[e]?n.emulator.push(e):n.prod.push(e);return n}function oC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Pv=!1;function A4(n,e){if(typeof window>"u"||typeof document>"u"||!bf(window.location.host)||_d[n]===e||_d[n]||Pv)return;_d[n]=e;function t(L){return`__firebase__banner__${L}`}const r="__firebase__banner",l=aC().prod.length>0;function f(){const L=document.getElementById(r);L&&L.remove()}function g(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function y(L,R){L.setAttribute("width","24"),L.setAttribute("id",R),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function m(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{Pv=!0,f()},L}function b(L,R){L.setAttribute("id",R),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function T(){const L=oC(r),R=t("text"),X=document.getElementById(R)||document.createElement("span"),W=t("learnmore"),$=document.getElementById(W)||document.createElement("a"),K=t("preprendIcon"),oe=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const ue=L.element;g(ue),b($,W);const pe=m();y(oe,K),ue.append(oe,X,$,pe),document.body.appendChild(ue)}l?(X.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function za(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(za())}function cC(){const n=dp()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dC(){const n=za();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gC(){try{return typeof indexedDB=="object"}catch{return!1}}function mC(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const xC="FirebaseError";class bc extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=xC,Object.setPrototypeOf(this,bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kd.prototype.create)}}class Kd{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],f=l?yC(l,r):"Error",g=`${this.serviceName}: ${f} (${a}).`;return new bc(a,g,r)}}function yC(n,e){return n.replace(vC,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const vC=/\{\$([^}]+)}/g;function bC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function au(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],f=e[a];if(jv(l)&&jv(f)){if(!au(l,f))return!1}else if(l!==f)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function jv(n){return n!==null&&typeof n=="object"}function Zd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pd(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function gd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function wC(n,e){const t=new _C(n,e);return t.subscribe.bind(t)}class _C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AC(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=f2),a.error===void 0&&(a.error=f2),a.complete===void 0&&(a.complete=f2);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AC(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function f2(){}function da(n){return n&&n._delegate?n._delegate:n}class zu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ku="[DEFAULT]";class EC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new iC;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CC(e))try{this.getOrInitializeService({instanceIdentifier:ku})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ku){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ku){return this.instances.has(e)}getOptions(e=ku){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(l);r===g&&f.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ku){return this.component?this.component.multipleInstances?e:ku:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SC(n){return n===ku?void 0:n}function CC(n){return n.instantiationMode==="EAGER"}class NC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new EC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var br;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(br||(br={}));const TC={debug:br.DEBUG,verbose:br.VERBOSE,info:br.INFO,warn:br.WARN,error:br.ERROR,silent:br.SILENT},IC=br.INFO,RC={[br.DEBUG]:"log",[br.VERBOSE]:"log",[br.INFO]:"info",[br.WARN]:"warn",[br.ERROR]:"error"},OC=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=RC[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nx{constructor(e){this.name=e,this._logLevel=IC,this._logHandler=OC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in br))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,br.DEBUG,...e),this._logHandler(this,br.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,br.VERBOSE,...e),this._logHandler(this,br.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,br.INFO,...e),this._logHandler(this,br.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,br.WARN,...e),this._logHandler(this,br.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,br.ERROR,...e),this._logHandler(this,br.ERROR,...e)}}const DC=(n,e)=>e.some(t=>n instanceof t);let Bv,Fv;function LC(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kC(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E4=new WeakMap,$2=new WeakMap,S4=new WeakMap,d2=new WeakMap,rx=new WeakMap;function MC(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",f)},l=()=>{t(eu(n.result)),a()},f=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",f)});return e.then(t=>{t instanceof IDBCursor&&E4.set(t,n)}).catch(()=>{}),rx.set(e,n),e}function PC(n){if($2.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",f),n.removeEventListener("abort",f)},l=()=>{t(),a()},f=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",f),n.addEventListener("abort",f)});$2.set(n,e)}let em={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $2.get(n);if(e==="objectStoreNames")return n.objectStoreNames||S4.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jC(n){em=n(em)}function BC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(p2(this),e,...t);return S4.set(r,e.sort?e.sort():[e]),eu(r)}:kC().includes(n)?function(...e){return n.apply(p2(this),e),eu(E4.get(this))}:function(...e){return eu(n.apply(p2(this),e))}}function FC(n){return typeof n=="function"?BC(n):(n instanceof IDBTransaction&&PC(n),DC(n,LC())?new Proxy(n,em):n)}function eu(n){if(n instanceof IDBRequest)return MC(n);if(d2.has(n))return d2.get(n);const e=FC(n);return e!==n&&(d2.set(n,e),rx.set(e,n)),e}const p2=n=>rx.get(n);function UC(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const f=indexedDB.open(n,e),g=eu(f);return r&&f.addEventListener("upgradeneeded",y=>{r(eu(f.result),y.oldVersion,y.newVersion,eu(f.transaction),y)}),t&&f.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),g.then(y=>{l&&y.addEventListener("close",()=>l()),a&&y.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),g}const VC=["get","getKey","getAll","getAllKeys","count"],zC=["put","add","delete","clear"],g2=new Map;function Uv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(g2.get(e))return g2.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=zC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||VC.includes(t)))return;const l=async function(f,...g){const y=this.transaction(f,a?"readwrite":"readonly");let m=y.store;return r&&(m=m.index(g.shift())),(await Promise.all([m[t](...g),a&&y.done]))[0]};return g2.set(e,l),l}jC(n=>({...n,get:(e,t,r)=>Uv(e,t)||n.get(e,t,r),has:(e,t)=>!!Uv(e,t)||n.has(e,t)}));class qC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function HC(n){return n.getComponent()?.type==="VERSION"}const tm="@firebase/app",Vv="0.14.8";const hc=new nx("@firebase/app"),GC="@firebase/app-compat",WC="@firebase/analytics-compat",XC="@firebase/analytics",YC="@firebase/app-check-compat",KC="@firebase/app-check",ZC="@firebase/auth",QC="@firebase/auth-compat",JC="@firebase/database",$C="@firebase/data-connect",eN="@firebase/database-compat",tN="@firebase/functions",nN="@firebase/functions-compat",rN="@firebase/installations",iN="@firebase/installations-compat",sN="@firebase/messaging",aN="@firebase/messaging-compat",oN="@firebase/performance",lN="@firebase/performance-compat",cN="@firebase/remote-config",uN="@firebase/remote-config-compat",hN="@firebase/storage",fN="@firebase/storage-compat",dN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",mN="firebase",xN="12.9.0";const nm="[DEFAULT]",yN={[tm]:"fire-core",[GC]:"fire-core-compat",[XC]:"fire-analytics",[WC]:"fire-analytics-compat",[KC]:"fire-app-check",[YC]:"fire-app-check-compat",[ZC]:"fire-auth",[QC]:"fire-auth-compat",[JC]:"fire-rtdb",[$C]:"fire-data-connect",[eN]:"fire-rtdb-compat",[tN]:"fire-fn",[nN]:"fire-fn-compat",[rN]:"fire-iid",[iN]:"fire-iid-compat",[sN]:"fire-fcm",[aN]:"fire-fcm-compat",[oN]:"fire-perf",[lN]:"fire-perf-compat",[cN]:"fire-rc",[uN]:"fire-rc-compat",[hN]:"fire-gcs",[fN]:"fire-gcs-compat",[dN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[mN]:"fire-js-all"};const k1=new Map,vN=new Map,rm=new Map;function zv(n,e){try{n.container.addComponent(e)}catch(t){hc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function uf(n){const e=n.name;if(rm.has(e))return hc.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,n);for(const t of k1.values())zv(t,n);for(const t of vN.values())zv(t,n);return!0}function ix(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Bo(n){return n==null?!1:n.settings!==void 0}const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new Kd("app","Firebase",bN);class wN{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}const wf=xN;function C4(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:nm,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw tu.create("bad-app-name",{appName:String(a)});if(t||(t=b4()),!t)throw tu.create("no-options");const l=k1.get(a);if(l){if(au(t,l.options)&&au(r,l.config))return l;throw tu.create("duplicate-app",{appName:a})}const f=new NC(a);for(const y of rm.values())f.addComponent(y);const g=new wN(t,r,f);return k1.set(a,g),g}function N4(n=nm){const e=k1.get(n);if(!e&&n===nm&&b4())return C4();if(!e)throw tu.create("no-app",{appName:n});return e}function nu(n,e,t){let r=yN[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const f=[`Unable to register library "${r}" with version "${e}":`];a&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&f.push("and"),l&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hc.warn(f.join(" "));return}uf(new zu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const _N="firebase-heartbeat-database",AN=1,kd="firebase-heartbeat-store";let m2=null;function T4(){return m2||(m2=UC(_N,AN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kd)}catch(t){console.warn(t)}}}}).catch(n=>{throw tu.create("idb-open",{originalErrorMessage:n.message})})),m2}async function EN(n){try{const t=(await T4()).transaction(kd),r=await t.objectStore(kd).get(I4(n));return await t.done,r}catch(e){if(e instanceof bc)hc.warn(e.message);else{const t=tu.create("idb-get",{originalErrorMessage:e?.message});hc.warn(t.message)}}}async function qv(n,e){try{const r=(await T4()).transaction(kd,"readwrite");await r.objectStore(kd).put(e,I4(n)),await r.done}catch(t){if(t instanceof bc)hc.warn(t.message);else{const r=tu.create("idb-set",{originalErrorMessage:t?.message});hc.warn(r.message)}}}function I4(n){return`${n.name}!${n.options.appId}`}const SN=1024,CN=30;class NN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>CN){const a=RN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hc.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hv(),{heartbeatsToSend:t,unsentEntries:r}=TN(this._heartbeatsCache.heartbeats),a=L1(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return hc.warn(e),""}}}function Hv(){return new Date().toISOString().substring(0,10)}function TN(n,e=SN){const t=[];let r=n.slice();for(const a of n){const l=t.find(f=>f.agent===a.agent);if(l){if(l.dates.push(a.date),Gv(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Gv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gC()?mC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Gv(n){return L1(JSON.stringify({version:2,heartbeats:n})).length}function RN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function ON(n){uf(new zu("platform-logger",e=>new qC(e),"PRIVATE")),uf(new zu("heartbeat",e=>new NN(e),"PRIVATE")),nu(tm,Vv,n),nu(tm,Vv,"esm2020"),nu("fire-js","")}ON("");function R4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DN=R4,O4=new Kd("auth","Firebase",R4());const M1=new nx("@firebase/auth");function LN(n,...e){M1.logLevel<=br.WARN&&M1.warn(`Auth (${wf}): ${n}`,...e)}function g1(n,...e){M1.logLevel<=br.ERROR&&M1.error(`Auth (${wf}): ${n}`,...e)}function il(n,...e){throw sx(n,...e)}function Tl(n,...e){return sx(n,...e)}function D4(n,e,t){const r={...DN(),[e]:t};return new Kd("auth","Firebase",r).create(e,{appName:n.name})}function oc(n){return D4(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sx(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return O4.create(n,...e)}function Mn(n,e,...t){if(!n)throw sx(e,...t)}function rc(n){const e="INTERNAL ASSERTION FAILED: "+n;throw g1(e),new Error(e)}function fc(n,e){n||rc(e)}function im(){return typeof self<"u"&&self.location?.href||""}function kN(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||hC()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Qd{constructor(e,t){this.shortDelay=e,this.longDelay=t,fc(t>e,"Short delay should be less than long delay!"),this.isMobile=lC()||fC()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ax(n,e){fc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class L4{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FN=new Qd(3e4,6e4);function gu(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function mu(n,e,t,r,a={}){return k4(n,a,async()=>{let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});const g=Zd({key:n.config.apiKey,...f}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:y,...l};return uC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&bf(n.emulatorConfig.host)&&(m.credentials="include"),L4.fetch()(await M4(n,n.config.apiHost,t,g),m)})}async function k4(n,e,t){n._canInitEmulator=!1;const r={...jN,...e};try{const a=new VN(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const f=await l.json();if("needConfirmation"in f)throw $0(n,"account-exists-with-different-credential",f);if(l.ok&&!("errorMessage"in f))return f;{const g=l.ok?f.errorMessage:f.error.message,[y,m]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw $0(n,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw $0(n,"email-already-in-use",f);if(y==="USER_DISABLED")throw $0(n,"user-disabled",f);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw D4(n,b,m);il(n,b)}}catch(a){if(a instanceof bc)throw a;il(n,"network-request-failed",{message:String(a)})}}async function Jd(n,e,t,r,a={}){const l=await mu(n,e,t,r,a);return"mfaPendingCredential"in l&&il(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function M4(n,e,t,r){const a=`${e}${t}?${r}`,l=n,f=l.config.emulator?ax(n.config,a):`${n.config.apiScheme}://${a}`;return BN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(f).toString():f}function UN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Tl(this.auth,"network-request-failed")),FN.get())})}}function $0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Tl(n,e,r);return a.customData._tokenResponse=t,a}function Xv(n){return n!==void 0&&n.enterprise!==void 0}class zN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qN(n,e){return mu(n,"GET","/v2/recaptchaConfig",gu(n,e))}async function HN(n,e){return mu(n,"POST","/v1/accounts:delete",e)}async function P1(n,e){return mu(n,"POST","/v1/accounts:lookup",e)}function Ad(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GN(n,e=!1){const t=da(n),r=await t.getIdToken(e),a=ox(r);Mn(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,f=l?.sign_in_provider;return{claims:a,token:r,authTime:Ad(x2(a.auth_time)),issuedAtTime:Ad(x2(a.iat)),expirationTime:Ad(x2(a.exp)),signInProvider:f||null,signInSecondFactor:l?.sign_in_second_factor||null}}function x2(n){return Number(n)*1e3}function ox(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return g1("JWT malformed, contained fewer than 3 sections"),null;try{const a=y4(t);return a?JSON.parse(a):(g1("Failed to decode base64 JWT payload"),null)}catch(a){return g1("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Yv(n){const e=ox(n);return Mn(e,"internal-error"),Mn(typeof e.exp<"u","internal-error"),Mn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Md(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bc&&WN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function WN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class XN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ad(this.lastLoginAt),this.creationTime=Ad(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function j1(n){const e=n.auth,t=await n.getIdToken(),r=await Md(n,P1(e,{idToken:t}));Mn(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?P4(a.providerUserInfo):[],f=KN(n.providerData,l),g=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!f?.length,m=g?y:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:f,metadata:new sm(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function YN(n){const e=da(n);await j1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KN(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function P4(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function ZN(n,e){const t=await k4(n,{},async()=>{const r=Zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,f=await M4(n,a,"/v1/token",`key=${l}`),g=await n._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return n.emulatorConfig&&bf(n.emulatorConfig.host)&&(y.credentials="include"),L4.fetch()(f,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QN(n,e){return mu(n,"POST","/v2/accounts:revokeToken",gu(n,e))}class $h{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Mn(e.idToken,"internal-error"),Mn(typeof e.idToken<"u","internal-error"),Mn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Mn(e.length!==0,"internal-error");const t=Yv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Mn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await ZN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,f=new $h;return r&&(Mn(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),a&&(Mn(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),l&&(Mn(typeof l=="number","internal-error",{appName:e}),f.expirationTime=l),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $h,this.toJSON())}_performRefresh(){return rc("not implemented")}}function Gc(n,e){Mn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tl{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new XN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Md(this,this.stsTokenManager.getToken(this.auth,e));return Mn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return GN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(Mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tl({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await j1(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bo(this.auth.app))return Promise.reject(oc(this.auth));const e=await this.getIdToken();return await Md(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,f=t.photoURL??void 0,g=t.tenantId??void 0,y=t._redirectEventId??void 0,m=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:T,emailVerified:L,isAnonymous:R,providerData:X,stsTokenManager:W}=t;Mn(T&&W,e,"internal-error");const $=$h.fromJSON(this.name,W);Mn(typeof T=="string",e,"internal-error"),Gc(r,e.name),Gc(a,e.name),Mn(typeof L=="boolean",e,"internal-error"),Mn(typeof R=="boolean",e,"internal-error"),Gc(l,e.name),Gc(f,e.name),Gc(g,e.name),Gc(y,e.name),Gc(m,e.name),Gc(b,e.name);const K=new tl({uid:T,auth:e,email:a,emailVerified:L,displayName:r,isAnonymous:R,photoURL:f,phoneNumber:l,tenantId:g,stsTokenManager:$,createdAt:m,lastLoginAt:b});return X&&Array.isArray(X)&&(K.providerData=X.map(oe=>({...oe}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(e,t,r=!1){const a=new $h;a.updateFromServerResponse(t);const l=new tl({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await j1(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Mn(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?P4(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!l?.length,g=new $h;g.updateFromIdToken(r);const y=new tl({uid:a.localId,auth:e,stsTokenManager:g,isAnonymous:f}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new sm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(y,m),y}}const Kv=new Map;function ic(n){fc(n instanceof Function,"Expected a class definition");let e=Kv.get(n);return e?(fc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kv.set(n,e),e)}class j4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}j4.type="NONE";const Zv=j4;function m1(n,e,t){return`firebase:${n}:${e}:${t}`}class ef{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=m1(this.userKey,a.apiKey,l),this.fullPersistenceKey=m1("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await P1(this.auth,{idToken:e}).catch(()=>{});return t?tl._fromGetAccountInfoResponse(this.auth,t,e):null}return tl._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ef(ic(Zv),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ic(Zv);const f=m1(r,e.config.apiKey,e.name);let g=null;for(const m of t)try{const b=await m._get(f);if(b){let T;if(typeof b=="string"){const L=await P1(e,{idToken:b}).catch(()=>{});if(!L)break;T=await tl._fromGetAccountInfoResponse(e,L,b)}else T=tl._fromJSON(e,b);m!==l&&(g=T),l=m;break}}catch{}const y=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!y.length?new ef(l,e,r):(l=y[0],g&&await l._set(f,g.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(f)}catch{}})),new ef(l,e,r))}}function Qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q4(e))return"Blackberry";if(H4(e))return"Webos";if(F4(e))return"Safari";if((e.includes("chrome/")||U4(e))&&!e.includes("edge/"))return"Chrome";if(z4(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function B4(n=za()){return/firefox\//i.test(n)}function F4(n=za()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function U4(n=za()){return/crios\//i.test(n)}function V4(n=za()){return/iemobile/i.test(n)}function z4(n=za()){return/android/i.test(n)}function q4(n=za()){return/blackberry/i.test(n)}function H4(n=za()){return/webos/i.test(n)}function lx(n=za()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JN(n=za()){return lx(n)&&!!window.navigator?.standalone}function $N(){return dC()&&document.documentMode===10}function G4(n=za()){return lx(n)||z4(n)||H4(n)||q4(n)||/windows phone/i.test(n)||V4(n)}function W4(n,e=[]){let t;switch(n){case"Browser":t=Qv(za());break;case"Worker":t=`${Qv(za())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wf}/${r}`}class eT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((f,g)=>{try{const y=e(l);f(y)}catch(y){g(y)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function tT(n,e={}){return mu(n,"GET","/v2/passwordPolicy",gu(n,e))}const nT=6;class rT{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??nT,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class iT{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new eT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ic(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ef.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await P1(this,{idToken:e}),r=await tl._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Bo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!l||l===f)&&g?.user&&(r=g.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Mn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await j1(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Bo(this.app))return Promise.reject(oc(this));const t=e?da(e):null;return t&&Mn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Mn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Bo(this.app)?Promise.reject(oc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Bo(this.app)?Promise.reject(oc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ic(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tT(this),t=new rT(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kd("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await QN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ic(e)||this._popupRedirectResolver;Mn(t,this,"argument-error"),this.redirectPersistenceManager=await ef.create(this,[ic(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Mn(g,this,"internal-error"),g.then(()=>{f||l(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,r,a);return()=>{f=!0,y()}}else{const y=e.addObserver(t);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function nh(n){return da(n)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(t=>this.observer=t)}get next(){return Mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sT(n){pp=n}function X4(n){return pp.loadJS(n)}function aT(){return pp.recaptchaEnterpriseScript}function oT(){return pp.gapiScript}function lT(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cT{constructor(){this.enterprise=new uT}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uT{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const hT="recaptcha-enterprise",Y4="NO_RECAPTCHA";class fT{constructor(e){this.type=hT,this.auth=nh(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(f,g)=>{qN(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const m=new zN(y);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,f(m.siteKey)}}).catch(y=>{g(y)})})}function a(l,f,g){const y=window.grecaptcha;Xv(y)?y.enterprise.ready(()=>{y.enterprise.execute(l,{action:e}).then(m=>{f(m)}).catch(()=>{f(Y4)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cT().execute("siteKey",{action:"verify"}):new Promise((l,f)=>{r(this.auth).then(g=>{if(!t&&Xv(window.grecaptcha))a(g,l,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=aT();y.length!==0&&(y+=g),X4(y).then(()=>{a(g,l,f)}).catch(m=>{f(m)})}}).catch(g=>{f(g)})})}}async function $v(n,e,t,r=!1,a=!1){const l=new fT(n);let f;if(a)f=Y4;else try{f=await l.verify(t)}catch{f=await l.verify(t,!0)}const g={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,m=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:m,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function am(n,e,t,r,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await $v(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await $v(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(l)})}function dT(n,e){const t=ix(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(au(l,e??{}))return a;il(a,"already-initialized")}return t.initialize({options:e})}function pT(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ic);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function gT(n,e,t){const r=nh(n);Mn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=K4(e),{host:f,port:g}=mT(e),y=g===null?"":`:${g}`,m={url:`${l}//${f}${y}/`},b=Object.freeze({host:f,port:g,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Mn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Mn(au(m,r.config.emulator)&&au(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,bf(f)?(_4(`${l}//${f}${y}`),A4("Auth",!0)):xT()}function K4(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mT(n){const e=K4(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:eb(r.substr(l.length+1))}}else{const[l,f]=r.split(":");return{host:l,port:eb(f)}}}function eb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function xT(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class cx{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rc("not implemented")}_getIdTokenResponse(e){return rc("not implemented")}_linkToIdToken(e,t){return rc("not implemented")}_getReauthenticationResolver(e){return rc("not implemented")}}async function yT(n,e){return mu(n,"POST","/v1/accounts:signUp",e)}async function vT(n,e){return Jd(n,"POST","/v1/accounts:signInWithPassword",gu(n,e))}async function bT(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",gu(n,e))}async function wT(n,e){return Jd(n,"POST","/v1/accounts:signInWithEmailLink",gu(n,e))}class Pd extends cx{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Pd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Pd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,t,"signInWithPassword",vT);case"emailLink":return bT(e,{email:this._email,oobCode:this._password});default:il(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,r,"signUpPassword",yT);case"emailLink":return wT(e,{idToken:t,email:this._email,oobCode:this._password});default:il(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tf(n,e){return Jd(n,"POST","/v1/accounts:signInWithIdp",gu(n,e))}const _T="http://localhost";class qu extends cx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):il("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const f=new qu(r,a);return f.idToken=l.idToken||void 0,f.accessToken=l.accessToken||void 0,f.secret=l.secret,f.nonce=l.nonce,f.pendingToken=l.pendingToken||null,f}_getIdTokenResponse(e){const t=this.buildRequest();return tf(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,tf(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,tf(e,t)}buildRequest(){const e={requestUri:_T,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zd(t)}return e}}function AT(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ET(n){const e=pd(gd(n)).link,t=e?pd(gd(e)).deep_link_id:null,r=pd(gd(n)).deep_link_id;return(r?pd(gd(r)).link:null)||r||t||e||n}class ux{constructor(e){const t=pd(gd(e)),r=t.apiKey??null,a=t.oobCode??null,l=AT(t.mode??null);Mn(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=ET(e);try{return new ux(t)}catch{return null}}}class _f{constructor(){this.providerId=_f.PROVIDER_ID}static credential(e,t){return Pd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ux.parseLink(t);return Mn(r,"argument-error"),Pd._fromEmailAndCode(e,r.code,r.tenantId)}}_f.PROVIDER_ID="password";_f.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_f.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Z4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $d extends Z4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yc extends $d{constructor(){super("facebook.com")}static credential(e){return qu._fromParams({providerId:Yc.PROVIDER_ID,signInMethod:Yc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yc.credentialFromTaggedObject(e)}static credentialFromError(e){return Yc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yc.credential(e.oauthAccessToken)}catch{return null}}}Yc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yc.PROVIDER_ID="facebook.com";class Kc extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qu._fromParams({providerId:Kc.PROVIDER_ID,signInMethod:Kc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Kc.credentialFromTaggedObject(e)}static credentialFromError(e){return Kc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Kc.credential(t,r)}catch{return null}}}Kc.GOOGLE_SIGN_IN_METHOD="google.com";Kc.PROVIDER_ID="google.com";class Zc extends $d{constructor(){super("github.com")}static credential(e){return qu._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zc.credential(e.oauthAccessToken)}catch{return null}}}Zc.GITHUB_SIGN_IN_METHOD="github.com";Zc.PROVIDER_ID="github.com";class Qc extends $d{constructor(){super("twitter.com")}static credential(e,t){return qu._fromParams({providerId:Qc.PROVIDER_ID,signInMethod:Qc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qc.credentialFromTaggedObject(e)}static credentialFromError(e){return Qc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Qc.credential(t,r)}catch{return null}}}Qc.TWITTER_SIGN_IN_METHOD="twitter.com";Qc.PROVIDER_ID="twitter.com";async function ST(n,e){return Jd(n,"POST","/v1/accounts:signUp",gu(n,e))}class Hu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await tl._fromIdTokenResponse(e,r,a),f=tb(r);return new Hu({user:l,providerId:f,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=tb(r);return new Hu({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function tb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class B1 extends bc{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,B1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new B1(e,t,r,a)}}function Q4(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?B1._fromErrorAndOperation(n,l,e,r):l})}async function CT(n,e,t=!1){const r=await Md(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Hu._forOperation(n,"link",r)}async function NT(n,e,t=!1){const{auth:r}=n;if(Bo(r.app))return Promise.reject(oc(r));const a="reauthenticate";try{const l=await Md(n,Q4(r,a,e,n),t);Mn(l.idToken,r,"internal-error");const f=ox(l.idToken);Mn(f,r,"internal-error");const{sub:g}=f;return Mn(n.uid===g,r,"user-mismatch"),Hu._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&il(r,"user-mismatch"),l}}async function J4(n,e,t=!1){if(Bo(n.app))return Promise.reject(oc(n));const r="signIn",a=await Q4(n,r,e),l=await Hu._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function TT(n,e){return J4(nh(n),e)}async function $4(n){const e=nh(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e_(n,e,t){if(Bo(n.app))return Promise.reject(oc(n));const r=nh(n),f=await am(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ST).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&$4(n),y}),g=await Hu._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(g.user),g}function IT(n,e,t){return Bo(n.app)?Promise.reject(oc(n)):TT(da(n),_f.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$4(n),r})}function RT(n,e,t,r){return da(n).onIdTokenChanged(e,t,r)}function OT(n,e,t){return da(n).beforeAuthStateChanged(e,t)}function DT(n,e,t,r){return da(n).onAuthStateChanged(e,t,r)}const F1="__sak";class t_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(F1,"1"),this.storage.removeItem(F1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const LT=1e3,kT=10;class n_ extends t_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const f=this.storage.getItem(r);!t&&this.localCache[r]===f||this.notifyListeners(r,f)},l=this.storage.getItem(r);$N()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,kT):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},LT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}n_.type="LOCAL";const MT=n_;class r_ extends t_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}r_.type="SESSION";const i_=r_;function PT(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,f=this.handlersMap[a];if(!f?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const g=Array.from(f).map(async m=>m(t.origin,l)),y=await PT(g);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];function hx(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class jT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,f;return new Promise((g,y)=>{const m=hx("",20);a.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:a,onMessage(T){const L=T;if(L.data.eventId===m)switch(L.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),g(L.data.response);break;default:clearTimeout(b),clearTimeout(l),y(new Error("invalid_response"));break}}},this.handlers.add(f),a.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Il(){return window}function BT(n){Il().location.href=n}function s_(){return typeof Il().WorkerGlobalScope<"u"&&typeof Il().importScripts=="function"}async function FT(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UT(){return navigator?.serviceWorker?.controller||null}function VT(){return s_()?self:null}const a_="firebaseLocalStorageDb",zT=1,U1="firebaseLocalStorage",o_="fbase_key";class e0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function mp(n,e){return n.transaction([U1],e?"readwrite":"readonly").objectStore(U1)}function qT(){const n=indexedDB.deleteDatabase(a_);return new e0(n).toPromise()}function om(){const n=indexedDB.open(a_,zT);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(U1,{keyPath:o_})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(U1)?e(r):(r.close(),await qT(),e(await om()))})})}async function nb(n,e,t){const r=mp(n,!0).put({[o_]:e,value:t});return new e0(r).toPromise()}async function HT(n,e){const t=mp(n,!1).get(e),r=await new e0(t).toPromise();return r===void 0?null:r.value}function rb(n,e){const t=mp(n,!0).delete(e);return new e0(t).toPromise()}const GT=800,WT=3;class l_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>WT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(VT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FT(),!this.activeServiceWorker)return;this.sender=new jT(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await nb(e,F1,"1"),await rb(e,F1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>nb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>HT(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=mp(a,!1).getAll();return new e0(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l_.type="LOCAL";const XT=l_;new Qd(3e4,6e4);function YT(n,e){return e?ic(e):(Mn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class fx extends cx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KT(n){return J4(n.auth,new fx(n),n.bypassAuthState)}function ZT(n){const{auth:e,user:t}=n;return Mn(t,e,"internal-error"),NT(t,new fx(n),n.bypassAuthState)}async function QT(n){const{auth:e,user:t}=n;return Mn(t,e,"internal-error"),CT(t,new fx(n),n.bypassAuthState)}class c_{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KT;case"linkViaPopup":case"linkViaRedirect":return QT;case"reauthViaPopup":case"reauthViaRedirect":return ZT;default:il(this.auth,"internal-error")}}resolve(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JT=new Qd(2e3,1e4);class Zh extends c_{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Zh.currentPopupAction&&Zh.currentPopupAction.cancel(),Zh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Mn(e,this.auth,"internal-error"),e}async onExecution(){fc(this.filter.length===1,"Popup operations only handle one event");const e=hx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JT.get())};e()}}Zh.currentPopupAction=null;const $T="pendingRedirect",x1=new Map;class eI extends c_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=x1.get(this.auth._key());if(!e){try{const r=await tI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}x1.set(this.auth._key(),e)}return this.bypassAuthState||x1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tI(n,e){const t=iI(e),r=rI(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function nI(n,e){x1.set(n._key(),e)}function rI(n){return ic(n._redirectPersistence)}function iI(n){return m1($T,n.config.apiKey,n.name)}async function sI(n,e,t=!1){if(Bo(n.app))return Promise.reject(oc(n));const r=nh(n),a=YT(r,e),f=await new eI(r,a,t).execute();return f&&!t&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}const aI=600*1e3;class oI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!u_(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tl(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aI&&this.cachedEventUids.clear(),this.cachedEventUids.has(ib(e))}saveEventToCache(e){this.cachedEventUids.add(ib(e)),this.lastProcessedEventTime=Date.now()}}function ib(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function u_({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function lI(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u_(n);default:return!1}}async function cI(n,e={}){return mu(n,"GET","/v1/projects",e)}const uI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hI=/^https?/;async function fI(n){if(n.config.emulator)return;const{authorizedDomains:e}=await cI(n);for(const t of e)try{if(dI(t))return}catch{}il(n,"unauthorized-domain")}function dI(n){const e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const f=new URL(n);return f.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&f.hostname===r}if(!hI.test(t))return!1;if(uI.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const pI=new Qd(3e4,6e4);function sb(){const n=Il().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function gI(n){return new Promise((e,t)=>{function r(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),t(Tl(n,"network-request-failed"))},timeout:pI.get()})}if(Il().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Il().gapi?.load)r();else{const a=lT("iframefcb");return Il()[a]=()=>{gapi.load?r():t(Tl(n,"network-request-failed"))},X4(`${oT()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw y1=null,e})}let y1=null;function mI(n){return y1=y1||gI(n),y1}const xI=new Qd(5e3,15e3),yI="__/auth/iframe",vI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _I(n){const e=n.config;Mn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ax(e,vI):`https://${n.config.authDomain}/${yI}`,r={apiKey:e.apiKey,appName:n.name,v:wf},a=wI.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Zd(r).slice(1)}`}async function AI(n){const e=await mI(n),t=Il().gapi;return Mn(t,n,"internal-error"),e.open({where:document.body,url:_I(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const f=Tl(n,"network-request-failed"),g=Il().setTimeout(()=>{l(f)},xI.get());function y(){Il().clearTimeout(g),a(r)}r.ping(y).then(y,()=>{l(f)})}))}const EI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,CI=600,NI="_blank",TI="http://localhost";class ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function II(n,e,t,r=SI,a=CI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...EI,width:r.toString(),height:a.toString(),top:l,left:f},m=za().toLowerCase();t&&(g=U4(m)?NI:t),B4(m)&&(e=e||TI,y.scrollbars="yes");const b=Object.entries(y).reduce((L,[R,X])=>`${L}${R}=${X},`,"");if(JN(m)&&g!=="_self")return RI(e||"",g),new ab(null);const T=window.open(e||"",g,b);Mn(T,n,"popup-blocked");try{T.focus()}catch{}return new ab(T)}function RI(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const OI="__/auth/handler",DI="emulator/auth/handler",LI=encodeURIComponent("fac");async function ob(n,e,t,r,a,l){Mn(n.config.authDomain,n,"auth-domain-config-required"),Mn(n.config.apiKey,n,"invalid-api-key");const f={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:wf,eventId:a};if(e instanceof Z4){e.setDefaultLanguage(n.languageCode),f.providerId=e.providerId||"",bC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof $d){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}n.tenantId&&(f.tid=n.tenantId);const g=f;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await n._getAppCheckToken(),m=y?`#${LI}=${encodeURIComponent(y)}`:"";return`${kI(n)}?${Zd(g).slice(1)}${m}`}function kI({config:n}){return n.emulator?ax(n,DI):`https://${n.authDomain}/${OI}`}const y2="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i_,this._completeRedirectFn=sI,this._overrideRedirectResult=nI}async _openPopup(e,t,r,a){fc(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ob(e,t,r,im(),a);return II(e,l,hx())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await ob(e,t,r,im(),a);return BT(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(fc(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await AI(e),r=new oI(e);return t.register("authEvent",a=>(Mn(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(y2,{type:y2},a=>{const l=a?.[0]?.[y2];l!==void 0&&t(!!l),il(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G4()||F4()||lx()}}const PI=MI;var lb="@firebase/auth",cb="1.12.0";class jI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FI(n){uf(new zu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Mn(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:g,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W4(n)},m=new iT(r,a,l,y);return pT(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),uf(new zu("auth-internal",e=>{const t=nh(e.getProvider("auth").getImmediate());return(r=>new jI(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nu(lb,cb,BI(n)),nu(lb,cb,"esm2020")}const UI=300,VI=w4("authIdTokenMaxAge")||UI;let ub=null;const zI=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>VI)return;const a=t?.token;ub!==a&&(ub=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function qI(n=N4()){const e=ix(n,"auth");if(e.isInitialized())return e.getImmediate();const t=dT(n,{popupRedirectResolver:PI,persistence:[XT,MT,i_]}),r=w4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const f=zI(l.toString());OT(t,f,()=>f(t.currentUser)),RT(t,g=>f(g))}}const a=v4("auth");return a&&gT(t,`http://${a}`),t}function HI(){return document.getElementsByTagName("head")?.[0]??document}sT({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Tl("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",HI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FI("Browser");var hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ru,h_;(function(){var n;function e(Y,G){function P(){}P.prototype=G.prototype,Y.F=G.prototype,Y.prototype=new P,Y.prototype.constructor=Y,Y.D=function(re,j,U){for(var H=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)H[Ce-2]=arguments[Ce];return G.prototype[j].apply(re,H)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(Y,G,P){P||(P=0);const re=Array(16);if(typeof G=="string")for(var j=0;j<16;++j)re[j]=G.charCodeAt(P++)|G.charCodeAt(P++)<<8|G.charCodeAt(P++)<<16|G.charCodeAt(P++)<<24;else for(j=0;j<16;++j)re[j]=G[P++]|G[P++]<<8|G[P++]<<16|G[P++]<<24;G=Y.g[0],P=Y.g[1],j=Y.g[2];let U=Y.g[3],H;H=G+(U^P&(j^U))+re[0]+3614090360&4294967295,G=P+(H<<7&4294967295|H>>>25),H=U+(j^G&(P^j))+re[1]+3905402710&4294967295,U=G+(H<<12&4294967295|H>>>20),H=j+(P^U&(G^P))+re[2]+606105819&4294967295,j=U+(H<<17&4294967295|H>>>15),H=P+(G^j&(U^G))+re[3]+3250441966&4294967295,P=j+(H<<22&4294967295|H>>>10),H=G+(U^P&(j^U))+re[4]+4118548399&4294967295,G=P+(H<<7&4294967295|H>>>25),H=U+(j^G&(P^j))+re[5]+1200080426&4294967295,U=G+(H<<12&4294967295|H>>>20),H=j+(P^U&(G^P))+re[6]+2821735955&4294967295,j=U+(H<<17&4294967295|H>>>15),H=P+(G^j&(U^G))+re[7]+4249261313&4294967295,P=j+(H<<22&4294967295|H>>>10),H=G+(U^P&(j^U))+re[8]+1770035416&4294967295,G=P+(H<<7&4294967295|H>>>25),H=U+(j^G&(P^j))+re[9]+2336552879&4294967295,U=G+(H<<12&4294967295|H>>>20),H=j+(P^U&(G^P))+re[10]+4294925233&4294967295,j=U+(H<<17&4294967295|H>>>15),H=P+(G^j&(U^G))+re[11]+2304563134&4294967295,P=j+(H<<22&4294967295|H>>>10),H=G+(U^P&(j^U))+re[12]+1804603682&4294967295,G=P+(H<<7&4294967295|H>>>25),H=U+(j^G&(P^j))+re[13]+4254626195&4294967295,U=G+(H<<12&4294967295|H>>>20),H=j+(P^U&(G^P))+re[14]+2792965006&4294967295,j=U+(H<<17&4294967295|H>>>15),H=P+(G^j&(U^G))+re[15]+1236535329&4294967295,P=j+(H<<22&4294967295|H>>>10),H=G+(j^U&(P^j))+re[1]+4129170786&4294967295,G=P+(H<<5&4294967295|H>>>27),H=U+(P^j&(G^P))+re[6]+3225465664&4294967295,U=G+(H<<9&4294967295|H>>>23),H=j+(G^P&(U^G))+re[11]+643717713&4294967295,j=U+(H<<14&4294967295|H>>>18),H=P+(U^G&(j^U))+re[0]+3921069994&4294967295,P=j+(H<<20&4294967295|H>>>12),H=G+(j^U&(P^j))+re[5]+3593408605&4294967295,G=P+(H<<5&4294967295|H>>>27),H=U+(P^j&(G^P))+re[10]+38016083&4294967295,U=G+(H<<9&4294967295|H>>>23),H=j+(G^P&(U^G))+re[15]+3634488961&4294967295,j=U+(H<<14&4294967295|H>>>18),H=P+(U^G&(j^U))+re[4]+3889429448&4294967295,P=j+(H<<20&4294967295|H>>>12),H=G+(j^U&(P^j))+re[9]+568446438&4294967295,G=P+(H<<5&4294967295|H>>>27),H=U+(P^j&(G^P))+re[14]+3275163606&4294967295,U=G+(H<<9&4294967295|H>>>23),H=j+(G^P&(U^G))+re[3]+4107603335&4294967295,j=U+(H<<14&4294967295|H>>>18),H=P+(U^G&(j^U))+re[8]+1163531501&4294967295,P=j+(H<<20&4294967295|H>>>12),H=G+(j^U&(P^j))+re[13]+2850285829&4294967295,G=P+(H<<5&4294967295|H>>>27),H=U+(P^j&(G^P))+re[2]+4243563512&4294967295,U=G+(H<<9&4294967295|H>>>23),H=j+(G^P&(U^G))+re[7]+1735328473&4294967295,j=U+(H<<14&4294967295|H>>>18),H=P+(U^G&(j^U))+re[12]+2368359562&4294967295,P=j+(H<<20&4294967295|H>>>12),H=G+(P^j^U)+re[5]+4294588738&4294967295,G=P+(H<<4&4294967295|H>>>28),H=U+(G^P^j)+re[8]+2272392833&4294967295,U=G+(H<<11&4294967295|H>>>21),H=j+(U^G^P)+re[11]+1839030562&4294967295,j=U+(H<<16&4294967295|H>>>16),H=P+(j^U^G)+re[14]+4259657740&4294967295,P=j+(H<<23&4294967295|H>>>9),H=G+(P^j^U)+re[1]+2763975236&4294967295,G=P+(H<<4&4294967295|H>>>28),H=U+(G^P^j)+re[4]+1272893353&4294967295,U=G+(H<<11&4294967295|H>>>21),H=j+(U^G^P)+re[7]+4139469664&4294967295,j=U+(H<<16&4294967295|H>>>16),H=P+(j^U^G)+re[10]+3200236656&4294967295,P=j+(H<<23&4294967295|H>>>9),H=G+(P^j^U)+re[13]+681279174&4294967295,G=P+(H<<4&4294967295|H>>>28),H=U+(G^P^j)+re[0]+3936430074&4294967295,U=G+(H<<11&4294967295|H>>>21),H=j+(U^G^P)+re[3]+3572445317&4294967295,j=U+(H<<16&4294967295|H>>>16),H=P+(j^U^G)+re[6]+76029189&4294967295,P=j+(H<<23&4294967295|H>>>9),H=G+(P^j^U)+re[9]+3654602809&4294967295,G=P+(H<<4&4294967295|H>>>28),H=U+(G^P^j)+re[12]+3873151461&4294967295,U=G+(H<<11&4294967295|H>>>21),H=j+(U^G^P)+re[15]+530742520&4294967295,j=U+(H<<16&4294967295|H>>>16),H=P+(j^U^G)+re[2]+3299628645&4294967295,P=j+(H<<23&4294967295|H>>>9),H=G+(j^(P|~U))+re[0]+4096336452&4294967295,G=P+(H<<6&4294967295|H>>>26),H=U+(P^(G|~j))+re[7]+1126891415&4294967295,U=G+(H<<10&4294967295|H>>>22),H=j+(G^(U|~P))+re[14]+2878612391&4294967295,j=U+(H<<15&4294967295|H>>>17),H=P+(U^(j|~G))+re[5]+4237533241&4294967295,P=j+(H<<21&4294967295|H>>>11),H=G+(j^(P|~U))+re[12]+1700485571&4294967295,G=P+(H<<6&4294967295|H>>>26),H=U+(P^(G|~j))+re[3]+2399980690&4294967295,U=G+(H<<10&4294967295|H>>>22),H=j+(G^(U|~P))+re[10]+4293915773&4294967295,j=U+(H<<15&4294967295|H>>>17),H=P+(U^(j|~G))+re[1]+2240044497&4294967295,P=j+(H<<21&4294967295|H>>>11),H=G+(j^(P|~U))+re[8]+1873313359&4294967295,G=P+(H<<6&4294967295|H>>>26),H=U+(P^(G|~j))+re[15]+4264355552&4294967295,U=G+(H<<10&4294967295|H>>>22),H=j+(G^(U|~P))+re[6]+2734768916&4294967295,j=U+(H<<15&4294967295|H>>>17),H=P+(U^(j|~G))+re[13]+1309151649&4294967295,P=j+(H<<21&4294967295|H>>>11),H=G+(j^(P|~U))+re[4]+4149444226&4294967295,G=P+(H<<6&4294967295|H>>>26),H=U+(P^(G|~j))+re[11]+3174756917&4294967295,U=G+(H<<10&4294967295|H>>>22),H=j+(G^(U|~P))+re[2]+718787259&4294967295,j=U+(H<<15&4294967295|H>>>17),H=P+(U^(j|~G))+re[9]+3951481745&4294967295,Y.g[0]=Y.g[0]+G&4294967295,Y.g[1]=Y.g[1]+(j+(H<<21&4294967295|H>>>11))&4294967295,Y.g[2]=Y.g[2]+j&4294967295,Y.g[3]=Y.g[3]+U&4294967295}r.prototype.v=function(Y,G){G===void 0&&(G=Y.length);const P=G-this.blockSize,re=this.C;let j=this.h,U=0;for(;U<G;){if(j==0)for(;U<=P;)a(this,Y,U),U+=this.blockSize;if(typeof Y=="string"){for(;U<G;)if(re[j++]=Y.charCodeAt(U++),j==this.blockSize){a(this,re),j=0;break}}else for(;U<G;)if(re[j++]=Y[U++],j==this.blockSize){a(this,re),j=0;break}}this.h=j,this.o+=G},r.prototype.A=function(){var Y=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);Y[0]=128;for(var G=1;G<Y.length-8;++G)Y[G]=0;G=this.o*8;for(var P=Y.length-8;P<Y.length;++P)Y[P]=G&255,G/=256;for(this.v(Y),Y=Array(16),G=0,P=0;P<4;++P)for(let re=0;re<32;re+=8)Y[G++]=this.g[P]>>>re&255;return Y};function l(Y,G){var P=g;return Object.prototype.hasOwnProperty.call(P,Y)?P[Y]:P[Y]=G(Y)}function f(Y,G){this.h=G;const P=[];let re=!0;for(let j=Y.length-1;j>=0;j--){const U=Y[j]|0;re&&U==G||(P[j]=U,re=!1)}this.g=P}var g={};function y(Y){return-128<=Y&&Y<128?l(Y,function(G){return new f([G|0],G<0?-1:0)}):new f([Y|0],Y<0?-1:0)}function m(Y){if(isNaN(Y)||!isFinite(Y))return T;if(Y<0)return $(m(-Y));const G=[];let P=1;for(let re=0;Y>=P;re++)G[re]=Y/P|0,P*=4294967296;return new f(G,0)}function b(Y,G){if(Y.length==0)throw Error("number format error: empty string");if(G=G||10,G<2||36<G)throw Error("radix out of range: "+G);if(Y.charAt(0)=="-")return $(b(Y.substring(1),G));if(Y.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(G,8));let re=T;for(let U=0;U<Y.length;U+=8){var j=Math.min(8,Y.length-U);const H=parseInt(Y.substring(U,U+j),G);j<8?(j=m(Math.pow(G,j)),re=re.j(j).add(m(H))):(re=re.j(P),re=re.add(m(H)))}return re}var T=y(0),L=y(1),R=y(16777216);n=f.prototype,n.m=function(){if(W(this))return-$(this).m();let Y=0,G=1;for(let P=0;P<this.g.length;P++){const re=this.i(P);Y+=(re>=0?re:4294967296+re)*G,G*=4294967296}return Y},n.toString=function(Y){if(Y=Y||10,Y<2||36<Y)throw Error("radix out of range: "+Y);if(X(this))return"0";if(W(this))return"-"+$(this).toString(Y);const G=m(Math.pow(Y,6));var P=this;let re="";for(;;){const j=pe(P,G).g;P=K(P,j.j(G));let U=((P.g.length>0?P.g[0]:P.h)>>>0).toString(Y);if(P=j,X(P))return U+re;for(;U.length<6;)U="0"+U;re=U+re}},n.i=function(Y){return Y<0?0:Y<this.g.length?this.g[Y]:this.h};function X(Y){if(Y.h!=0)return!1;for(let G=0;G<Y.g.length;G++)if(Y.g[G]!=0)return!1;return!0}function W(Y){return Y.h==-1}n.l=function(Y){return Y=K(this,Y),W(Y)?-1:X(Y)?0:1};function $(Y){const G=Y.g.length,P=[];for(let re=0;re<G;re++)P[re]=~Y.g[re];return new f(P,~Y.h).add(L)}n.abs=function(){return W(this)?$(this):this},n.add=function(Y){const G=Math.max(this.g.length,Y.g.length),P=[];let re=0;for(let j=0;j<=G;j++){let U=re+(this.i(j)&65535)+(Y.i(j)&65535),H=(U>>>16)+(this.i(j)>>>16)+(Y.i(j)>>>16);re=H>>>16,U&=65535,H&=65535,P[j]=H<<16|U}return new f(P,P[P.length-1]&-2147483648?-1:0)};function K(Y,G){return Y.add($(G))}n.j=function(Y){if(X(this)||X(Y))return T;if(W(this))return W(Y)?$(this).j($(Y)):$($(this).j(Y));if(W(Y))return $(this.j($(Y)));if(this.l(R)<0&&Y.l(R)<0)return m(this.m()*Y.m());const G=this.g.length+Y.g.length,P=[];for(var re=0;re<2*G;re++)P[re]=0;for(re=0;re<this.g.length;re++)for(let j=0;j<Y.g.length;j++){const U=this.i(re)>>>16,H=this.i(re)&65535,Ce=Y.i(j)>>>16,xe=Y.i(j)&65535;P[2*re+2*j]+=H*xe,oe(P,2*re+2*j),P[2*re+2*j+1]+=U*xe,oe(P,2*re+2*j+1),P[2*re+2*j+1]+=H*Ce,oe(P,2*re+2*j+1),P[2*re+2*j+2]+=U*Ce,oe(P,2*re+2*j+2)}for(Y=0;Y<G;Y++)P[Y]=P[2*Y+1]<<16|P[2*Y];for(Y=G;Y<2*G;Y++)P[Y]=0;return new f(P,0)};function oe(Y,G){for(;(Y[G]&65535)!=Y[G];)Y[G+1]+=Y[G]>>>16,Y[G]&=65535,G++}function ue(Y,G){this.g=Y,this.h=G}function pe(Y,G){if(X(G))throw Error("division by zero");if(X(Y))return new ue(T,T);if(W(Y))return G=pe($(Y),G),new ue($(G.g),$(G.h));if(W(G))return G=pe(Y,$(G)),new ue($(G.g),G.h);if(Y.g.length>30){if(W(Y)||W(G))throw Error("slowDivide_ only works with positive integers.");for(var P=L,re=G;re.l(Y)<=0;)P=Ue(P),re=Ue(re);var j=ze(P,1),U=ze(re,1);for(re=ze(re,2),P=ze(P,2);!X(re);){var H=U.add(re);H.l(Y)<=0&&(j=j.add(P),U=H),re=ze(re,1),P=ze(P,1)}return G=K(Y,j.j(G)),new ue(j,G)}for(j=T;Y.l(G)>=0;){for(P=Math.max(1,Math.floor(Y.m()/G.m())),re=Math.ceil(Math.log(P)/Math.LN2),re=re<=48?1:Math.pow(2,re-48),U=m(P),H=U.j(G);W(H)||H.l(Y)>0;)P-=re,U=m(P),H=U.j(G);X(U)&&(U=L),j=j.add(U),Y=K(Y,H)}return new ue(j,Y)}n.B=function(Y){return pe(this,Y).h},n.and=function(Y){const G=Math.max(this.g.length,Y.g.length),P=[];for(let re=0;re<G;re++)P[re]=this.i(re)&Y.i(re);return new f(P,this.h&Y.h)},n.or=function(Y){const G=Math.max(this.g.length,Y.g.length),P=[];for(let re=0;re<G;re++)P[re]=this.i(re)|Y.i(re);return new f(P,this.h|Y.h)},n.xor=function(Y){const G=Math.max(this.g.length,Y.g.length),P=[];for(let re=0;re<G;re++)P[re]=this.i(re)^Y.i(re);return new f(P,this.h^Y.h)};function Ue(Y){const G=Y.g.length+1,P=[];for(let re=0;re<G;re++)P[re]=Y.i(re)<<1|Y.i(re-1)>>>31;return new f(P,Y.h)}function ze(Y,G){const P=G>>5;G%=32;const re=Y.g.length-P,j=[];for(let U=0;U<re;U++)j[U]=G>0?Y.i(U+P)>>>G|Y.i(U+P+1)<<32-G:Y.i(U+P);return new f(j,Y.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,h_=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=m,f.fromString=b,ru=f}).apply(typeof hb<"u"?hb:typeof self<"u"?self:typeof window<"u"?window:{});var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var f_,md,d_,v1,lm,p_,g_,m_;(function(){var n,e=Object.defineProperty;function t(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof e1=="object"&&e1];for(var M=0;M<w.length;++M){var V=w[M];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function a(w,M){if(M)e:{var V=r;w=w.split(".");for(var he=0;he<w.length-1;he++){var Ke=w[he];if(!(Ke in V))break e;V=V[Ke]}w=w[w.length-1],he=V[w],M=M(he),M!=he&&M!=null&&e(V,w,{configurable:!0,writable:!0,value:M})}}a("Symbol.dispose",function(w){return w||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(w){return w||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(w){return w||function(M){var V=[],he;for(he in M)Object.prototype.hasOwnProperty.call(M,he)&&V.push([he,M[he]]);return V}});var l=l||{},f=this||self;function g(w){var M=typeof w;return M=="object"&&w!=null||M=="function"}function y(w,M,V){return w.call.apply(w.bind,arguments)}function m(w,M,V){return m=y,m.apply(null,arguments)}function b(w,M){var V=Array.prototype.slice.call(arguments,1);return function(){var he=V.slice();return he.push.apply(he,arguments),w.apply(this,he)}}function T(w,M){function V(){}V.prototype=M.prototype,w.Z=M.prototype,w.prototype=new V,w.prototype.constructor=w,w.Ob=function(he,Ke,it){for(var Rt=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)Rt[Rn-2]=arguments[Rn];return M.prototype[Ke].apply(he,Rt)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?w=>w&&AsyncContext.Snapshot.wrap(w):w=>w;function R(w){const M=w.length;if(M>0){const V=Array(M);for(let he=0;he<M;he++)V[he]=w[he];return V}return[]}function X(w,M){for(let he=1;he<arguments.length;he++){const Ke=arguments[he];var V=typeof Ke;if(V=V!="object"?V:Ke?Array.isArray(Ke)?"array":V:"null",V=="array"||V=="object"&&typeof Ke.length=="number"){V=w.length||0;const it=Ke.length||0;w.length=V+it;for(let Rt=0;Rt<it;Rt++)w[V+Rt]=Ke[Rt]}else w.push(Ke)}}class W{constructor(M,V){this.i=M,this.j=V,this.h=0,this.g=null}get(){let M;return this.h>0?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function $(w){f.setTimeout(()=>{throw w},0)}function K(){var w=Y;let M=null;return w.g&&(M=w.g,w.g=w.g.next,w.g||(w.h=null),M.next=null),M}class oe{constructor(){this.h=this.g=null}add(M,V){const he=ue.get();he.set(M,V),this.h?this.h.next=he:this.g=he,this.h=he}}var ue=new W(()=>new pe,w=>w.reset());class pe{constructor(){this.next=this.g=this.h=null}set(M,V){this.h=M,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,ze=!1,Y=new oe,G=()=>{const w=Promise.resolve(void 0);Ue=()=>{w.then(P)}};function P(){for(var w;w=K();){try{w.h.call(w.g)}catch(V){$(V)}var M=ue;M.j(w),M.h<100&&(M.h++,w.next=M.g,M.g=w)}ze=!1}function re(){this.u=this.u,this.C=this.C}re.prototype.u=!1,re.prototype.dispose=function(){this.u||(this.u=!0,this.N())},re.prototype[Symbol.dispose]=function(){this.dispose()},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(w,M){this.type=w,this.g=this.target=M,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var w=!1,M=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const V=()=>{};f.addEventListener("test",V,M),f.removeEventListener("test",V,M)}catch{}return w})();function H(w){return/^[\s\xa0]*$/.test(w)}function Ce(w,M){j.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w&&this.init(w,M)}T(Ce,j),Ce.prototype.init=function(w,M){const V=this.type=w.type,he=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;this.target=w.target||w.srcElement,this.g=M,M=w.relatedTarget,M||(V=="mouseover"?M=w.fromElement:V=="mouseout"&&(M=w.toElement)),this.relatedTarget=M,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=w.pointerType,this.state=w.state,this.i=w,w.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),_e=0;function Te(w,M,V,he,Ke){this.listener=w,this.proxy=null,this.src=M,this.type=V,this.capture=!!he,this.ha=Ke,this.key=++_e,this.da=this.fa=!1}function De(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function He(w,M,V){for(const he in w)M.call(V,w[he],he,w)}function lt(w,M){for(const V in w)M.call(void 0,w[V],V,w)}function de(w){const M={};for(const V in w)M[V]=w[V];return M}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(w,M){let V,he;for(let Ke=1;Ke<arguments.length;Ke++){he=arguments[Ke];for(V in he)w[V]=he[V];for(let it=0;it<q.length;it++)V=q[it],Object.prototype.hasOwnProperty.call(he,V)&&(w[V]=he[V])}}function ee(w){this.src=w,this.g={},this.h=0}ee.prototype.add=function(w,M,V,he,Ke){const it=w.toString();w=this.g[it],w||(w=this.g[it]=[],this.h++);const Rt=me(w,M,he,Ke);return Rt>-1?(M=w[Rt],V||(M.fa=!1)):(M=new Te(M,this.src,it,!!he,Ke),M.fa=V,w.push(M)),M};function ye(w,M){const V=M.type;if(V in w.g){var he=w.g[V],Ke=Array.prototype.indexOf.call(he,M,void 0),it;(it=Ke>=0)&&Array.prototype.splice.call(he,Ke,1),it&&(De(M),w.g[V].length==0&&(delete w.g[V],w.h--))}}function me(w,M,V,he){for(let Ke=0;Ke<w.length;++Ke){const it=w[Ke];if(!it.da&&it.listener==M&&it.capture==!!V&&it.ha==he)return Ke}return-1}var Pe="closure_lm_"+(Math.random()*1e6|0),Ie={};function Fe(w,M,V,he,Ke){if(Array.isArray(M)){for(let it=0;it<M.length;it++)Fe(w,M[it],V,he,Ke);return null}return V=Tt(V),w&&w[xe]?w.J(M,V,g(he)?!!he.capture:!1,Ke):Ne(w,M,V,!1,he,Ke)}function Ne(w,M,V,he,Ke,it){if(!M)throw Error("Invalid event type");const Rt=g(Ke)?!!Ke.capture:!!Ke;let Rn=It(w);if(Rn||(w[Pe]=Rn=new ee(w)),V=Rn.add(M,V,he,Rt,it),V.proxy)return V;if(he=Qe(),V.proxy=he,he.src=w,he.listener=V,w.addEventListener)U||(Ke=Rt),Ke===void 0&&(Ke=!1),w.addEventListener(M.toString(),he,Ke);else if(w.attachEvent)w.attachEvent(vt(M.toString()),he);else if(w.addListener&&w.removeListener)w.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Qe(){function w(V){return M.call(w.src,w.listener,V)}const M=ae;return w}function Oe(w,M,V,he,Ke){if(Array.isArray(M))for(var it=0;it<M.length;it++)Oe(w,M[it],V,he,Ke);else he=g(he)?!!he.capture:!!he,V=Tt(V),w&&w[xe]?(w=w.i,it=String(M).toString(),it in w.g&&(M=w.g[it],V=me(M,V,he,Ke),V>-1&&(De(M[V]),Array.prototype.splice.call(M,V,1),M.length==0&&(delete w.g[it],w.h--)))):w&&(w=It(w))&&(M=w.g[M.toString()],w=-1,M&&(w=me(M,V,he,Ke)),(V=w>-1?M[w]:null)&&Ge(V))}function Ge(w){if(typeof w!="number"&&w&&!w.da){var M=w.src;if(M&&M[xe])ye(M.i,w);else{var V=w.type,he=w.proxy;M.removeEventListener?M.removeEventListener(V,he,w.capture):M.detachEvent?M.detachEvent(vt(V),he):M.addListener&&M.removeListener&&M.removeListener(he),(V=It(M))?(ye(V,w),V.h==0&&(V.src=null,M[Pe]=null)):De(w)}}}function vt(w){return w in Ie?Ie[w]:Ie[w]="on"+w}function ae(w,M){if(w.da)w=!0;else{M=new Ce(M,this);const V=w.listener,he=w.ha||w.src;w.fa&&Ge(w),w=V.call(he,M)}return w}function It(w){return w=w[Pe],w instanceof ee?w:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tt(w){return typeof w=="function"?w:(w[Lt]||(w[Lt]=function(M){return w.handleEvent(M)}),w[Lt])}function Ae(){re.call(this),this.i=new ee(this),this.M=this,this.G=null}T(Ae,re),Ae.prototype[xe]=!0,Ae.prototype.removeEventListener=function(w,M,V,he){Oe(this,w,M,V,he)};function ht(w,M){var V,he=w.G;if(he)for(V=[];he;he=he.G)V.push(he);if(w=w.M,he=M.type||M,typeof M=="string")M=new j(M,w);else if(M instanceof j)M.target=M.target||w;else{var Ke=M;M=new j(he,w),le(M,Ke)}Ke=!0;let it,Rt;if(V)for(Rt=V.length-1;Rt>=0;Rt--)it=M.g=V[Rt],Ke=Ye(it,he,!0,M)&&Ke;if(it=M.g=w,Ke=Ye(it,he,!0,M)&&Ke,Ke=Ye(it,he,!1,M)&&Ke,V)for(Rt=0;Rt<V.length;Rt++)it=M.g=V[Rt],Ke=Ye(it,he,!1,M)&&Ke}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var w=this.i;for(const M in w.g){const V=w.g[M];for(let he=0;he<V.length;he++)De(V[he]);delete w.g[M],w.h--}}this.G=null},Ae.prototype.J=function(w,M,V,he){return this.i.add(String(w),M,!1,V,he)},Ae.prototype.K=function(w,M,V,he){return this.i.add(String(w),M,!0,V,he)};function Ye(w,M,V,he){if(M=w.i.g[String(M)],!M)return!0;M=M.concat();let Ke=!0;for(let it=0;it<M.length;++it){const Rt=M[it];if(Rt&&!Rt.da&&Rt.capture==V){const Rn=Rt.listener,Vr=Rt.ha||Rt.src;Rt.fa&&ye(w.i,Rt),Ke=Rn.call(Vr,he)!==!1&&Ke}}return Ke&&!he.defaultPrevented}function Dt(w,M){if(typeof w!="function")if(w&&typeof w.handleEvent=="function")w=m(w.handleEvent,w);else throw Error("Invalid listener argument");return Number(M)>2147483647?-1:f.setTimeout(w,M||0)}function kt(w){w.g=Dt(()=>{w.g=null,w.i&&(w.i=!1,kt(w))},w.l);const M=w.h;w.h=null,w.m.apply(null,M)}class Ut extends re{constructor(M,V){super(),this.m=M,this.l=V,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(w){re.call(this),this.h=w,this.g={}}T(Sn,re);var Kt=[];function pn(w){He(w.g,function(M,V){this.g.hasOwnProperty(V)&&Ge(M)},w),w.g={}}Sn.prototype.N=function(){Sn.Z.N.call(this),pn(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=f.JSON.stringify,Vt=f.JSON.parse,kn=class{stringify(w){return f.JSON.stringify(w,void 0)}parse(w){return f.JSON.parse(w,void 0)}};function Qt(){}function $r(){}var en={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ut(){j.call(this,"d")}T(ut,j);function Gt(){j.call(this,"c")}T(Gt,j);var qt={},Bt=null;function ar(){return Bt=Bt||new Ae}qt.Ia="serverreachability";function bn(w){j.call(this,qt.Ia,w)}T(bn,j);function An(w){const M=ar();ht(M,new bn(M))}qt.STAT_EVENT="statevent";function rn(w,M){j.call(this,qt.STAT_EVENT,w),this.stat=M}T(rn,j);function Jt(w){const M=ar();ht(M,new rn(M,w))}qt.Ja="timingevent";function sn(w,M){j.call(this,qt.Ja,w),this.size=M}T(sn,j);function Hn(w,M){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){w()},M)}function Br(){this.g=!0}Br.prototype.ua=function(){this.g=!1};function Ni(w,M,V,he,Ke,it){w.info(function(){if(w.g)if(it){var Rt="",Rn=it.split("&");for(let Xn=0;Xn<Rn.length;Xn++){var Vr=Rn[Xn].split("=");if(Vr.length>1){const Sr=Vr[0];Vr=Vr[1];const zi=Sr.split("_");Rt=zi.length>=2&&zi[1]=="type"?Rt+(Sr+"="+Vr+"&"):Rt+(Sr+"=redacted&")}}}else Rt=null;else Rt=it;return"XMLHTTP REQ ("+he+") [attempt "+Ke+"]: "+M+`
`+V+`
`+Rt})}function Fr(w,M,V,he,Ke,it,Rt){w.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Ke+"]: "+M+`
`+V+`
`+it+" "+Rt})}function ei(w,M,V,he){w.info(function(){return"XMLHTTP TEXT ("+M+"): "+Ti(w,V)+(he?" "+he:"")})}function ln(w,M){w.info(function(){return"TIMEOUT: "+M})}Br.prototype.info=function(){};function Ti(w,M){if(!w.g)return M;if(!M)return null;try{const it=JSON.parse(M);if(it){for(w=0;w<it.length;w++)if(Array.isArray(it[w])){var V=it[w];if(!(V.length<2)){var he=V[1];if(Array.isArray(he)&&!(he.length<1)){var Ke=he[0];if(Ke!="noop"&&Ke!="stop"&&Ke!="close")for(let Rt=1;Rt<he.length;Rt++)he[Rt]=""}}}}return gn(it)}catch{return M}}var zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ki;function Vn(){}T(Vn,Qt),Vn.prototype.g=function(){return new XMLHttpRequest},Ki=new Vn;function dr(w){return encodeURIComponent(String(w))}function Ar(w){var M=1;w=w.split(":");const V=[];for(;M>0&&w.length;)V.push(w.shift()),M--;return w.length&&V.push(w.join(":")),V}function Mt(w,M,V,he){this.j=w,this.i=M,this.l=V,this.S=he||1,this.V=new Sn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var pr={},Gn={};function Wr(w,M,V){w.M=1,w.A=ps(ti(M)),w.u=V,w.R=!0,Bi(w,null)}function Bi(w,M){w.F=Date.now(),Cs(w),w.B=ti(w.A);var V=w.B,he=w.S;Array.isArray(he)||(he=[String(he)]),Tr(V.i,"t",he),w.C=0,V=w.j.L,w.h=new ci,w.g=Wt(w.j,V?M:null,!w.u),w.P>0&&(w.O=new Ut(m(w.Y,w,w.g),w.P)),M=w.V,V=w.g,he=w.ba;var Ke="readystatechange";Array.isArray(Ke)||(Ke&&(Kt[0]=Ke.toString()),Ke=Kt);for(let it=0;it<Ke.length;it++){const Rt=Fe(V,Ke[it],he||M.handleEvent,!1,M.h||M);if(!Rt)break;M.g[Rt.key]=Rt}M=w.J?de(w.J):{},w.u?(w.v||(w.v="POST"),M["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.B,w.v,w.u,M)):(w.v="GET",w.g.ea(w.B,w.v,null,M)),An(),Ni(w.i,w.v,w.B,w.l,w.S,w.u)}Mt.prototype.ba=function(w){w=w.target;const M=this.O;M&&Ls(w)==3?M.j():this.Y(w)},Mt.prototype.Y=function(w){try{if(w==this.g)e:{const Rn=Ls(this.g),Vr=this.g.ya(),Xn=this.g.ca();if(!(Rn<3)&&(Rn!=3||this.g&&(this.h.h||this.g.la()||Yr(this.g)))){this.K||Rn!=4||Vr==7||(Vr==8||Xn<=0?An(3):An(2)),Lr(this);var M=this.g.ca();this.X=M;var V=fs(this);if(this.o=M==200,Fr(this.i,this.v,this.B,this.l,this.S,Rn,M),this.o){if(this.U&&!this.L){t:{if(this.g){var he,Ke=this.g;if((he=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(he)){var it=he;break t}}it=null}if(w=it)ei(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vi(this,w);else{this.o=!1,this.m=3,Jt(12),Ns(this),Wn(this);break e}}if(this.R){w=!0;let Sr;for(;!this.K&&this.C<V.length;)if(Sr=pa(this,V),Sr==Gn){Rn==4&&(this.m=4,Jt(14),w=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==pr){this.m=4,Jt(15),ei(this.i,this.l,V,"[Invalid Chunk]"),w=!1;break}else ei(this.i,this.l,Sr,null),vi(this,Sr);if(Fi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||V.length!=0||this.h.h||(this.m=1,Jt(16),w=!1),this.o=this.o&&w,!w)ei(this.i,this.l,V,"[Invalid Chunked Response]"),Ns(this),Wn(this);else if(V.length>0&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.aa&&!Rt.P&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),at(Rt),Rt.P=!0,Jt(11))}}else ei(this.i,this.l,V,null),vi(this,V);Rn==4&&Ns(this),this.o&&!this.K&&(Rn==4?we(this.j,this):(this.o=!1,Cs(this)))}else ks(this.g),M==400&&V.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Ns(this),Wn(this)}}}catch{}};function fs(w){if(!Fi(w))return w.g.la();const M=Yr(w.g);if(M==="")return"";let V="";const he=M.length,Ke=Ls(w.g)==4;if(!w.h.i){if(typeof TextDecoder>"u")return Ns(w),Wn(w),"";w.h.i=new f.TextDecoder}for(let it=0;it<he;it++)w.h.h=!0,V+=w.h.i.decode(M[it],{stream:!(Ke&&it==he-1)});return M.length=0,w.h.g+=V,w.C=0,w.h.g}function Fi(w){return w.g?w.v=="GET"&&w.M!=2&&w.j.Aa:!1}function pa(w,M){var V=w.C,he=M.indexOf(`
`,V);return he==-1?Gn:(V=Number(M.substring(V,he)),isNaN(V)?pr:(he+=1,he+V>M.length?Gn:(M=M.slice(he,he+V),w.C=he+V,M)))}Mt.prototype.cancel=function(){this.K=!0,Ns(this)};function Cs(w){w.T=Date.now()+w.H,Ii(w,w.H)}function Ii(w,M){if(w.D!=null)throw Error("WatchDog timer not null");w.D=Hn(m(w.aa,w),M)}function Lr(w){w.D&&(f.clearTimeout(w.D),w.D=null)}Mt.prototype.aa=function(){this.D=null;const w=Date.now();w-this.T>=0?(ln(this.i,this.B),this.M!=2&&(An(),Jt(17)),Ns(this),this.m=2,Wn(this)):Ii(this,this.T-w)};function Wn(w){w.j.I==0||w.K||we(w.j,w)}function Ns(w){Lr(w);var M=w.O;M&&typeof M.dispose=="function"&&M.dispose(),w.O=null,pn(w.V),w.g&&(M=w.g,w.g=null,M.abort(),M.dispose())}function vi(w,M){try{var V=w.j;if(V.I!=0&&(V.g==w||Zi(V.h,w))){if(!w.L&&Zi(V.h,w)&&V.I==3){try{var he=V.Ba.g.parse(M)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Ke=he;if(Ke[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<w.F)Z(V),ya(V);else break e;va(V),Jt(18)}}else V.xa=Ke[1],0<V.xa-V.K&&Ke[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=Hn(m(V.Va,V),6e3));or(V.h)<=1&&V.ta&&(V.ta=void 0)}else We(V,11)}else if((w.L||V.g==w)&&Z(V),!H(M))for(Ke=V.Ba.g.parse(M),M=0;M<Ke.length;M++){let Xn=Ke[M];const Sr=Xn[0];if(!(Sr<=V.K))if(V.K=Sr,Xn=Xn[1],V.I==2)if(Xn[0]=="c"){V.M=Xn[1],V.ba=Xn[2];const zi=Xn[3];zi!=null&&(V.ka=zi,V.j.info("VER="+V.ka));const gs=Xn[4];gs!=null&&(V.za=gs,V.j.info("SVER="+V.za));const xr=Xn[5];xr!=null&&typeof xr=="number"&&xr>0&&(he=1.5*xr,V.O=he,V.j.info("backChannelRequestTimeoutMs_="+he)),he=V;const qi=w.g;if(qi){const ba=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var it=he.h;it.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(yo(it,it.h),it.h=null))}if(he.G){const na=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;na&&(he.wa=na,wn(he.J,he.G,na))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-w.F,V.j.info("Handshake RTT: "+V.T+"ms")),he=V;var Rt=w;if(he.na=St(he,he.L?he.ba:null,he.W),Rt.L){nr(he.h,Rt);var Rn=Rt,Vr=he.O;Vr&&(Rn.H=Vr),Rn.D&&(Lr(Rn),Cs(Rn)),he.g=Rt}else ta(he);V.i.length>0&&ea(V)}else Xn[0]!="stop"&&Xn[0]!="close"||We(V,7);else V.I==3&&(Xn[0]=="stop"||Xn[0]=="close"?Xn[0]=="stop"?We(V,7):Ga(V):Xn[0]!="noop"&&V.l&&V.l.qa(Xn),V.A=0)}}An(4)}catch{}}var Xr=class{constructor(w,M){this.g=w,this.map=M}};function At(w){this.l=w||10,f.PerformanceNavigationTiming?(w=f.performance.getEntriesByType("navigation"),w=w.length>0&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ts(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function or(w){return w.h?1:w.g?w.g.size:0}function Zi(w,M){return w.h?w.h==M:w.g?w.g.has(M):!1}function yo(w,M){w.g?w.g.add(M):w.h=M}function nr(w,M){w.h&&w.h==M?w.h=null:w.g&&w.g.has(M)&&w.g.delete(M)}At.prototype.cancel=function(){if(this.i=tr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function tr(w){if(w.h!=null)return w.i.concat(w.h.G);if(w.g!=null&&w.g.size!==0){let M=w.i;for(const V of w.g.values())M=M.concat(V.G);return M}return R(w.i)}var zn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ds(w,M){if(w){w=w.split("&");for(let V=0;V<w.length;V++){const he=w[V].indexOf("=");let Ke,it=null;he>=0?(Ke=w[V].substring(0,he),it=w[V].substring(he+1)):Ke=w[V],M(Ke,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Ri(w){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let M;w instanceof Ri?(this.l=w.l,yn(this,w.j),this.o=w.o,this.g=w.g,Qi(this,w.u),this.h=w.h,$s(this,vo(w.i)),this.m=w.m):w&&(M=String(w).match(zn))?(this.l=!1,yn(this,M[1]||"",!0),this.o=bi(M[2]||""),this.g=bi(M[3]||"",!0),Qi(this,M[4]),this.h=bi(M[5]||"",!0),$s(this,M[6]||"",!0),this.m=bi(M[7]||"")):(this.l=!1,this.i=new gi(null,this.l))}Ri.prototype.toString=function(){const w=[];var M=this.j;M&&w.push(Nr(M,ni,!0),":");var V=this.g;return(V||M=="file")&&(w.push("//"),(M=this.o)&&w.push(Nr(M,ni,!0),"@"),w.push(dr(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&w.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&w.push("/"),w.push(Nr(V,V.charAt(0)=="/"?ve:$e,!0))),(V=this.i.toString())&&w.push("?",V),(V=this.m)&&w.push("#",Nr(V,ri)),w.join("")},Ri.prototype.resolve=function(w){const M=ti(this);let V=!!w.j;V?yn(M,w.j):V=!!w.o,V?M.o=w.o:V=!!w.g,V?M.g=w.g:V=w.u!=null;var he=w.h;if(V)Qi(M,w.u);else if(V=!!w.h){if(he.charAt(0)!="/")if(this.g&&!this.h)he="/"+he;else{var Ke=M.h.lastIndexOf("/");Ke!=-1&&(he=M.h.slice(0,Ke+1)+he)}if(Ke=he,Ke==".."||Ke==".")he="";else if(Ke.indexOf("./")!=-1||Ke.indexOf("/.")!=-1){he=Ke.lastIndexOf("/",0)==0,Ke=Ke.split("/");const it=[];for(let Rt=0;Rt<Ke.length;){const Rn=Ke[Rt++];Rn=="."?he&&Rt==Ke.length&&it.push(""):Rn==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),he&&Rt==Ke.length&&it.push("")):(it.push(Rn),he=!0)}he=it.join("/")}else he=Ke}return V?M.h=he:V=w.i.toString()!=="",V?$s(M,vo(w.i)):V=!!w.m,V&&(M.m=w.m),M};function ti(w){return new Ri(w)}function yn(w,M,V){w.j=V?bi(M,!0):M,w.j&&(w.j=w.j.replace(/:$/,""))}function Qi(w,M){if(M){if(M=Number(M),isNaN(M)||M<0)throw Error("Bad port number "+M);w.u=M}else w.u=null}function $s(w,M,V){M instanceof gi?(w.i=M,$i(w.i,w.l)):(V||(M=Nr(M,zt)),w.i=new gi(M,w.l))}function wn(w,M,V){w.i.set(M,V)}function ps(w){return wn(w,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),w}function bi(w,M){return w?M?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Nr(w,M,V){return typeof w=="string"?(w=encodeURI(w).replace(M,Dn),V&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Dn(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var ni=/[#\/\?@]/g,$e=/[#\?:]/g,ve=/[#\?]/g,zt=/[#\?@]/g,ri=/#/g;function gi(w,M){this.h=this.g=null,this.i=w||null,this.j=!!M}function Ui(w){w.g||(w.g=new Map,w.h=0,w.i&&ds(w.i,function(M,V){w.add(decodeURIComponent(M.replace(/\+/g," ")),V)}))}n=gi.prototype,n.add=function(w,M){Ui(this),this.i=null,w=qa(this,w);let V=this.g.get(w);return V||this.g.set(w,V=[]),V.push(M),this.h+=1,this};function Ta(w,M){Ui(w),M=qa(w,M),w.g.has(M)&&(w.i=null,w.h-=w.g.get(M).length,w.g.delete(M))}function Ji(w,M){return Ui(w),M=qa(w,M),w.g.has(M)}n.forEach=function(w,M){Ui(this),this.g.forEach(function(V,he){V.forEach(function(Ke){w.call(M,Ke,he,this)},this)},this)};function cn(w,M){Ui(w);let V=[];if(typeof M=="string")Ji(w,M)&&(V=V.concat(w.g.get(qa(w,M))));else for(w=Array.from(w.g.values()),M=0;M<w.length;M++)V=V.concat(w[M]);return V}n.set=function(w,M){return Ui(this),this.i=null,w=qa(this,w),Ji(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[M]),this.h+=1,this},n.get=function(w,M){return w?(w=cn(this,w),w.length>0?String(w[0]):M):M};function Tr(w,M,V){Ta(w,M),V.length>0&&(w.i=null,w.g.set(qa(w,M),R(V)),w.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],M=Array.from(this.g.keys());for(let he=0;he<M.length;he++){var V=M[he];const Ke=dr(V);V=cn(this,V);for(let it=0;it<V.length;it++){let Rt=Ke;V[it]!==""&&(Rt+="="+dr(V[it])),w.push(Rt)}}return this.i=w.join("&")};function vo(w){const M=new gi;return M.i=w.i,w.g&&(M.g=new Map(w.g),M.h=w.h),M}function qa(w,M){return M=String(M),w.j&&(M=M.toLowerCase()),M}function $i(w,M){M&&!w.j&&(Ui(w),w.i=null,w.g.forEach(function(V,he){const Ke=he.toLowerCase();he!=Ke&&(Ta(this,he),Tr(this,Ke,V))},w)),w.j=M}function Is(w,M){const V=new Br;if(f.Image){const he=new Image;he.onload=b(Rs,V,"TestLoadImage: loaded",!0,M,he),he.onerror=b(Rs,V,"TestLoadImage: error",!1,M,he),he.onabort=b(Rs,V,"TestLoadImage: abort",!1,M,he),he.ontimeout=b(Rs,V,"TestLoadImage: timeout",!1,M,he),f.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=w}else M(!1)}function ga(w,M){const V=new Br,he=new AbortController,Ke=setTimeout(()=>{he.abort(),Rs(V,"TestPingServer: timeout",!1,M)},1e4);fetch(w,{signal:he.signal}).then(it=>{clearTimeout(Ke),it.ok?Rs(V,"TestPingServer: ok",!0,M):Rs(V,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(Ke),Rs(V,"TestPingServer: error",!1,M)})}function Rs(w,M,V,he,Ke){try{Ke&&(Ke.onload=null,Ke.onerror=null,Ke.onabort=null,Ke.ontimeout=null),he(V)}catch{}}function Ur(){this.g=new kn}function un(w){this.i=w.Sb||null,this.h=w.ab||!1}T(un,Qt),un.prototype.g=function(){return new Os(this.i,this.h)};function Os(w,M){Ae.call(this),this.H=w,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Os,Ae),n=Os.prototype,n.open=function(w,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=w,this.D=M,this.readyState=1,hn(this)},n.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const M={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};w&&(M.body=w),(this.H||f).fetch(new Request(this.D,M)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=0},n.Pa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,hn(this)),this.g&&(this.readyState=3,hn(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mn(this)}else w.text().then(this.Oa.bind(this),this.ga.bind(this))};function mn(w){w.j.read().then(w.Ma.bind(w)).catch(w.ga.bind(w))}n.Ma=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var M=w.value?w.value:new Uint8Array(0);(M=this.B.decode(M,{stream:!w.done}))&&(this.response=this.responseText+=M)}w.done?Qa(this):hn(this),this.readyState==3&&mn(this)}},n.Oa=function(w){this.g&&(this.response=this.responseText=w,Qa(this))},n.Na=function(w){this.g&&(this.response=w,Qa(this))},n.ga=function(){this.g&&Qa(this)};function Qa(w){w.readyState=4,w.l=null,w.j=null,w.B=null,hn(w)}n.setRequestHeader=function(w,M){this.A.append(w,M)},n.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],M=this.h.entries();for(var V=M.next();!V.done;)V=V.value,w.push(V[0]+": "+V[1]),V=M.next();return w.join(`\r
`)};function hn(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function ir(w){let M="";return He(w,function(V,he){M+=he,M+=":",M+=V,M+=`\r
`}),M}function bo(w,M,V){e:{for(he in V){var he=!1;break e}he=!0}he||(V=ir(V),typeof w=="string"?V!=null&&dr(V):wn(w,M,V))}function gr(w){Ae.call(this),this.headers=new Map,this.L=w||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(gr,Ae);var Ds=/^https?$/i,qs=["POST","PUT"];n=gr.prototype,n.Fa=function(w){this.H=w},n.ea=function(w,M,V,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);M=M?M.toUpperCase():"GET",this.D=w,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ki.g(),this.g.onreadystatechange=L(m(this.Ca,this));try{this.B=!0,this.g.open(M,String(w),!0),this.B=!1}catch(it){ma(this,it);return}if(w=V||"",V=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Ke in he)V.set(Ke,he[Ke]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const it of he.keys())V.set(it,he.get(it));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(V.keys()).find(it=>it.toLowerCase()=="content-type"),Ke=f.FormData&&w instanceof f.FormData,!(Array.prototype.indexOf.call(qs,M,void 0)>=0)||he||Ke||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,Rt]of V)this.g.setRequestHeader(it,Rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(w),this.v=!1}catch(it){ma(this,it)}};function ma(w,M){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=M,w.o=5,Ha(w),Hs(w)}function Ha(w){w.A||(w.A=!0,ht(w,"complete"),ht(w,"error"))}n.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=w||7,ht(this,"complete"),ht(this,"abort"),Hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hs(this,!0)),gr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Vi(this):this.Xa())},n.Xa=function(){Vi(this)};function Vi(w){if(w.h&&typeof l<"u"){if(w.v&&Ls(w)==4)setTimeout(w.Ca.bind(w),0);else if(ht(w,"readystatechange"),Ls(w)==4){w.h=!1;try{const it=w.ca();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var V;if(!(V=M)){var he;if(he=it===0){let Rt=String(w.D).match(zn)[1]||null;!Rt&&f.self&&f.self.location&&(Rt=f.self.location.protocol.slice(0,-1)),he=!Ds.test(Rt?Rt.toLowerCase():"")}V=he}if(V)ht(w,"complete"),ht(w,"success");else{w.o=6;try{var Ke=Ls(w)>2?w.g.statusText:""}catch{Ke=""}w.l=Ke+" ["+w.ca()+"]",Ha(w)}}finally{Hs(w)}}}}function Hs(w,M){if(w.g){w.m&&(clearTimeout(w.m),w.m=null);const V=w.g;w.g=null,M||ht(w,"ready");try{V.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ls(w){return w.g?w.g.readyState:0}n.ca=function(){try{return Ls(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(w){if(this.g){var M=this.g.responseText;return w&&M.indexOf(w)==0&&(M=M.substring(w.length)),Vt(M)}};function Yr(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.F){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(w){const M={};w=(w.g&&Ls(w)>=2&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<w.length;he++){if(H(w[he]))continue;var V=Ar(w[he]);const Ke=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const it=M[Ke]||[];M[Ke]=it,it.push(V)}lt(M,function(he){return he.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(w,M,V){return V&&V.internalChannelParams&&V.internalChannelParams[w]||M}function xa(w){this.za=0,this.i=[],this.j=new Br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,w),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,w),this.Za=Er("retryDelaySeedMs",1e4,w),this.Ta=Er("forwardChannelMaxRetries",2,w),this.va=Er("forwardChannelRequestTimeoutMs",2e4,w),this.ma=w&&w.xmlHttpFactory||void 0,this.Ua=w&&w.Rb||void 0,this.Aa=w&&w.useFetchStreams||!1,this.O=void 0,this.L=w&&w.supportsCrossDomainXhr||!1,this.M="",this.h=new At(w&&w.concurrentRequestLimit),this.Ba=new Ur,this.S=w&&w.fastHandshake||!1,this.R=w&&w.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=w&&w.Pb||!1,w&&w.ua&&this.j.ua(),w&&w.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&w&&w.detectBufferingProxy||!1,this.ia=void 0,w&&w.longPollingTimeout&&w.longPollingTimeout>0&&(this.ia=w.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=xa.prototype,n.ka=8,n.I=1,n.connect=function(w,M,V,he){Jt(0),this.W=w,this.H=M||{},V&&he!==void 0&&(this.H.OSID=V,this.H.OAID=he),this.F=this.X,this.J=St(this,null,this.W),ea(this)};function Ga(w){if(Ia(w),w.I==3){var M=w.V++,V=ti(w.J);if(wn(V,"SID",w.M),wn(V,"RID",M),wn(V,"TYPE","terminate"),Ms(w,V),M=new Mt(w,w.j,M),M.M=2,M.A=ps(ti(V)),V=!1,f.navigator&&f.navigator.sendBeacon)try{V=f.navigator.sendBeacon(M.A.toString(),"")}catch{}!V&&f.Image&&(new Image().src=M.A,V=!0),V||(M.g=Wt(M.j,null),M.g.ea(M.A)),M.F=Date.now(),Cs(M)}pt(w)}function ya(w){w.g&&(at(w),w.g.cancel(),w.g=null)}function Ia(w){ya(w),w.v&&(f.clearTimeout(w.v),w.v=null),Z(w),w.h.cancel(),w.m&&(typeof w.m=="number"&&f.clearTimeout(w.m),w.m=null)}function ea(w){if(!Ts(w.h)&&!w.m){w.m=!0;var M=w.Ea;Ue||G(),ze||(Ue(),ze=!0),Y.add(M,w),w.D=0}}function wo(w,M){return or(w.h)>=w.h.j-(w.m?1:0)?!1:w.m?(w.i=M.G.concat(w.i),!0):w.I==1||w.I==2||w.D>=(w.Sa?0:w.Ta)?!1:(w.m=Hn(m(w.Ea,w,M),Me(w,w.D)),w.D++,!0)}n.Ea=function(w){if(this.m)if(this.m=null,this.I==1){if(!w){this.V=Math.floor(Math.random()*1e5),w=this.V++;const Ke=new Mt(this,this.j,w);let it=this.o;if(this.U&&(it?(it=de(it),le(it,this.U)):it=this.U),this.u!==null||this.R||(Ke.J=it,it=null),this.S)e:{for(var M=0,V=0;V<this.i.length;V++){t:{var he=this.i[V];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(M+=he,M>4096){M=V;break e}if(M===4096||V===this.i.length-1){M=V+1;break e}}M=1e3}else M=1e3;M=Gs(this,Ke,M),V=ti(this.J),wn(V,"RID",w),wn(V,"CVER",22),this.G&&wn(V,"X-HTTP-Session-Id",this.G),Ms(this,V),it&&(this.R?M="headers="+dr(ir(it))+"&"+M:this.u&&bo(V,this.u,it)),yo(this.h,Ke),this.Ra&&wn(V,"TYPE","init"),this.S?(wn(V,"$req",M),wn(V,"SID","null"),Ke.U=!0,Wr(Ke,V,null)):Wr(Ke,V,M),this.I=2}}else this.I==3&&(w?lr(this,w):this.i.length==0||Ts(this.h)||lr(this))};function lr(w,M){var V;M?V=M.l:V=w.V++;const he=ti(w.J);wn(he,"SID",w.M),wn(he,"RID",V),wn(he,"AID",w.K),Ms(w,he),w.u&&w.o&&bo(he,w.u,w.o),V=new Mt(w,w.j,V,w.D+1),w.u===null&&(V.J=w.o),M&&(w.i=M.G.concat(w.i)),M=Gs(w,V,1e3),V.H=Math.round(w.va*.5)+Math.round(w.va*.5*Math.random()),yo(w.h,V),Wr(V,he,M)}function Ms(w,M){w.H&&He(w.H,function(V,he){wn(M,he,V)}),w.l&&He({},function(V,he){wn(M,he,V)})}function Gs(w,M,V){V=Math.min(w.i.length,V);const he=w.l?m(w.l.Ka,w.l,w):null;e:{var Ke=w.i;let Rn=-1;for(;;){const Vr=["count="+V];Rn==-1?V>0?(Rn=Ke[0].g,Vr.push("ofs="+Rn)):Rn=0:Vr.push("ofs="+Rn);let Xn=!0;for(let Sr=0;Sr<V;Sr++){var it=Ke[Sr].g;const zi=Ke[Sr].map;if(it-=Rn,it<0)Rn=Math.max(0,Ke[Sr].g-100),Xn=!1;else try{it="req"+it+"_"||"";try{var Rt=zi instanceof Map?zi:Object.entries(zi);for(const[gs,xr]of Rt){let qi=xr;g(xr)&&(qi=gn(xr)),Vr.push(it+gs+"="+encodeURIComponent(qi))}}catch(gs){throw Vr.push(it+"type="+encodeURIComponent("_badmap")),gs}}catch{he&&he(zi)}}if(Xn){Rt=Vr.join("&");break e}}Rt=void 0}return w=w.i.splice(0,V),M.G=w,Rt}function ta(w){if(!w.g&&!w.v){w.Y=1;var M=w.Da;Ue||G(),ze||(Ue(),ze=!0),Y.add(M,w),w.A=0}}function va(w){return w.g||w.v||w.A>=3?!1:(w.Y++,w.v=Hn(m(w.Da,w),Me(w,w.A)),w.A++,!0)}n.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var w=4*this.T;this.j.info("BP detection timer enabled: "+w),this.B=Hn(m(this.Wa,this),w)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),ya(this),O(this))};function at(w){w.B!=null&&(f.clearTimeout(w.B),w.B=null)}function O(w){w.g=new Mt(w,w.j,"rpc",w.Y),w.u===null&&(w.g.J=w.o),w.g.P=0;var M=ti(w.na);wn(M,"RID","rpc"),wn(M,"SID",w.M),wn(M,"AID",w.K),wn(M,"CI",w.F?"0":"1"),!w.F&&w.ia&&wn(M,"TO",w.ia),wn(M,"TYPE","xmlhttp"),Ms(w,M),w.u&&w.o&&bo(M,w.u,w.o),w.O&&(w.g.H=w.O);var V=w.g;w=w.ba,V.M=1,V.A=ps(ti(M)),V.u=null,V.R=!0,Bi(V,w)}n.Va=function(){this.C!=null&&(this.C=null,ya(this),va(this),Jt(19))};function Z(w){w.C!=null&&(f.clearTimeout(w.C),w.C=null)}function we(w,M){var V=null;if(w.g==M){Z(w),at(w),w.g=null;var he=2}else if(Zi(w.h,M))V=M.G,nr(w.h,M),he=1;else return;if(w.I!=0){if(M.o)if(he==1){V=M.u?M.u.length:0,M=Date.now()-M.F;var Ke=w.D;he=ar(),ht(he,new sn(he,V)),ea(w)}else ta(w);else if(Ke=M.m,Ke==3||Ke==0&&M.X>0||!(he==1&&wo(w,M)||he==2&&va(w)))switch(V&&V.length>0&&(M=w.h,M.i=M.i.concat(V)),Ke){case 1:We(w,5);break;case 4:We(w,10);break;case 3:We(w,6);break;default:We(w,2)}}}function Me(w,M){let V=w.Qa+Math.floor(Math.random()*w.Za);return w.isActive()||(V*=2),V*M}function We(w,M){if(w.j.info("Error code "+M),M==2){var V=m(w.bb,w),he=w.Ua;const Ke=!he;he=new Ri(he||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||yn(he,"https"),ps(he),Ke?Is(he.toString(),V):ga(he.toString(),V)}else Jt(2);w.I=0,w.l&&w.l.pa(M),pt(w),Ia(w)}n.bb=function(w){w?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function pt(w){if(w.I=0,w.ja=[],w.l){const M=tr(w.h);(M.length!=0||w.i.length!=0)&&(X(w.ja,M),X(w.ja,w.i),w.h.i.length=0,R(w.i),w.i.length=0),w.l.oa()}}function St(w,M,V){var he=V instanceof Ri?ti(V):new Ri(V);if(he.g!="")M&&(he.g=M+"."+he.g),Qi(he,he.u);else{var Ke=f.location;he=Ke.protocol,M=M?M+"."+Ke.hostname:Ke.hostname,Ke=+Ke.port;const it=new Ri(null);he&&yn(it,he),M&&(it.g=M),Ke&&Qi(it,Ke),V&&(it.h=V),he=it}return V=w.G,M=w.wa,V&&M&&wn(he,V,M),wn(he,"VER",w.ka),Ms(w,he),he}function Wt(w,M,V){if(M&&!w.L)throw Error("Can't create secondary domain capable XhrIo object.");return M=w.Aa&&!w.ma?new gr(new un({ab:V})):new gr(w.ma),M.Fa(w.L),M}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pt(){}n=Pt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function vn(){}vn.prototype.g=function(w,M){return new Ft(w,M)};function Ft(w,M){Ae.call(this),this.g=new xa(M),this.l=w,this.h=M&&M.messageUrlParams||null,w=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(w?w["X-WebChannel-Content-Type"]=M.messageContentType:w={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.sa&&(w?w["X-WebChannel-Client-Profile"]=M.sa:w={"X-WebChannel-Client-Profile":M.sa}),this.g.U=w,(w=M&&M.Qb)&&!H(w)&&(this.g.u=w),this.A=M&&M.supportsCrossDomainXhr||!1,this.v=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!H(M)&&(this.g.G=M,w=this.h,w!==null&&M in w&&(w=this.h,M in w&&delete w[M])),this.j=new _n(this)}T(Ft,Ae),Ft.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){Ga(this.g)},Ft.prototype.o=function(w){var M=this.g;if(typeof w=="string"){var V={};V.__data__=w,w=V}else this.v&&(V={},V.__data__=gn(w),w=V);M.i.push(new Xr(M.Ya++,w)),M.I==3&&ea(M)},Ft.prototype.N=function(){this.g.l=null,delete this.j,Ga(this.g),delete this.g,Ft.Z.N.call(this)};function $n(w){ut.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var M=w.__sm__;if(M){e:{for(const V in M){w=V;break e}w=void 0}(this.i=w)&&(w=this.i,M=M!==null&&w in M?M[w]:void 0),this.data=M}else this.data=w}T($n,ut);function mr(){Gt.call(this),this.status=1}T(mr,Gt);function _n(w){this.g=w}T(_n,Pt),_n.prototype.ra=function(){ht(this.g,"a")},_n.prototype.qa=function(w){ht(this.g,new $n(w))},_n.prototype.pa=function(w){ht(this.g,new mr)},_n.prototype.oa=function(){ht(this.g,"b")},vn.prototype.createWebChannel=vn.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,m_=function(){return new vn},g_=function(){return ar()},p_=qt,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,v1=zs,pi.COMPLETE="complete",d_=pi,$r.EventType=en,en.OPEN="a",en.CLOSE="b",en.ERROR="c",en.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,md=$r,gr.prototype.listenOnce=gr.prototype.K,gr.prototype.getLastError=gr.prototype.Ha,gr.prototype.getLastErrorCode=gr.prototype.ya,gr.prototype.getStatus=gr.prototype.ca,gr.prototype.getResponseJson=gr.prototype.La,gr.prototype.getResponseText=gr.prototype.la,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Fa,f_=gr}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});let Ua=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ua.UNAUTHENTICATED=new Ua(null),Ua.GOOGLE_CREDENTIALS=new Ua("google-credentials-uid"),Ua.FIRST_PARTY=new Ua("first-party-uid"),Ua.MOCK_USER=new Ua("mock-user");let Af="12.9.0";function GI(n){Af=n}const Gu=new nx("@firebase/firestore");function Hh(){return Gu.logLevel}function Zt(n,...e){if(Gu.logLevel<=br.DEBUG){const t=e.map(dx);Gu.debug(`Firestore (${Af}): ${n}`,...t)}}function dc(n,...e){if(Gu.logLevel<=br.ERROR){const t=e.map(dx);Gu.error(`Firestore (${Af}): ${n}`,...t)}}function Wu(n,...e){if(Gu.logLevel<=br.WARN){const t=e.map(dx);Gu.warn(`Firestore (${Af}): ${n}`,...t)}}function dx(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Pn(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,x_(n,r,t)}function x_(n,e,t){let r=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw dc(r),new Error(r)}function Gr(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||x_(e,a,r)}function Qn(n,e){return n}const _t={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ht extends bc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class y_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ua.UNAUTHENTICATED)))}shutdown(){}}class XI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YI{constructor(e){this.t=e,this.currentUser=Ua.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gr(this.o===void 0,42304);let r=this.i;const a=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let l=new lc;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new lc,e.enqueueRetryable((()=>a(this.currentUser)))};const f=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await a(this.currentUser)}))},g=y=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new lc)}}),0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gr(typeof r.accessToken=="string",31837,{l:r}),new y_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gr(e===null||typeof e=="string",2055,{h:e}),new Ua(e)}}class KI{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ua.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ZI{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new KI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ua.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Gr(this.o===void 0,3512);const r=l=>{l.error!=null&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.m;return this.m=l.token,Zt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Gr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new fb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class px{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=JI(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function wr(n,e){return n<e?-1:n>e?1:0}function cm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return v2(a)===v2(l)?wr(a,l):v2(a)?1:-1}return wr(n.length,e.length)}const $I=55296,e7=57343;function v2(n){const e=n.charCodeAt(0);return e>=$I&&e<=e7}function hf(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const db="__name__";class Cl{constructor(e,t,r){t===void 0?t=0:t>e.length&&Pn(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Pn(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Cl.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return wr(e.length,t.length)}static compareSegments(e,t){const r=Cl.isNumericId(e),a=Cl.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Cl.extractNumericId(e).compare(Cl.extractNumericId(t)):cm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ru.fromString(e.substring(4,e.length-2))}}class yi extends Cl{construct(e,t,r){return new yi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ht(_t.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new yi(t)}static emptyPath(){return new yi([])}}const t7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ca extends Cl{construct(e,t,r){return new Ca(e,t,r)}static isValidIdentifier(e){return t7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ca.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===db}static keyField(){return new Ca([db])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Ht(_t.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;a<e.length;){const g=e[a];if(g==="\\"){if(a+1===e.length)throw new Ht(_t.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ht(_t.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,a+=2}else g==="`"?(f=!f,a++):g!=="."||f?(r+=g,a++):(l(),a++)}if(l(),f)throw new Ht(_t.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ca(t)}static emptyPath(){return new Ca([])}}class In{constructor(e){this.path=e}static fromPath(e){return new In(yi.fromString(e))}static fromName(e){return new In(yi.fromString(e).popFirst(5))}static empty(){return new In(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yi.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new In(new yi(e.slice()))}}function v_(n,e,t){if(!t)throw new Ht(_t.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function n7(n,e,t,r){if(e===!0&&r===!0)throw new Ht(_t.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pb(n){if(!In.isDocumentKey(n))throw new Ht(_t.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gb(n){if(In.isDocumentKey(n))throw new Ht(_t.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function b_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function xp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pn(12329,{type:typeof n})}function mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ht(_t.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xp(n);throw new Ht(_t.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function r7(n,e){if(e<=0)throw new Ht(_t.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}function Vs(n,e){const t={typeString:n};return e&&(t.value=e),t}function t0(n,e){if(!b_(n))throw new Ht(_t.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const f=n[r];if(a&&typeof f!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&f!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Ht(_t.INVALID_ARGUMENT,t);return!0}const mb=-62135596800,xb=1e6;class Si{static now(){return Si.fromMillis(Date.now())}static fromDate(e){return Si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xb);return new Si(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mb)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ht(_t.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xb}_compareTo(e){return this.seconds===e.seconds?wr(this.nanoseconds,e.nanoseconds):wr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Si._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(t0(e,Si._jsonSchema))return new Si(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Si._jsonSchemaVersion="firestore/timestamp/1.0",Si._jsonSchema={type:Vs("string",Si._jsonSchemaVersion),seconds:Vs("number"),nanoseconds:Vs("number")};class qn{static fromTimestamp(e){return new qn(e)}static min(){return new qn(new Si(0,0))}static max(){return new qn(new Si(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jd=-1;function i7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=qn.fromTimestamp(r===1e9?new Si(t+1,0):new Si(t,r));return new ou(a,In.empty(),e)}function s7(n){return new ou(n.readTime,n.key,jd)}class ou{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ou(qn.min(),In.empty(),jd)}static max(){return new ou(qn.max(),In.empty(),jd)}}function a7(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=In.comparator(n.documentKey,e.documentKey),t!==0?t:wr(n.largestBatchId,e.largestBatchId))}const o7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ef(n){if(n.code!==_t.FAILED_PRECONDITION||n.message!==o7)throw n;Zt("LocalStore","Unexpectedly lost primary lease")}class Nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Nt(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Nt?t:Nt.resolve(t)}catch(t){return Nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Nt.reject(t)}static resolve(e){return new Nt(((t,r)=>{t(e)}))}static reject(e){return new Nt(((t,r)=>{r(e)}))}static waitFor(e){return new Nt(((t,r)=>{let a=0,l=0,f=!1;e.forEach((g=>{++a,g.next((()=>{++l,f&&l===a&&t()}),(y=>r(y)))})),f=!0,l===a&&t()}))}static or(e){let t=Nt.resolve(!1);for(const r of e)t=t.next((a=>a?Nt.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new Nt(((r,a)=>{const l=e.length,f=new Array(l);let g=0;for(let y=0;y<l;y++){const m=y;t(e[m]).next((b=>{f[m]=b,++g,g===l&&r(f)}),(b=>a(b)))}}))}static doWhile(e,t){return new Nt(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function c7(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sf(n){return n.name==="IndexedDbTransactionError"}class yp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yp.ce=-1;const gx=-1;function vp(n){return n==null}function V1(n){return n===0&&1/n==-1/0}function u7(n){return typeof n=="number"&&Number.isInteger(n)&&!V1(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const w_="";function h7(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yb(e)),e=f7(n.get(t),e);return yb(e)}function f7(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case w_:t+="";break;default:t+=l}}return t}function yb(n){return n+w_+""}function vb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function __(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yi{constructor(e,t){this.comparator=e,this.root=t||Sa.EMPTY}insert(e,t){return new Yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sa.BLACK,null,null))}remove(e){return new Yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t1(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t1(this.root,e,this.comparator,!1)}getReverseIterator(){return new t1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t1(this.root,e,this.comparator,!0)}}class t1{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sa{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Sa.RED,this.left=a??Sa.EMPTY,this.right=l??Sa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Sa(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Sa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Sa.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pn(27949);return e+(this.isRed()?0:1)}}Sa.EMPTY=null,Sa.RED=!0,Sa.BLACK=!1;Sa.EMPTY=new class{constructor(){this.size=0}get key(){throw Pn(57766)}get value(){throw Pn(16141)}get color(){throw Pn(16727)}get left(){throw Pn(29726)}get right(){throw Pn(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new Sa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Js{constructor(e){this.comparator=e,this.data=new Yi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bb(this.data.getIterator())}getIteratorFrom(e){return new bb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Js(this.comparator);return t.data=e,t}}class bb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class To{constructor(e){this.fields=e,e.sort(Ca.comparator)}static empty(){return new To([])}unionWith(e){let t=new Js(Ca.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new To(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hf(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class A_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Na{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new A_("Invalid base64 string: "+l):l}})(e);return new Na(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l})(e);return new Na(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Na.EMPTY_BYTE_STRING=new Na("");const d7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lu(n){if(Gr(!!n,39018),typeof n=="string"){let e=0;const t=d7.exec(n);if(Gr(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_s(n.seconds),nanos:_s(n.nanos)}}function _s(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function cu(n){return typeof n=="string"?Na.fromBase64String(n):Na.fromUint8Array(n)}const E_="server_timestamp",S_="__type__",C_="__previous_value__",N_="__local_write_time__";function mx(n){return(n?.mapValue?.fields||{})[S_]?.stringValue===E_}function bp(n){const e=n.mapValue.fields[C_];return mx(e)?bp(e):e}function Bd(n){const e=lu(n.mapValue.fields[N_].timestampValue);return new Si(e.seconds,e.nanos)}class p7{constructor(e,t,r,a,l,f,g,y,m,b,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=m,this.isUsingEmulator=b,this.apiKey=T}}const z1="(default)";class Fd{constructor(e,t){this.projectId=e,this.database=t||z1}static empty(){return new Fd("","")}get isDefaultDatabase(){return this.database===z1}isEqual(e){return e instanceof Fd&&e.projectId===this.projectId&&e.database===this.database}}function g7(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ht(_t.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fd(n.options.projectId,e)}const T_="__type__",m7="__max__",n1={mapValue:{}},I_="__vector__",q1="value";function uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mx(n)?4:y7(n)?9007199254740991:x7(n)?10:11:Pn(28295,{value:n})}function Ll(n,e){if(n===e)return!0;const t=uu(n);if(t!==uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bd(n).isEqual(Bd(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=lu(a.timestampValue),g=lu(l.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return cu(a.bytesValue).isEqual(cu(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return _s(a.geoPointValue.latitude)===_s(l.geoPointValue.latitude)&&_s(a.geoPointValue.longitude)===_s(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return _s(a.integerValue)===_s(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=_s(a.doubleValue),g=_s(l.doubleValue);return f===g?V1(f)===V1(g):isNaN(f)&&isNaN(g)}return!1})(n,e);case 9:return hf(n.arrayValue.values||[],e.arrayValue.values||[],Ll);case 10:case 11:return(function(a,l){const f=a.mapValue.fields||{},g=l.mapValue.fields||{};if(vb(f)!==vb(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!Ll(f[y],g[y])))return!1;return!0})(n,e);default:return Pn(52216,{left:n})}}function Ud(n,e){return(n.values||[]).find((t=>Ll(t,e)))!==void 0}function ff(n,e){if(n===e)return 0;const t=uu(n),r=uu(e);if(t!==r)return wr(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wr(n.booleanValue,e.booleanValue);case 2:return(function(l,f){const g=_s(l.integerValue||l.doubleValue),y=_s(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(n,e);case 3:return wb(n.timestampValue,e.timestampValue);case 4:return wb(Bd(n),Bd(e));case 5:return cm(n.stringValue,e.stringValue);case 6:return(function(l,f){const g=cu(l),y=cu(f);return g.compareTo(y)})(n.bytesValue,e.bytesValue);case 7:return(function(l,f){const g=l.split("/"),y=f.split("/");for(let m=0;m<g.length&&m<y.length;m++){const b=wr(g[m],y[m]);if(b!==0)return b}return wr(g.length,y.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,f){const g=wr(_s(l.latitude),_s(f.latitude));return g!==0?g:wr(_s(l.longitude),_s(f.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return _b(n.arrayValue,e.arrayValue);case 10:return(function(l,f){const g=l.fields||{},y=f.fields||{},m=g[q1]?.arrayValue,b=y[q1]?.arrayValue,T=wr(m?.values?.length||0,b?.values?.length||0);return T!==0?T:_b(m,b)})(n.mapValue,e.mapValue);case 11:return(function(l,f){if(l===n1.mapValue&&f===n1.mapValue)return 0;if(l===n1.mapValue)return 1;if(f===n1.mapValue)return-1;const g=l.fields||{},y=Object.keys(g),m=f.fields||{},b=Object.keys(m);y.sort(),b.sort();for(let T=0;T<y.length&&T<b.length;++T){const L=cm(y[T],b[T]);if(L!==0)return L;const R=ff(g[y[T]],m[b[T]]);if(R!==0)return R}return wr(y.length,b.length)})(n.mapValue,e.mapValue);default:throw Pn(23264,{he:t})}}function wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wr(n,e);const t=lu(n),r=lu(e),a=wr(t.seconds,r.seconds);return a!==0?a:wr(t.nanos,r.nanos)}function _b(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=ff(t[a],r[a]);if(l)return l}return wr(t.length,r.length)}function df(n){return um(n)}function um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=lu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return cu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return In.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=um(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const f of r)l?l=!1:a+=",",a+=`${f}:${um(t.fields[f])}`;return a+"}"})(n.mapValue):Pn(61005,{value:n})}function b1(n){switch(uu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bp(n);return e?16+b1(e):16;case 5:return 2*n.stringValue.length;case 6:return cu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+b1(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return xu(r.fields,((l,f)=>{a+=l.length+b1(f)})),a})(n.mapValue);default:throw Pn(13486,{value:n})}}function Ab(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function hm(n){return!!n&&"integerValue"in n}function xx(n){return!!n&&"arrayValue"in n}function Eb(n){return!!n&&"nullValue"in n}function Sb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function w1(n){return!!n&&"mapValue"in n}function x7(n){return(n?.mapValue?.fields||{})[T_]?.stringValue===I_}function Ed(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return xu(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ed(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ed(n.arrayValue.values[t]);return e}return{...n}}function y7(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===m7}class go{constructor(e){this.value=e}static empty(){return new go({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!w1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(t)}setAll(e){let t=Ca.emptyPath(),r={},a=[];e.forEach(((f,g)=>{if(!t.isImmediateParentOf(g)){const y=this.getFieldsMap(t);this.applyChanges(y,r,a),r={},a=[],t=g.popLast()}f?r[g.lastSegment()]=Ed(f):a.push(g.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());w1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];w1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){xu(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new go(Ed(this.value))}}function R_(n){const e=[];return xu(n.fields,((t,r)=>{const a=new Ca([t]);if(w1(r)){const l=R_(r.mapValue).fields;if(l.length===0)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)})),new To(e)}class Va{constructor(e,t,r,a,l,f,g){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=f,this.documentState=g}static newInvalidDocument(e){return new Va(e,0,qn.min(),qn.min(),qn.min(),go.empty(),0)}static newFoundDocument(e,t,r,a){return new Va(e,1,t,qn.min(),r,a,0)}static newNoDocument(e,t){return new Va(e,2,t,qn.min(),qn.min(),go.empty(),0)}static newUnknownDocument(e,t){return new Va(e,3,t,qn.min(),qn.min(),go.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Va&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Va(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class H1{constructor(e,t){this.position=e,this.inclusive=t}}function Cb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],f=n.position[a];if(l.field.isKeyField()?r=In.comparator(In.fromName(f.referenceValue),t.key):r=ff(f,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ll(n.position[t],e.position[t]))return!1;return!0}class Vd{constructor(e,t="asc"){this.field=e,this.dir=t}}function v7(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class O_{}class Us extends O_{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new w7(e,t,r):t==="array-contains"?new E7(e,r):t==="in"?new S7(e,r):t==="not-in"?new C7(e,r):t==="array-contains-any"?new N7(e,r):new Us(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _7(e,r):new A7(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ff(t,this.value)):t!==null&&uu(this.value)===uu(t)&&this.matchesComparison(ff(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sl extends O_{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new sl(e,t)}matches(e){return D_(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D_(n){return n.op==="and"}function L_(n){return b7(n)&&D_(n)}function b7(n){for(const e of n.filters)if(e instanceof sl)return!1;return!0}function fm(n){if(n instanceof Us)return n.field.canonicalString()+n.op.toString()+df(n.value);if(L_(n))return n.filters.map((e=>fm(e))).join(",");{const e=n.filters.map((t=>fm(t))).join(",");return`${n.op}(${e})`}}function k_(n,e){return n instanceof Us?(function(r,a){return a instanceof Us&&r.op===a.op&&r.field.isEqual(a.field)&&Ll(r.value,a.value)})(n,e):n instanceof sl?(function(r,a){return a instanceof sl&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,f,g)=>l&&k_(f,a.filters[g])),!0):!1})(n,e):void Pn(19439)}function M_(n){return n instanceof Us?(function(t){return`${t.field.canonicalString()} ${t.op} ${df(t.value)}`})(n):n instanceof sl?(function(t){return t.op.toString()+" {"+t.getFilters().map(M_).join(" ,")+"}"})(n):"Filter"}class w7 extends Us{constructor(e,t,r){super(e,t,r),this.key=In.fromName(r.referenceValue)}matches(e){const t=In.comparator(e.key,this.key);return this.matchesComparison(t)}}class _7 extends Us{constructor(e,t){super(e,"in",t),this.keys=P_("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class A7 extends Us{constructor(e,t){super(e,"not-in",t),this.keys=P_("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function P_(n,e){return(e.arrayValue?.values||[]).map((t=>In.fromName(t.referenceValue)))}class E7 extends Us{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xx(t)&&Ud(t.arrayValue,this.value)}}class S7 extends Us{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ud(this.value.arrayValue,t)}}class C7 extends Us{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ud(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ud(this.value.arrayValue,t)}}class N7 extends Us{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xx(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Ud(this.value.arrayValue,r)))}}class T7{constructor(e,t=null,r=[],a=[],l=null,f=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=f,this.endAt=g,this.Te=null}}function Tb(n,e=null,t=[],r=[],a=null,l=null,f=null){return new T7(n,e,t,r,a,l,f)}function yx(n){const e=Qn(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>fm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),vp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>df(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>df(r))).join(",")),e.Te=t}return e.Te}function vx(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!v7(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Nb(n.startAt,e.startAt)&&Nb(n.endAt,e.endAt)}function dm(n){return In.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Cf{constructor(e,t=null,r=[],a=[],l=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function I7(n,e,t,r,a,l,f,g){return new Cf(n,e,t,r,a,l,f,g)}function wp(n){return new Cf(n)}function Ib(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function R7(n){return In.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function j_(n){return n.collectionGroup!==null}function Sd(n){const e=Qn(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Js(Ca.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((m=>{m.isInequality()&&(g=g.add(m.field))}))})),g})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Vd(l,r))})),t.has(Ca.keyField().canonicalString())||e.Ie.push(new Vd(Ca.keyField(),r))}return e.Ie}function Rl(n){const e=Qn(n);return e.Ee||(e.Ee=O7(e,Sd(n))),e.Ee}function O7(n,e){if(n.limitType==="F")return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Vd(a.field,l)}));const t=n.endAt?new H1(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new H1(n.startAt.position,n.startAt.inclusive):null;return Tb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pm(n,e){const t=n.filters.concat([e]);return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function D7(n,e){const t=n.explicitOrderBy.concat([e]);return new Cf(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function G1(n,e,t){return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _p(n,e){return vx(Rl(n),Rl(e))&&n.limitType===e.limitType}function B_(n){return`${yx(Rl(n))}|lt:${n.limitType}`}function Gh(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>M_(a))).join(", ")}]`),vp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>df(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>df(a))).join(",")),`Target(${r})`})(Rl(n))}; limitType=${n.limitType})`}function Ap(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):In.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of Sd(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(f,g,y){const m=Cb(f,g,y);return f.inclusive?m<=0:m<0})(r.startAt,Sd(r),a)||r.endAt&&!(function(f,g,y){const m=Cb(f,g,y);return f.inclusive?m>=0:m>0})(r.endAt,Sd(r),a))})(n,e)}function L7(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F_(n){return(e,t)=>{let r=!1;for(const a of Sd(n)){const l=k7(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function k7(n,e,t){const r=n.field.isKeyField()?In.comparator(e.key,t.key):(function(l,f,g){const y=f.data.field(l),m=g.data.field(l);return y!==null&&m!==null?ff(y,m):Pn(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Pn(19790,{direction:n.dir})}}class rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xu(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return __(this.inner)}size(){return this.innerSize}}const M7=new Yi(In.comparator);function pc(){return M7}const U_=new Yi(In.comparator);function xd(...n){let e=U_;for(const t of n)e=e.insert(t.key,t);return e}function V_(n){let e=U_;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function ju(){return Cd()}function z_(){return Cd()}function Cd(){return new rh((n=>n.toString()),((n,e)=>n.isEqual(e)))}const P7=new Yi(In.comparator),j7=new Js(In.comparator);function _r(...n){let e=j7;for(const t of n)e=e.add(t);return e}const B7=new Js(wr);function F7(){return B7}function bx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V1(e)?"-0":e}}function q_(n){return{integerValue:""+n}}function U7(n,e){return u7(e)?q_(e):bx(n,e)}class Ep{constructor(){this._=void 0}}function V7(n,e,t){return n instanceof zd?(function(a,l){const f={fields:{[S_]:{stringValue:E_},[N_]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&mx(l)&&(l=bp(l)),l&&(f.fields[C_]=l),{mapValue:f}})(t,e):n instanceof pf?G_(n,e):n instanceof qd?W_(n,e):(function(a,l){const f=H_(a,l),g=Rb(f)+Rb(a.Ae);return hm(f)&&hm(a.Ae)?q_(g):bx(a.serializer,g)})(n,e)}function z7(n,e,t){return n instanceof pf?G_(n,e):n instanceof qd?W_(n,e):t}function H_(n,e){return n instanceof W1?(function(r){return hm(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class zd extends Ep{}class pf extends Ep{constructor(e){super(),this.elements=e}}function G_(n,e){const t=X_(e);for(const r of n.elements)t.some((a=>Ll(a,r)))||t.push(r);return{arrayValue:{values:t}}}class qd extends Ep{constructor(e){super(),this.elements=e}}function W_(n,e){let t=X_(e);for(const r of n.elements)t=t.filter((a=>!Ll(a,r)));return{arrayValue:{values:t}}}class W1 extends Ep{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Rb(n){return _s(n.integerValue||n.doubleValue)}function X_(n){return xx(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Y_{constructor(e,t){this.field=e,this.transform=t}}function q7(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof pf&&a instanceof pf||r instanceof qd&&a instanceof qd?hf(r.elements,a.elements,Ll):r instanceof W1&&a instanceof W1?Ll(r.Ae,a.Ae):r instanceof zd&&a instanceof zd})(n.transform,e.transform)}class H7{constructor(e,t){this.version=e,this.transformResults=t}}class Uo{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Uo}static exists(e){return new Uo(void 0,e)}static updateTime(e){return new Uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _1(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sp{}function K_(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new wx(n.key,Uo.none()):new n0(n.key,n.data,Uo.none());{const t=n.data,r=go.empty();let a=new Js(Ca.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);f===null&&l.length>1&&(l=l.popLast(),f=t.field(l)),f===null?r.delete(l):r.set(l,f),a=a.add(l)}return new yu(n.key,r,new To(a.toArray()),Uo.none())}}function G7(n,e,t){n instanceof n0?(function(a,l,f){const g=a.value.clone(),y=Db(a.fieldTransforms,l,f.transformResults);g.setAll(y),l.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(n,e,t):n instanceof yu?(function(a,l,f){if(!_1(a.precondition,l))return void l.convertToUnknownDocument(f.version);const g=Db(a.fieldTransforms,l,f.transformResults),y=l.data;y.setAll(Z_(a)),y.setAll(g),l.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(n,e,t):(function(a,l,f){l.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,t)}function Nd(n,e,t,r){return n instanceof n0?(function(l,f,g,y){if(!_1(l.precondition,f))return g;const m=l.value.clone(),b=Lb(l.fieldTransforms,y,f);return m.setAll(b),f.convertToFoundDocument(f.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof yu?(function(l,f,g,y){if(!_1(l.precondition,f))return g;const m=Lb(l.fieldTransforms,y,f),b=f.data;return b.setAll(Z_(l)),b.setAll(m),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),g===null?null:g.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,r):(function(l,f,g){return _1(l.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(n,e,t)}function W7(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=H_(r.transform,a||null);l!=null&&(t===null&&(t=go.empty()),t.set(r.field,l))}return t||null}function Ob(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&hf(r,a,((l,f)=>q7(l,f)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class n0 extends Sp{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yu extends Sp{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Z_(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function Db(n,e,t){const r=new Map;Gr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],f=l.transform,g=e.data.field(l.field);r.set(l.field,z7(f,g,t[a]))}return r}function Lb(n,e,t){const r=new Map;for(const a of n){const l=a.transform,f=t.data.field(a.field);r.set(a.field,V7(l,f,e))}return r}class wx extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X7 extends Sp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y7{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&G7(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=z_();return this.mutations.forEach((a=>{const l=e.get(a.key),f=l.overlayedDocument;let g=this.applyToLocalView(f,l.mutatedFields);g=t.has(a.key)?null:g;const y=K_(f,g);y!==null&&r.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(qn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_r())}isEqual(e){return this.batchId===e.batchId&&hf(this.mutations,e.mutations,((t,r)=>Ob(t,r)))&&hf(this.baseMutations,e.baseMutations,((t,r)=>Ob(t,r)))}}class _x{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Gr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return P7})();const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,r[f].version);return new _x(e,t,r,a)}}class K7{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z7{constructor(e,t){this.count=e,this.unchangedNames=t}}var Fs,Dr;function Q7(n){switch(n){case _t.OK:return Pn(64938);case _t.CANCELLED:case _t.UNKNOWN:case _t.DEADLINE_EXCEEDED:case _t.RESOURCE_EXHAUSTED:case _t.INTERNAL:case _t.UNAVAILABLE:case _t.UNAUTHENTICATED:return!1;case _t.INVALID_ARGUMENT:case _t.NOT_FOUND:case _t.ALREADY_EXISTS:case _t.PERMISSION_DENIED:case _t.FAILED_PRECONDITION:case _t.ABORTED:case _t.OUT_OF_RANGE:case _t.UNIMPLEMENTED:case _t.DATA_LOSS:return!0;default:return Pn(15467,{code:n})}}function Q_(n){if(n===void 0)return dc("GRPC error has no .code"),_t.UNKNOWN;switch(n){case Fs.OK:return _t.OK;case Fs.CANCELLED:return _t.CANCELLED;case Fs.UNKNOWN:return _t.UNKNOWN;case Fs.DEADLINE_EXCEEDED:return _t.DEADLINE_EXCEEDED;case Fs.RESOURCE_EXHAUSTED:return _t.RESOURCE_EXHAUSTED;case Fs.INTERNAL:return _t.INTERNAL;case Fs.UNAVAILABLE:return _t.UNAVAILABLE;case Fs.UNAUTHENTICATED:return _t.UNAUTHENTICATED;case Fs.INVALID_ARGUMENT:return _t.INVALID_ARGUMENT;case Fs.NOT_FOUND:return _t.NOT_FOUND;case Fs.ALREADY_EXISTS:return _t.ALREADY_EXISTS;case Fs.PERMISSION_DENIED:return _t.PERMISSION_DENIED;case Fs.FAILED_PRECONDITION:return _t.FAILED_PRECONDITION;case Fs.ABORTED:return _t.ABORTED;case Fs.OUT_OF_RANGE:return _t.OUT_OF_RANGE;case Fs.UNIMPLEMENTED:return _t.UNIMPLEMENTED;case Fs.DATA_LOSS:return _t.DATA_LOSS;default:return Pn(39323,{code:n})}}(Dr=Fs||(Fs={}))[Dr.OK=0]="OK",Dr[Dr.CANCELLED=1]="CANCELLED",Dr[Dr.UNKNOWN=2]="UNKNOWN",Dr[Dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dr[Dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dr[Dr.NOT_FOUND=5]="NOT_FOUND",Dr[Dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dr[Dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dr[Dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dr[Dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dr[Dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dr[Dr.ABORTED=10]="ABORTED",Dr[Dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dr[Dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dr[Dr.INTERNAL=13]="INTERNAL",Dr[Dr.UNAVAILABLE=14]="UNAVAILABLE",Dr[Dr.DATA_LOSS=15]="DATA_LOSS";function J7(){return new TextEncoder}const $7=new ru([4294967295,4294967295],0);function kb(n){const e=J7().encode(n),t=new h_;return t.update(e),new Uint8Array(t.digest())}function Mb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ru([t,r],0),new ru([a,l],0)]}class Ax{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new yd(`Invalid padding: ${t}`);if(r<0)throw new yd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new yd(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ru.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(ru.fromNumber(r)));return a.compare($7)===1&&(a=new ru([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kb(e),[r,a]=Mb(t);for(let l=0;l<this.hashCount;l++){const f=this.ye(r,a,l);if(!this.we(f))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Ax(l,a,t);return r.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const t=kb(e),[r,a]=Mb(t);for(let l=0;l<this.hashCount;l++){const f=this.ye(r,a,l);this.be(f)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class yd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cp{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,r0.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cp(qn.min(),a,new Yi(wr),pc(),_r())}}class r0{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new r0(r,t,_r(),_r(),_r())}}class A1{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class J_{constructor(e,t){this.targetId=e,this.Ce=t}}class $_{constructor(e,t,r=Na.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Pb{constructor(){this.ve=0,this.Fe=jb(),this.Me=Na.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_r(),t=_r(),r=_r();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Pn(38017,{changeType:l})}})),new r0(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=jb()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Gr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class eR{constructor(e){this.Ge=e,this.ze=new Map,this.je=pc(),this.He=r1(),this.Je=r1(),this.Ze=new Yi(wr)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Pn(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(dm(l))if(r===0){const f=new In(l.path);this.et(t,f,Va.newNoDocument(f,qn.min()))}else Gr(r===1,20013,{expectedCount:r});else{const f=this._t(t);if(f!==r){const g=this.ut(e),y=g?this.ct(g,e,f):1;if(y!==0){this.it(t);const m=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let f,g;try{f=cu(r).toUint8Array()}catch(y){if(y instanceof A_)return Wu("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Ax(f,a,l)}catch(y){return Wu(y instanceof yd?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;e.mightContain(g)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,f)=>{const g=this.ot(f);if(g){if(l.current&&dm(g.target)){const y=new In(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Va.newNoDocument(y,e))}l.Be&&(t.set(f,l.ke()),l.Ke())}}));let r=_r();this.Je.forEach(((l,f)=>{let g=!0;f.forEachWhile((y=>{const m=this.ot(y);return!m||m.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(l))})),this.je.forEach(((l,f)=>f.setReadTime(e)));const a=new Cp(e,t,this.Ze,this.je,r);return this.je=pc(),this.He=r1(),this.Je=r1(),this.Ze=new Yi(wr),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Pb,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Js(wr),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Js(wr),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Zt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function r1(){return new Yi(In.comparator)}function jb(){return new Yi(In.comparator)}const tR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rR={and:"AND",or:"OR"};class iR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gm(n,e){return n.useProto3Json||vp(e)?e:{value:e}}function X1(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sR(n,e){return X1(n,e.toTimestamp())}function Ol(n){return Gr(!!n,49232),qn.fromTimestamp((function(t){const r=lu(t);return new Si(r.seconds,r.nanos)})(n))}function Ex(n,e){return mm(n,e).canonicalString()}function mm(n,e){const t=(function(a){return new yi(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function tA(n){const e=yi.fromString(n);return Gr(aA(e),10190,{key:e.toString()}),e}function xm(n,e){return Ex(n.databaseId,e.path)}function b2(n,e){const t=tA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ht(_t.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ht(_t.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new In(rA(t))}function nA(n,e){return Ex(n.databaseId,e)}function aR(n){const e=tA(n);return e.length===4?yi.emptyPath():rA(e)}function ym(n){return new yi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rA(n){return Gr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Bb(n,e,t){return{name:xm(n,e),fields:t.value.mapValue.fields}}function oR(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Pn(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,b){return m.useProto3Json?(Gr(b===void 0||typeof b=="string",58123),Na.fromBase64String(b||"")):(Gr(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Na.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(m){const b=m.code===void 0?_t.UNKNOWN:Q_(m.code);return new Ht(b,m.message||"")})(f);t=new $_(r,a,l,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=b2(n,r.document.name),l=Ol(r.document.updateTime),f=r.document.createTime?Ol(r.document.createTime):qn.min(),g=new go({mapValue:{fields:r.document.fields}}),y=Va.newFoundDocument(a,l,f,g),m=r.targetIds||[],b=r.removedTargetIds||[];t=new A1(m,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=b2(n,r.document),l=r.readTime?Ol(r.readTime):qn.min(),f=Va.newNoDocument(a,l),g=r.removedTargetIds||[];t=new A1([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=b2(n,r.document),l=r.removedTargetIds||[];t=new A1([],l,a,null)}else{if(!("filter"in e))return Pn(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,f=new Z7(a,l),g=r.targetId;t=new J_(g,f)}}return t}function lR(n,e){let t;if(e instanceof n0)t={update:Bb(n,e.key,e.value)};else if(e instanceof wx)t={delete:xm(n,e.key)};else if(e instanceof yu)t={update:Bb(n,e.key,e.data),updateMask:xR(e.fieldMask)};else{if(!(e instanceof X7))return Pn(16599,{dt:e.type});t={verify:xm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,f){const g=f.transform;if(g instanceof zd)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof pf)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof qd)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof W1)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Pn(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:sR(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pn(27497)})(n,e.precondition)),t}function cR(n,e){return n&&n.length>0?(Gr(e!==void 0,14353),n.map((t=>(function(a,l){let f=a.updateTime?Ol(a.updateTime):Ol(l);return f.isEqual(qn.min())&&(f=Ol(l)),new H7(f,a.transformResults||[])})(t,e)))):[]}function uR(n,e){return{documents:[nA(n,e.path)]}}function hR(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=nA(n,a);const l=(function(m){if(m.length!==0)return sA(sl.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const f=(function(m){if(m.length!==0)return m.map((b=>(function(L){return{field:Wh(L.field),direction:pR(L.dir)}})(b)))})(e.orderBy);f&&(t.structuredQuery.orderBy=f);const g=gm(n,e.limit);return g!==null&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function fR(n){let e=aR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Gr(r===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(T){const L=iA(T);return L instanceof sl&&L_(L)?L.getFilters():[L]})(t.where));let f=[];t.orderBy&&(f=(function(T){return T.map((L=>(function(X){return new Vd(Xh(X.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(L)))})(t.orderBy));let g=null;t.limit&&(g=(function(T){let L;return L=typeof T=="object"?T.value:T,vp(L)?null:L})(t.limit));let y=null;t.startAt&&(y=(function(T){const L=!!T.before,R=T.values||[];return new H1(R,L)})(t.startAt));let m=null;return t.endAt&&(m=(function(T){const L=!T.before,R=T.values||[];return new H1(R,L)})(t.endAt)),I7(e,a,f,l,g,"F",y,m)}function dR(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pn(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function iA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xh(t.unaryFilter.field);return Us.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Xh(t.unaryFilter.field);return Us.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xh(t.unaryFilter.field);return Us.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Xh(t.unaryFilter.field);return Us.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pn(61313);default:return Pn(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Us.create(Xh(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pn(58110);default:return Pn(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return sl.create(t.compositeFilter.filters.map((r=>iA(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Pn(1026)}})(t.compositeFilter.op))})(n):Pn(30097,{filter:n})}function pR(n){return tR[n]}function gR(n){return nR[n]}function mR(n){return rR[n]}function Wh(n){return{fieldPath:n.canonicalString()}}function Xh(n){return Ca.fromServerFormat(n.fieldPath)}function sA(n){return n instanceof Us?(function(t){if(t.op==="=="){if(Sb(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NAN"}};if(Eb(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sb(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NAN"}};if(Eb(t.value))return{unaryFilter:{field:Wh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(t.field),op:gR(t.op),value:t.value}}})(n):n instanceof sl?(function(t){const r=t.getFilters().map((a=>sA(a)));return r.length===1?r[0]:{compositeFilter:{op:mR(t.op),filters:r}}})(n):Pn(54877,{filter:n})}function xR(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function aA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function oA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Jc{constructor(e,t,r,a,l=qn.min(),f=qn.min(),g=Na.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Jc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yR{constructor(e){this.yt=e}}function vR(n){const e=fR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?G1(e,e.limit,"L"):e}class bR{constructor(){this.Sn=new wR}addToCollectionParentIndex(e,t){return this.Sn.add(t),Nt.resolve()}getCollectionParents(e,t){return Nt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Nt.resolve()}deleteFieldIndex(e,t){return Nt.resolve()}deleteAllFieldIndexes(e){return Nt.resolve()}createTargetIndexes(e,t){return Nt.resolve()}getDocumentsMatchingTarget(e,t){return Nt.resolve(null)}getIndexType(e,t){return Nt.resolve(0)}getFieldIndexes(e,t){return Nt.resolve([])}getNextCollectionGroupToUpdate(e){return Nt.resolve(null)}getMinOffset(e,t){return Nt.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return Nt.resolve(ou.min())}updateCollectionGroup(e,t,r){return Nt.resolve()}updateIndexEntries(e,t){return Nt.resolve()}}class wR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Js(yi.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Js(yi.comparator)).toArray()}}const Fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lA=41943040;class po{static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(lA,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class gf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gf(0)}static ar(){return new gf(-1)}}const Ub="LruGarbageCollector",_R=1048576;function Vb([n,e],[t,r]){const a=wr(n,t);return a===0?wr(e,r):a}class AR{constructor(e){this.Pr=e,this.buffer=new Js(Vb),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Vb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ER{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Zt(Ub,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sf(t)?Zt(Ub,"Ignoring IndexedDB error during garbage collection: ",t):await Ef(t)}await this.Ar(3e5)}))}}class SR{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Nt.resolve(yp.ce);const r=new AR(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Zt("LruGarbageCollector","Garbage collection skipped; disabled"),Nt.resolve(Fb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Zt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fb):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,f,g,y,m;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(Zt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,f=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,g=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(m=Date.now(),Hh()<=br.DEBUG&&Zt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${a} in `+(g-f)+`ms
	Removed ${l} targets in `+(y-g)+`ms
	Removed ${T} documents in `+(m-y)+`ms
Total Duration: ${m-b}ms`),Nt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function CR(n,e){return new SR(n,e)}class NR{constructor(){this.changes=new rh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Va.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Nt.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class IR{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&Nd(r.mutation,a,To.empty(),Si.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,_r()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=_r()){const a=ju();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let f=xd();return l.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,t){const r=ju();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,_r())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((f,g)=>{t.set(f,g)}))}))}computeViews(e,t,r,a){let l=pc();const f=Cd(),g=(function(){return Cd()})();return t.forEach(((y,m)=>{const b=r.get(m.key);a.has(m.key)&&(b===void 0||b.mutation instanceof yu)?l=l.insert(m.key,m):b!==void 0?(f.set(m.key,b.mutation.getFieldMask()),Nd(b.mutation,m,b.mutation.getFieldMask(),Si.now())):f.set(m.key,To.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((m,b)=>f.set(m,b))),t.forEach(((m,b)=>g.set(m,new TR(b,f.get(m)??null)))),g)))}recalculateAndSaveOverlays(e,t){const r=Cd();let a=new Yi(((f,g)=>f-g)),l=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((f=>{for(const g of f)g.keys().forEach((y=>{const m=t.get(y);if(m===null)return;let b=r.get(y)||To.empty();b=g.applyToLocalView(m,b),r.set(y,b);const T=(a.get(g.batchId)||_r()).add(y);a=a.insert(g.batchId,T)}))})).next((()=>{const f=[],g=a.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),m=y.key,b=y.value,T=z_();b.forEach((L=>{if(!l.has(L)){const R=K_(t.get(L),r.get(L));R!==null&&T.set(L,R),l=l.add(L)}})),f.push(this.documentOverlayCache.saveOverlays(e,m,T))}return Nt.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return R7(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):Nt.resolve(ju());let g=jd,y=l;return f.next((m=>Nt.forEach(m,((b,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),l.get(b)?Nt.resolve():this.remoteDocumentCache.getEntry(e,b).next((L=>{y=y.insert(b,L)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,y,m,_r()))).next((b=>({batchId:g,changes:V_(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new In(t)).next((r=>{let a=xd();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let f=xd();return this.indexManager.getCollectionParents(e,l).next((g=>Nt.forEach(g,(y=>{const m=(function(T,L){return new Cf(L,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next((b=>{b.forEach(((T,L)=>{f=f.insert(T,L)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((f=>(l=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((f=>{l.forEach(((y,m)=>{const b=m.getKey();f.get(b)===null&&(f=f.insert(b,Va.newInvalidDocument(b)))}));let g=xd();return f.forEach(((y,m)=>{const b=l.get(y);b!==void 0&&Nd(b.mutation,m,To.empty(),Si.now()),Ap(t,m)&&(g=g.insert(y,m))})),g}))}}class RR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Nt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ol(a.createTime)}})(t)),Nt.resolve()}getNamedQuery(e,t){return Nt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:vR(a.bundledQuery),readTime:Ol(a.readTime)}})(t)),Nt.resolve()}}class OR{constructor(){this.overlays=new Yi(In.comparator),this.Lr=new Map}getOverlay(e,t){return Nt.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ju();return Nt.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),Nt.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),Nt.resolve()}getOverlaysForCollection(e,t,r){const a=ju(),l=t.length+1,f=new In(t.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,m=y.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&y.largestBatchId>r&&a.set(y.getKey(),y)}return Nt.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new Yi(((m,b)=>m-b));const f=this.overlays.getIterator();for(;f.hasNext();){const m=f.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let b=l.get(m.largestBatchId);b===null&&(b=ju(),l=l.insert(m.largestBatchId,b)),b.set(m.getKey(),m)}}const g=ju(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((m,b)=>g.set(m,b))),!(g.size()>=a)););return Nt.resolve(g)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const f=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new K7(t,r));let l=this.Lr.get(t);l===void 0&&(l=_r(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}class DR{constructor(){this.sessionToken=Na.EMPTY_BYTE_STRING}getSessionToken(e){return Nt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Nt.resolve()}}class Sx{constructor(){this.kr=new Js(ha.Kr),this.qr=new Js(ha.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ha(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ha(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new In(new yi([])),r=new ha(t,e),a=new ha(t,e+1),l=[];return this.qr.forEachInRange([r,a],(f=>{this.Wr(f),l.push(f.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new In(new yi([])),r=new ha(t,e),a=new ha(t,e+1);let l=_r();return this.qr.forEachInRange([r,a],(f=>{l=l.add(f.key)})),l}containsKey(e){const t=new ha(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ha{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return In.comparator(e.key,t.key)||wr(e.Hr,t.Hr)}static Ur(e,t){return wr(e.Hr,t.Hr)||In.comparator(e.key,t.key)}}class LR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Js(ha.Kr)}checkEmpty(e){return Nt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Y7(l,t,r,a);this.mutationQueue.push(f);for(const g of a)this.Jr=this.Jr.add(new ha(g.key,l)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Nt.resolve(f)}lookupMutationBatch(e,t){return Nt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return Nt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Nt.resolve(this.mutationQueue.length===0?gx:this.Yn-1)}getAllMutationBatches(e){return Nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ha(t,0),a=new ha(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(f=>{const g=this.Zr(f.Hr);l.push(g)})),Nt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Js(wr);return t.forEach((a=>{const l=new ha(a,0),f=new ha(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,f],(g=>{r=r.add(g.Hr)}))})),Nt.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;In.isDocumentKey(l)||(l=l.child(""));const f=new ha(new In(l),0);let g=new Js(wr);return this.Jr.forEachWhile((y=>{const m=y.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(g=g.add(y.Hr)),!0)}),f),Nt.resolve(this.Yr(g))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Gr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Nt.forEach(t.mutations,(a=>{const l=new ha(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ha(t,0),a=this.Jr.firstAfterOrEqual(r);return Nt.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Nt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kR{constructor(e){this.ti=e,this.docs=(function(){return new Yi(In.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,f=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Nt.resolve(r?r.document.mutableCopy():Va.newInvalidDocument(t))}getEntries(e,t){let r=pc();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Va.newInvalidDocument(a))})),Nt.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=pc();const f=t.path,g=new In(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:m,value:{document:b}}=y.getNext();if(!f.isPrefixOf(m.path))break;m.path.length>f.length+1||a7(s7(b),r)<=0||(a.has(b.key)||Ap(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return Nt.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Pn(9500)}ni(e,t){return Nt.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new MR(this)}getSize(e){return Nt.resolve(this.size)}}class MR extends NR{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),Nt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class PR{constructor(e){this.persistence=e,this.ri=new rh((t=>yx(t)),vx),this.lastRemoteSnapshotVersion=qn.min(),this.highestTargetId=0,this.ii=0,this.si=new Sx,this.targetCount=0,this.oi=gf._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),Nt.resolve()}getLastRemoteSnapshotVersion(e){return Nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Nt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Nt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new gf(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Nt.resolve()}updateTargetData(e,t){return this.lr(t),Nt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Nt.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=t&&r.get(g.targetId)===null&&(this.ri.delete(f),l.push(this.removeMatchingKeysForTargetId(e,g.targetId)),a++)})),Nt.waitFor(l).next((()=>a))}getTargetCount(e){return Nt.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Nt.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Nt.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((f=>{l.push(a.markPotentiallyOrphaned(e,f))})),Nt.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Nt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Nt.resolve(r)}containsKey(e,t){return Nt.resolve(this.si.containsKey(t))}}class cA{constructor(e,t){this._i={},this.overlays={},this.ai=new yp(0),this.ui=!1,this.ui=!0,this.ci=new DR,this.referenceDelegate=e(this),this.li=new PR(this),this.indexManager=new bR,this.remoteDocumentCache=(function(a){return new kR(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new yR(t),this.Pi=new RR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new LR(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Zt("MemoryPersistence","Starting transaction:",e);const a=new jR(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return Nt.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class jR extends l7{constructor(e){super(),this.currentSequenceNumber=e}}class Cx{constructor(e){this.persistence=e,this.Ri=new Sx,this.Ai=null}static Vi(e){return new Cx(e)}get di(){if(this.Ai)return this.Ai;throw Pn(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Nt.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Nt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Nt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nt.forEach(this.di,(r=>{const a=In.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,qn.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Nt.or([()=>Nt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Y1{constructor(e,t){this.persistence=e,this.fi=new rh((r=>h7(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=CR(this,t)}static Vi(e,t){return new Y1(e,t)}Ti(){}Ii(e){return Nt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Nt.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?Nt.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(f=>this.wr(e,f,t).next((g=>{g||(r++,l.removeEntry(f,qn.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Nt.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Nt.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Nt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Nt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=b1(e.data.value)),t}wr(e,t,r){return Nt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return Nt.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nx{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=_r(),a=_r();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Nx(e,t.fromCache,r,a)}}class BR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class FR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return pC()?8:c7(za())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((f=>{l.result=f})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((f=>{l.result=f}))})).next((()=>{if(l.result)return;const f=new BR;return this.ys(e,t,f).next((g=>{if(l.result=g,this.As)return this.ws(e,t,f,g.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Hh()<=br.DEBUG&&Zt("QueryEngine","SDK will not create cache indexes for query:",Gh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Nt.resolve()):(Hh()<=br.DEBUG&&Zt("QueryEngine","Query:",Gh(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Hh()<=br.DEBUG&&Zt("QueryEngine","The SDK decides to create cache indexes for query:",Gh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rl(t))):Nt.resolve())}gs(e,t){if(Ib(t))return Nt.resolve(null);let r=Rl(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=G1(t,null,"F"),r=Rl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const f=_r(...l);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const m=this.bs(t,g);return this.Ss(t,m,f,y.readTime)?this.gs(e,G1(t,null,"F")):this.Ds(e,m,t,y)}))))})))))}ps(e,t,r,a){return Ib(t)||a.isEqual(qn.min())?Nt.resolve(null):this.fs.getDocuments(e,r).next((l=>{const f=this.bs(t,l);return this.Ss(t,f,r,a)?Nt.resolve(null):(Hh()<=br.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Gh(t)),this.Ds(e,f,t,i7(a,jd)).next((g=>g)))}))}bs(e,t){let r=new Js(F_(e));return t.forEach(((a,l)=>{Ap(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Hh()<=br.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",Gh(t)),this.fs.getDocumentsMatchingQuery(e,t,ou.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((f=>{l=l.insert(f.key,f)})),l)))}}const Tx="LocalStore",UR=3e8;class VR{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new Yi(wr),this.Fs=new rh((l=>yx(l)),vx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function zR(n,e,t,r){return new VR(n,e,t,r)}async function uA(n,e){const t=Qn(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const f=[],g=[];let y=_r();for(const m of a){f.push(m.batchId);for(const b of m.mutations)y=y.add(b.key)}for(const m of l){g.push(m.batchId);for(const b of m.mutations)y=y.add(b.key)}return t.localDocuments.getDocuments(r,y).next((m=>({Ns:m,removedBatchIds:f,addedBatchIds:g})))}))}))}function qR(n,e){const t=Qn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(g,y,m,b){const T=m.batch,L=T.keys();let R=Nt.resolve();return L.forEach((X=>{R=R.next((()=>b.getEntry(y,X))).next((W=>{const $=m.docVersions.get(X);Gr($!==null,48541),W.version.compareTo($)<0&&(T.applyToRemoteDocument(W,m),W.isValidDocument()&&(W.setReadTime(m.commitVersion),b.addEntry(W)))}))})),R.next((()=>g.mutationQueue.removeMutationBatch(y,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=_r();for(let m=0;m<g.mutationResults.length;++m)g.mutationResults[m].transformResults.length>0&&(y=y.add(g.batch.mutations[m].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function hA(n){const e=Qn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function HR(n,e){const t=Qn(n),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const f=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const g=[];e.targetChanges.forEach(((b,T)=>{const L=a.get(T);if(!L)return;g.push(t.li.removeMatchingKeys(l,b.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,b.addedDocuments,T))));let R=L.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Na.EMPTY_BYTE_STRING,qn.min()).withLastLimboFreeSnapshotVersion(qn.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,r)),a=a.insert(T,R),(function(W,$,K){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=UR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(L,R,b)&&g.push(t.li.updateTargetData(l,R))}));let y=pc(),m=_r();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),g.push(GR(l,f,e.documentUpdates).next((b=>{y=b.Bs,m=b.Ls}))),!r.isEqual(qn.min())){const b=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));g.push(b)}return Nt.waitFor(g).next((()=>f.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,m))).next((()=>y))})).then((l=>(t.vs=a,l)))}function GR(n,e,t){let r=_r(),a=_r();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let f=pc();return t.forEach(((g,y)=>{const m=l.get(g);y.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(g)),y.isNoDocument()&&y.version.isEqual(qn.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!m.isValidDocument()||y.version.compareTo(m.version)>0||y.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):Zt(Tx,"Ignoring outdated watch update for ",g,". Current version:",m.version," Watch version:",y.version)})),{Bs:f,Ls:a}}))}function WR(n,e){const t=Qn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=gx),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function XR(n,e){const t=Qn(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,Nt.resolve(a)):t.li.allocateTargetId(r).next((f=>(a=new Jc(e,f,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function vm(n,e,t){const r=Qn(n),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(f=>r.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!Sf(f))throw f;Zt(Tx,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function zb(n,e,t){const r=Qn(n);let a=qn.min(),l=_r();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,m,b){const T=Qn(y),L=T.Fs.get(b);return L!==void 0?Nt.resolve(T.vs.get(L)):T.li.getTargetData(m,b)})(r,f,Rl(e)).next((g=>{if(g)return a=g.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,g.targetId).next((y=>{l=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,t?a:qn.min(),t?l:_r()))).next((g=>(YR(r,L7(e),g),{documents:g,ks:l})))))}function YR(n,e,t){let r=n.Ms.get(e)||qn.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Ms.set(e,r)}class qb{constructor(){this.activeTargetIds=F7()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(){this.vo=new qb,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new qb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ZR{Mo(e){}shutdown(){}}const Hb="ConnectivityMonitor";class Gb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Zt(Hb,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Zt(Hb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let i1=null;function bm(){return i1===null?i1=(function(){return 268435456+Math.round(2147483648*Math.random())})():i1++,"0x"+i1.toString(16)}const w2="RestConnection",QR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class JR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===z1?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const f=bm(),g=this.Qo(e,t.toUriEncodedString());Zt(w2,`Sending RPC '${e}' ${f}:`,g,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,a,l);const{host:m}=new URL(g),b=bf(m);return this.zo(e,g,y,r,b).then((T=>(Zt(w2,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw Wu(w2,`RPC '${e}' ${f} failed with error: `,T,"url: ",g,"request:",r),T}))}jo(e,t,r,a,l,f){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Af})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=QR[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class $R{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Ma="WebChannelConnection",hd=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class nf extends JR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!nf.c_){const e=g_();hd(e,p_.STAT_EVENT,(t=>{t.stat===lm.PROXY?Zt(Ma,"STAT_EVENT: detected buffering proxy"):t.stat===lm.NOPROXY&&Zt(Ma,"STAT_EVENT: detected no buffering proxy")})),nf.c_=!0}}zo(e,t,r,a,l){const f=bm();return new Promise(((g,y)=>{const m=new f_;m.setWithCredentials(!0),m.listenOnce(d_.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case v1.NO_ERROR:const T=m.getResponseJson();Zt(Ma,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),g(T);break;case v1.TIMEOUT:Zt(Ma,`RPC '${e}' ${f} timed out`),y(new Ht(_t.DEADLINE_EXCEEDED,"Request time out"));break;case v1.HTTP_ERROR:const L=m.getStatus();if(Zt(Ma,`RPC '${e}' ${f} failed with status:`,L,"response text:",m.getResponseText()),L>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const X=R?.error;if(X&&X.status&&X.message){const W=(function(K){const oe=K.toLowerCase().replace(/_/g,"-");return Object.values(_t).indexOf(oe)>=0?oe:_t.UNKNOWN})(X.status);y(new Ht(W,X.message))}else y(new Ht(_t.UNKNOWN,"Server responded with status "+m.getStatus()))}else y(new Ht(_t.UNAVAILABLE,"Connection failed."));break;default:Pn(9055,{l_:e,streamId:f,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Zt(Ma,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(a);Zt(Ma,`RPC '${e}' ${f} sending request:`,a),m.send(t,"POST",b,r,15)}))}T_(e,t,r){const a=bm(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const m=l.join("");Zt(Ma,`Creating RPC '${e}' stream ${a}: ${m}`,g);const b=f.createWebChannel(m,g);this.I_(b);let T=!1,L=!1;const R=new $R({Ho:X=>{L?Zt(Ma,`Not sending because RPC '${e}' stream ${a} is closed:`,X):(T||(Zt(Ma,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),Zt(Ma,`RPC '${e}' stream ${a} sending:`,X),b.send(X))},Jo:()=>b.close()});return hd(b,md.EventType.OPEN,(()=>{L||(Zt(Ma,`RPC '${e}' stream ${a} transport opened.`),R.i_())})),hd(b,md.EventType.CLOSE,(()=>{L||(L=!0,Zt(Ma,`RPC '${e}' stream ${a} transport closed`),R.o_(),this.E_(b))})),hd(b,md.EventType.ERROR,(X=>{L||(L=!0,Wu(Ma,`RPC '${e}' stream ${a} transport errored. Name:`,X.name,"Message:",X.message),R.o_(new Ht(_t.UNAVAILABLE,"The operation could not be completed")))})),hd(b,md.EventType.MESSAGE,(X=>{if(!L){const W=X.data[0];Gr(!!W,16349);const $=W,K=$?.error||$[0]?.error;if(K){Zt(Ma,`RPC '${e}' stream ${a} received error:`,K);const oe=K.status;let ue=(function(ze){const Y=Fs[ze];if(Y!==void 0)return Q_(Y)})(oe),pe=K.message;oe==="NOT_FOUND"&&pe.includes("database")&&pe.includes("does not exist")&&pe.includes(this.databaseId.database)&&Wu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ue===void 0&&(ue=_t.INTERNAL,pe="Unknown error status: "+oe+" with message "+K.message),L=!0,R.o_(new Ht(ue,pe)),b.close()}else Zt(Ma,`RPC '${e}' stream ${a} received:`,W),R.__(W)}})),nf.u_(),setTimeout((()=>{R.s_()}),0),R}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return m_()}}function e9(n){return new nf(n)}function _2(){return typeof document<"u"?document:null}function Np(n){return new iR(n,!0)}nf.c_=!1;class fA{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Zt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Wb="PersistentStream";class dA{constructor(e,t,r,a,l,f,g,y){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===_t.RESOURCE_EXHAUSTED?(dc(t.toString()),dc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===_t.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ht(_t.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Zt(Wb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Zt(Wb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t9 extends dA{constructor(e,t,r,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=oR(this.serializer,e),r=(function(l){if(!("targetChange"in l))return qn.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?qn.min():f.readTime?Ol(f.readTime):qn.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=ym(this.serializer),t.addTarget=(function(l,f){let g;const y=f.target;if(g=dm(y)?{documents:uR(l,y)}:{query:hR(l,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=eA(l,f.resumeToken);const m=gm(l,f.expectedCount);m!==null&&(g.expectedCount=m)}else if(f.snapshotVersion.compareTo(qn.min())>0){g.readTime=X1(l,f.snapshotVersion.toTimestamp());const m=gm(l,f.expectedCount);m!==null&&(g.expectedCount=m)}return g})(this.serializer,e);const r=dR(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=ym(this.serializer),t.removeTarget=e,this.K_(t)}}class n9 extends dA{constructor(e,t,r,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,f),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return Gr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Gr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=cR(e.writeResults,e.commitTime),r=Ol(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ym(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>lR(this.serializer,r)))};this.K_(t)}}class r9{}class i9 extends r9{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ht(_t.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,f])=>this.connection.Wo(e,mm(t,r),a,l,f))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ht(_t.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,mm(t,r),a,f,g,l))).catch((f=>{throw f.name==="FirebaseError"?(f.code===_t.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Ht(_t.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function s9(n,e,t,r){return new i9(n,e,t,r)}class a9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dc(t),this.aa=!1):Zt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xu="RemoteStore";class o9{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ih(this)&&(Zt(Xu,"Restarting streams for network reachability change."),await(async function(y){const m=Qn(y);m.Ea.add(4),await i0(m),m.Va.set("Unknown"),m.Ea.delete(4),await Tp(m)})(this))}))})),this.Va=new a9(r,a)}}async function Tp(n){if(ih(n))for(const e of n.Ra)await e(!0)}async function i0(n){for(const e of n.Ra)await e(!1)}function pA(n,e){const t=Qn(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Dx(t)?Ox(t):Nf(t).O_()&&Rx(t,e))}function Ix(n,e){const t=Qn(n),r=Nf(t);t.Ia.delete(e),r.O_()&&gA(t,e),t.Ia.size===0&&(r.O_()?r.L_():ih(t)&&t.Va.set("Unknown"))}function Rx(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nf(n).Z_(e)}function gA(n,e){n.da.$e(e),Nf(n).X_(e)}function Ox(n){n.da=new eR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Nf(n).start(),n.Va.ua()}function Dx(n){return ih(n)&&!Nf(n).x_()&&n.Ia.size>0}function ih(n){return Qn(n).Ea.size===0}function mA(n){n.da=void 0}async function l9(n){n.Va.set("Online")}async function c9(n){n.Ia.forEach(((e,t)=>{Rx(n,e)}))}async function u9(n,e){mA(n),Dx(n)?(n.Va.ha(e),Ox(n)):n.Va.set("Unknown")}async function h9(n,e,t){if(n.Va.set("Online"),e instanceof $_&&e.state===2&&e.cause)try{await(async function(a,l){const f=l.cause;for(const g of l.targetIds)a.Ia.has(g)&&(await a.remoteSyncer.rejectListen(g,f),a.Ia.delete(g),a.da.removeTarget(g))})(n,e)}catch(r){Zt(Xu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await K1(n,r)}else if(e instanceof A1?n.da.Xe(e):e instanceof J_?n.da.st(e):n.da.tt(e),!t.isEqual(qn.min()))try{const r=await hA(n.localStore);t.compareTo(r)>=0&&await(function(l,f){const g=l.da.Tt(f);return g.targetChanges.forEach(((y,m)=>{if(y.resumeToken.approximateByteSize()>0){const b=l.Ia.get(m);b&&l.Ia.set(m,b.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,m)=>{const b=l.Ia.get(y);if(!b)return;l.Ia.set(y,b.withResumeToken(Na.EMPTY_BYTE_STRING,b.snapshotVersion)),gA(l,y);const T=new Jc(b.target,y,m,b.sequenceNumber);Rx(l,T)})),l.remoteSyncer.applyRemoteEvent(g)})(n,t)}catch(r){Zt(Xu,"Failed to raise snapshot:",r),await K1(n,r)}}async function K1(n,e,t){if(!Sf(e))throw e;n.Ea.add(1),await i0(n),n.Va.set("Offline"),t||(t=()=>hA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Zt(Xu,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Tp(n)}))}function xA(n,e){return e().catch((t=>K1(n,t,e)))}async function Ip(n){const e=Qn(n),t=hu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gx;for(;f9(e);)try{const a=await WR(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,d9(e,a)}catch(a){await K1(e,a)}yA(e)&&vA(e)}function f9(n){return ih(n)&&n.Ta.length<10}function d9(n,e){n.Ta.push(e);const t=hu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function yA(n){return ih(n)&&!hu(n).x_()&&n.Ta.length>0}function vA(n){hu(n).start()}async function p9(n){hu(n).ra()}async function g9(n){const e=hu(n);for(const t of n.Ta)e.ea(t.mutations)}async function m9(n,e,t){const r=n.Ta.shift(),a=_x.from(r,e,t);await xA(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ip(n)}async function x9(n,e){e&&hu(n).Y_&&await(async function(r,a){if((function(f){return Q7(f)&&f!==_t.ABORTED})(a.code)){const l=r.Ta.shift();hu(r).B_(),await xA(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Ip(r)}})(n,e),yA(n)&&vA(n)}async function Xb(n,e){const t=Qn(n);t.asyncQueue.verifyOperationInProgress(),Zt(Xu,"RemoteStore received new credentials");const r=ih(t);t.Ea.add(3),await i0(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Tp(t)}async function y9(n,e){const t=Qn(n);e?(t.Ea.delete(2),await Tp(t)):e||(t.Ea.add(2),await i0(t),t.Va.set("Unknown"))}function Nf(n){return n.ma||(n.ma=(function(t,r,a){const l=Qn(t);return l.sa(),new t9(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:l9.bind(null,n),Yo:c9.bind(null,n),t_:u9.bind(null,n),J_:h9.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Dx(n)?Ox(n):n.Va.set("Unknown")):(await n.ma.stop(),mA(n))}))),n.ma}function hu(n){return n.fa||(n.fa=(function(t,r,a){const l=Qn(t);return l.sa(),new n9(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:p9.bind(null,n),t_:x9.bind(null,n),ta:g9.bind(null,n),na:m9.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Ip(n)):(await n.fa.stop(),n.Ta.length>0&&(Zt(Xu,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Lx{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new lc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const f=Date.now()+r,g=new Lx(e,t,f,a,l);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ht(_t.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kx(n,e){if(dc("AsyncQueue",`${e}: ${n}`),Sf(n))return new Ht(_t.UNAVAILABLE,`${e}: ${n}`);throw n}class rf{static emptySet(e){return new rf(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||In.comparator(t.key,r.key):(t,r)=>In.comparator(t.key,r.key),this.keyedMap=xd(),this.sortedSet=new Yi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new rf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Yb{constructor(){this.ga=new Yi(In.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pn(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class mf{constructor(e,t,r,a,l,f,g,y,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const f=[];return t.forEach((g=>{f.push({type:0,doc:g})})),new mf(e,t,rf.emptySet(t),f,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class v9{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class b9{constructor(){this.queries=Kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Qn(t),l=a.queries;a.queries=Kb(),l.forEach(((f,g)=>{for(const y of g.ba)y.onError(r)}))})(this,new Ht(_t.ABORTED,"Firestore shutting down"))}}function Kb(){return new rh((n=>B_(n)),_p)}async function Mx(n,e){const t=Qn(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new v9,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(f){const g=kx(f,`Initialization of query '${Gh(e.query)}' failed`);return void e.onError(g)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jx(t)}async function Px(n,e){const t=Qn(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const f=l.ba.indexOf(e);f>=0&&(l.ba.splice(f,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function w9(n,e){const t=Qn(n);let r=!1;for(const a of e){const l=a.query,f=t.queries.get(l);if(f){for(const g of f.ba)g.Fa(a)&&(r=!0);f.wa=a}}r&&jx(t)}function _9(n,e,t){const r=Qn(n),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function jx(n){n.Ca.forEach((e=>{e.next()}))}var wm,Zb;(Zb=wm||(wm={})).Ma="default",Zb.Cache="cache";class Bx{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new mf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class bA{constructor(e){this.key=e}}class wA{constructor(e){this.key=e}}class A9{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=_r(),this.mutatedKeys=_r(),this.eu=F_(e),this.tu=new rf(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Yb,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,g=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,T)=>{const L=a.get(b),R=Ap(this.query,T)?T:null,X=!!L&&this.mutatedKeys.has(L.key),W=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let $=!1;L&&R?L.data.isEqual(R.data)?X!==W&&(r.track({type:3,doc:R}),$=!0):this.su(L,R)||(r.track({type:2,doc:R}),$=!0,(y&&this.eu(R,y)>0||m&&this.eu(R,m)<0)&&(g=!0)):!L&&R?(r.track({type:0,doc:R}),$=!0):L&&!R&&(r.track({type:1,doc:L}),$=!0,(y||m)&&(g=!0)),$&&(R?(f=f.add(R),l=W?l.add(b):l.delete(b)):(f=f.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Ss:g,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(R,X){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pn(20277,{Vt:$})}};return W(R)-W(X)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(r),a=a??!1;const g=t&&!a?this._u():[],y=this.Ya.size===0&&this.current&&!a?1:0,m=y!==this.Xa;return this.Xa=y,f.length!==0||m?{snapshot:new mf(this.query,e.tu,l,f,e.mutatedKeys,y===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Yb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=_r(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new wA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new bA(r))})),t}cu(e){this.Za=e.ks,this.Ya=_r();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return mf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Fx="SyncEngine";class E9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class S9{constructor(e){this.key=e,this.hu=!1}}class C9{constructor(e,t,r,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new rh((g=>B_(g)),_p),this.Iu=new Map,this.Eu=new Set,this.Ru=new Yi(In.comparator),this.Au=new Map,this.Vu=new Sx,this.du={},this.mu=new Map,this.fu=gf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function N9(n,e,t=!0){const r=NA(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await _A(r,e,t,!0),a}async function T9(n,e){const t=NA(n);await _A(t,e,!0,!1)}async function _A(n,e,t,r){const a=await XR(n.localStore,Rl(e)),l=a.targetId,f=n.sharedClientState.addLocalQueryTarget(l,t);let g;return r&&(g=await I9(n,e,l,f==="current",a.resumeToken)),n.isPrimaryClient&&t&&pA(n.remoteStore,a),g}async function I9(n,e,t,r,a){n.pu=(T,L,R)=>(async function(W,$,K,oe){let ue=$.view.ru(K);ue.Ss&&(ue=await zb(W.localStore,$.query,!1).then((({documents:Y})=>$.view.ru(Y,ue))));const pe=oe&&oe.targetChanges.get($.targetId),Ue=oe&&oe.targetMismatches.get($.targetId)!=null,ze=$.view.applyChanges(ue,W.isPrimaryClient,pe,Ue);return Jb(W,$.targetId,ze.au),ze.snapshot})(n,T,L,R);const l=await zb(n.localStore,e,!0),f=new A9(e,l.ks),g=f.ru(l.documents),y=r0.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=f.applyChanges(g,n.isPrimaryClient,y);Jb(n,t,m.au);const b=new E9(e,t,f);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function R9(n,e,t){const r=Qn(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((f=>!_p(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await vm(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ix(r.remoteStore,a.targetId),_m(r,a.targetId)})).catch(Ef)):(_m(r,a.targetId),await vm(r.localStore,a.targetId,!0))}async function O9(n,e){const t=Qn(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ix(t.remoteStore,r.targetId))}async function D9(n,e,t){const r=F9(n);try{const a=await(function(f,g){const y=Qn(f),m=Si.now(),b=g.reduce(((R,X)=>R.add(X.key)),_r());let T,L;return y.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let X=pc(),W=_r();return y.xs.getEntries(R,b).next(($=>{X=$,X.forEach(((K,oe)=>{oe.isValidDocument()||(W=W.add(K))}))})).next((()=>y.localDocuments.getOverlayedDocuments(R,X))).next(($=>{T=$;const K=[];for(const oe of g){const ue=W7(oe,T.get(oe.key).overlayedDocument);ue!=null&&K.push(new yu(oe.key,ue,R_(ue.value.mapValue),Uo.exists(!0)))}return y.mutationQueue.addMutationBatch(R,m,K,g)})).next(($=>{L=$;const K=$.applyToLocalDocumentSet(T,W);return y.documentOverlayCache.saveOverlays(R,$.batchId,K)}))})).then((()=>({batchId:L.batchId,changes:V_(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(f,g,y){let m=f.du[f.currentUser.toKey()];m||(m=new Yi(wr)),m=m.insert(g,y),f.du[f.currentUser.toKey()]=m})(r,a.batchId,t),await s0(r,a.changes),await Ip(r.remoteStore)}catch(a){const l=kx(a,"Failed to persist write");t.reject(l)}}async function AA(n,e){const t=Qn(n);try{const r=await HR(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const f=t.Au.get(l);f&&(Gr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?f.hu=!0:a.modifiedDocuments.size>0?Gr(f.hu,14607):a.removedDocuments.size>0&&(Gr(f.hu,42227),f.hu=!1))})),await s0(t,r,e)}catch(r){await Ef(r)}}function Qb(n,e,t){const r=Qn(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,f)=>{const g=f.view.va(e);g.snapshot&&a.push(g.snapshot)})),(function(f,g){const y=Qn(f);y.onlineState=g;let m=!1;y.queries.forEach(((b,T)=>{for(const L of T.ba)L.va(g)&&(m=!0)})),m&&jx(y)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function L9(n,e,t){const r=Qn(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let f=new Yi(In.comparator);f=f.insert(l,Va.newNoDocument(l,qn.min()));const g=_r().add(l),y=new Cp(qn.min(),new Map,new Yi(wr),f,g);await AA(r,y),r.Ru=r.Ru.remove(l),r.Au.delete(e),Ux(r)}else await vm(r.localStore,e,!1).then((()=>_m(r,e,t))).catch(Ef)}async function k9(n,e){const t=Qn(n),r=e.batch.batchId;try{const a=await qR(t.localStore,e);SA(t,r,null),EA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await s0(t,a)}catch(a){await Ef(a)}}async function M9(n,e,t){const r=Qn(n);try{const a=await(function(f,g){const y=Qn(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let b;return y.mutationQueue.lookupMutationBatch(m,g).next((T=>(Gr(T!==null,37113),b=T.keys(),y.mutationQueue.removeMutationBatch(m,T)))).next((()=>y.mutationQueue.performConsistencyCheck(m))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(m,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,b))).next((()=>y.localDocuments.getDocuments(m,b)))}))})(r.localStore,e);SA(r,e,t),EA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await s0(r,a)}catch(a){await Ef(a)}}function EA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function SA(n,e,t){const r=Qn(n);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function _m(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||CA(n,r)}))}function CA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Ix(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Ux(n))}function Jb(n,e,t){for(const r of t)r instanceof bA?(n.Vu.addReference(r.key,e),P9(n,r)):r instanceof wA?(Zt(Fx,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||CA(n,r.key)):Pn(19791,{wu:r})}function P9(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Zt(Fx,"New document in limbo: "+t),n.Eu.add(r),Ux(n))}function Ux(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new In(yi.fromString(e)),r=n.fu.next();n.Au.set(r,new S9(t)),n.Ru=n.Ru.insert(t,r),pA(n.remoteStore,new Jc(Rl(wp(t.path)),r,"TargetPurposeLimboResolution",yp.ce))}}async function s0(n,e,t){const r=Qn(n),a=[],l=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{f.push(r.pu(y,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const b=m?!m.fromCache:t?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(m){a.push(m);const b=Nx.Es(y.targetId,m);l.push(b)}})))})),await Promise.all(f),r.Pu.J_(a),await(async function(y,m){const b=Qn(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Nt.forEach(m,(L=>Nt.forEach(L.Ts,(R=>b.persistence.referenceDelegate.addReference(T,L.targetId,R))).next((()=>Nt.forEach(L.Is,(R=>b.persistence.referenceDelegate.removeReference(T,L.targetId,R)))))))))}catch(T){if(!Sf(T))throw T;Zt(Tx,"Failed to update sequence numbers: "+T)}for(const T of m){const L=T.targetId;if(!T.fromCache){const R=b.vs.get(L),X=R.snapshotVersion,W=R.withLastLimboFreeSnapshotVersion(X);b.vs=b.vs.insert(L,W)}}})(r.localStore,l))}async function j9(n,e){const t=Qn(n);if(!t.currentUser.isEqual(e)){Zt(Fx,"User change. New user:",e.toKey());const r=await uA(t.localStore,e);t.currentUser=e,(function(l,f){l.mu.forEach((g=>{g.forEach((y=>{y.reject(new Ht(_t.CANCELLED,f))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await s0(t,r.Ns)}}function B9(n,e){const t=Qn(n),r=t.Au.get(e);if(r&&r.hu)return _r().add(r.key);{let a=_r();const l=t.Iu.get(e);if(!l)return a;for(const f of l){const g=t.Tu.get(f);a=a.unionWith(g.view.nu)}return a}}function NA(n){const e=Qn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L9.bind(null,e),e.Pu.J_=w9.bind(null,e.eventManager),e.Pu.yu=_9.bind(null,e.eventManager),e}function F9(n){const e=Qn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=k9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M9.bind(null,e),e}class Z1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Np(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return zR(this.persistence,new FR,e.initialUser,this.serializer)}Cu(e){return new cA(Cx.Vi,this.serializer)}Du(e){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Z1.provider={build:()=>new Z1};class U9 extends Z1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Gr(this.persistence.referenceDelegate instanceof Y1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ER(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new cA((r=>Y1.Vi(r,t)),this.serializer)}}class Am{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=j9.bind(null,this.syncEngine),await y9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new b9})()}createDatastore(e){const t=Np(e.databaseInfo.databaseId),r=e9(e.databaseInfo);return s9(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,f,g){return new o9(r,a,l,f,g)})(this.localStore,this.datastore,e.asyncQueue,(t=>Qb(this.syncEngine,t,0)),(function(){return Gb.v()?new Gb:new ZR})())}createSyncEngine(e,t){return(function(a,l,f,g,y,m,b){const T=new C9(a,l,f,g,y,m);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Qn(t);Zt(Xu,"RemoteStore shutting down."),r.Ea.add(5),await i0(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class Vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dc("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const fu="FirestoreClient";class V9{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=Ua.UNAUTHENTICATED,this.clientId=px.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async f=>{Zt(fu,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(Zt(fu,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kx(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function A2(n,e){n.asyncQueue.verifyOperationInProgress(),Zt(fu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await uA(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function $b(n,e){n.asyncQueue.verifyOperationInProgress();const t=await z9(n);Zt(fu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Xb(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>Xb(e.remoteStore,a))),n._onlineComponents=e}async function z9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Zt(fu,"Using user provided OfflineComponentProvider");try{await A2(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===_t.FAILED_PRECONDITION||a.code===_t.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Wu("Error using user provided cache. Falling back to memory cache: "+t),await A2(n,new Z1)}}else Zt(fu,"Using default OfflineComponentProvider"),await A2(n,new U9(void 0));return n._offlineComponents}async function TA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Zt(fu,"Using user provided OnlineComponentProvider"),await $b(n,n._uninitializedComponentsProvider._online)):(Zt(fu,"Using default OnlineComponentProvider"),await $b(n,new Am))),n._onlineComponents}function q9(n){return TA(n).then((e=>e.syncEngine))}async function Q1(n){const e=await TA(n),t=e.eventManager;return t.onListen=N9.bind(null,e.syncEngine),t.onUnlisten=R9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=O9.bind(null,e.syncEngine),t}function H9(n,e,t,r){const a=new Vx(r),l=new Bx(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>Mx(await Q1(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>Px(await Q1(n),l)))}}function G9(n,e,t={}){const r=new lc;return n.asyncQueue.enqueueAndForget((async()=>(function(l,f,g,y,m){const b=new Vx({next:L=>{b.Nu(),f.enqueueAndForget((()=>Px(l,T)));const R=L.docs.has(g);!R&&L.fromCache?m.reject(new Ht(_t.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&L.fromCache&&y&&y.source==="server"?m.reject(new Ht(_t.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(L)},error:L=>m.reject(L)}),T=new Bx(wp(g.path),b,{includeMetadataChanges:!0,Ka:!0});return Mx(l,T)})(await Q1(n),n.asyncQueue,e,t,r))),r.promise}function W9(n,e,t={}){const r=new lc;return n.asyncQueue.enqueueAndForget((async()=>(function(l,f,g,y,m){const b=new Vx({next:L=>{b.Nu(),f.enqueueAndForget((()=>Px(l,T))),L.fromCache&&y.source==="server"?m.reject(new Ht(_t.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(L)},error:L=>m.reject(L)}),T=new Bx(g,b,{includeMetadataChanges:!0,Ka:!0});return Mx(l,T)})(await Q1(n),n.asyncQueue,e,t,r))),r.promise}function X9(n,e){const t=new lc;return n.asyncQueue.enqueueAndForget((async()=>D9(await q9(n),e,t))),t.promise}function IA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const Y9="ComponentProvider",ew=new Map;function K9(n,e,t,r,a){return new p7(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,IA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const RA="firestore.googleapis.com",tw=!0;class nw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ht(_t.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RA,this.ssl=tw}else this.host=e.host,this.ssl=e.ssl??tw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_R)throw new Ht(_t.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ht(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ht(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ht(_t.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rp{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ht(_t.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ht(_t.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WI;switch(r.type){case"firstParty":return new ZI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ht(_t.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=ew.get(t);r&&(Zt(Y9,"Removing Datastore"),ew.delete(t),r.terminate())})(this),Promise.resolve()}}function Z9(n,e,t,r={}){n=mo(n,Rp);const a=bf(e),l=n._getSettings(),f={...l,emulatorOptions:n._getEmulatorOptions()},g=`${e}:${t}`;a&&(_4(`https://${g}`),A4("Firestore",!0)),l.host!==RA&&l.host!==g&&Wu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:g,ssl:a,emulatorOptions:r};if(!au(y,f)&&(n._setSettings(y),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=Ua.MOCK_USER;else{m=sC(r.mockUserToken,n._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new Ht(_t.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ua(T)}n._authCredentials=new XI(new y_(m,b))}}class wc{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class hs{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hs(this.firestore,e,this._key)}toJSON(){return{type:hs._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(t0(t,hs._jsonSchema))return new hs(e,r||null,new In(yi.fromString(t.referencePath)))}}hs._jsonSchemaVersion="firestore/documentReference/1.0",hs._jsonSchema={type:Vs("string",hs._jsonSchemaVersion),referencePath:Vs("string")};class iu extends wc{constructor(e,t,r){super(e,t,wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hs(this.firestore,null,new In(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function Xi(n,e,...t){if(n=da(n),v_("collection","path",e),n instanceof Rp){const r=yi.fromString(e,...t);return gb(r),new iu(n,null,r)}{if(!(n instanceof hs||n instanceof iu))throw new Ht(_t.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yi.fromString(e,...t));return gb(r),new iu(n.firestore,null,r)}}function Pi(n,e,...t){if(n=da(n),arguments.length===1&&(e=px.newId()),v_("doc","path",e),n instanceof Rp){const r=yi.fromString(e,...t);return pb(r),new hs(n,null,new In(r))}{if(!(n instanceof hs||n instanceof iu))throw new Ht(_t.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yi.fromString(e,...t));return pb(r),new hs(n.firestore,n instanceof iu?n.converter:null,new In(r))}}const rw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fA(this,"async_queue_retry"),this._c=()=>{const r=_2();r&&Zt(rw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=_2();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_2();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new lc;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Sf(e))throw e;Zt(rw,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,dc("INTERNAL UNHANDLED ERROR: ",sw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Lx.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Pn(47125,{Pc:sw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function sw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gc extends Rp{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new iw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function Q9(n,e){const t=typeof n=="object"?n:N4(),r=typeof n=="string"?n:z1,a=ix(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=rC("firestore");l&&Z9(a,...l)}return a}function Op(n){if(n._terminated)throw new Ht(_t.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||J9(n),n._firestoreClient}function J9(n){const e=n._freezeSettings(),t=K9(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new V9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(Na.fromBase64String(e))}catch(t){throw new Ht(_t.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fo(Na.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(t0(e,Fo._jsonSchema))return Fo.fromBase64String(e.bytes)}}Fo._jsonSchemaVersion="firestore/bytes/1.0",Fo._jsonSchema={type:Vs("string",Fo._jsonSchemaVersion),bytes:Vs("string")};class zx{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ht(_t.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ca(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class a0{constructor(e){this._methodName=e}}class Dl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ht(_t.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ht(_t.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wr(this._lat,e._lat)||wr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dl._jsonSchemaVersion}}static fromJSON(e){if(t0(e,Dl._jsonSchema))return new Dl(e.latitude,e.longitude)}}Dl._jsonSchemaVersion="firestore/geoPoint/1.0",Dl._jsonSchema={type:Vs("string",Dl._jsonSchemaVersion),latitude:Vs("number"),longitude:Vs("number")};class nl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:nl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(t0(e,nl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new nl(e.vectorValues);throw new Ht(_t.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nl._jsonSchemaVersion="firestore/vectorValue/1.0",nl._jsonSchema={type:Vs("string",nl._jsonSchemaVersion),vectorValues:Vs("object")};const $9=/^__.*__$/;class eO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new n0(e,this.data,t,this.fieldTransforms)}}class OA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pn(40011,{dataSource:n})}}class Dp{constructor(e,t,r,a,l,f){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Dp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return J1(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(DA(this.dataSource)&&$9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class tO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Np(e)}createContext(e,t,r,a=!1){return new Dp({dataSource:e,methodName:t,targetDoc:r,path:Ca.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lp(n){const e=n._freezeSettings(),t=Np(n._databaseId);return new tO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LA(n,e,t,r,a,l={}){const f=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);Gx("Data must be an object, but it was:",f,r);const g=kA(r,f);let y,m;if(l.merge)y=new To(f.fieldMask),m=f.fieldTransforms;else if(l.mergeFields){const b=[];for(const T of l.mergeFields){const L=Yu(e,T,t);if(!f.contains(L))throw new Ht(_t.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);jA(b,L)||b.push(L)}y=new To(b),m=f.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,m=f.fieldTransforms;return new eO(new go(g),y,m)}class kp extends a0{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kp}}function nO(n,e,t){return new Dp({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qx extends a0{_toFieldTransform(e){return new Y_(e.path,new zd)}isEqual(e){return e instanceof qx}}class Hx extends a0{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=nO(this,e,!0),r=this.Ac.map((l=>Tf(l,t))),a=new pf(r);return new Y_(e.path,a)}isEqual(e){return e instanceof Hx&&au(this.Ac,e.Ac)}}function rO(n,e,t,r){const a=n.createContext(1,e,t);Gx("Data must be an object, but it was:",a,r);const l=[],f=go.empty();xu(r,((y,m)=>{const b=PA(e,y,t);m=da(m);const T=a.childContextForFieldPath(b);if(m instanceof kp)l.push(b);else{const L=Tf(m,T);L!=null&&(l.push(b),f.set(b,L))}}));const g=new To(l);return new OA(f,g,a.fieldTransforms)}function iO(n,e,t,r,a,l){const f=n.createContext(1,e,t),g=[Yu(e,r,t)],y=[a];if(l.length%2!=0)throw new Ht(_t.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<l.length;L+=2)g.push(Yu(e,l[L])),y.push(l[L+1]);const m=[],b=go.empty();for(let L=g.length-1;L>=0;--L)if(!jA(m,g[L])){const R=g[L];let X=y[L];X=da(X);const W=f.childContextForFieldPath(R);if(X instanceof kp)m.push(R);else{const $=Tf(X,W);$!=null&&(m.push(R),b.set(R,$))}}const T=new To(m);return new OA(b,T,f.fieldTransforms)}function sO(n,e,t,r=!1){return Tf(t,n.createContext(r?4:3,e))}function Tf(n,e){if(MA(n=da(n)))return Gx("Unsupported field value:",e,n),kA(n,e);if(n instanceof a0)return(function(r,a){if(!DA(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let f=0;for(const g of r){let y=Tf(g,a.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),f++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=da(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U7(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Si.fromDate(r);return{timestampValue:X1(a.serializer,l)}}if(r instanceof Si){const l=new Si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:X1(a.serializer,l)}}if(r instanceof Dl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:eA(a.serializer,r._byteString)};if(r instanceof hs){const l=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw a.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ex(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof nl)return(function(f,g){const y=f instanceof nl?f.toArray():f;return{mapValue:{fields:{[T_]:{stringValue:I_},[q1]:{arrayValue:{values:y.map((b=>{if(typeof b!="number")throw g.createError("VectorValues must only contain numeric values.");return bx(g.serializer,b)}))}}}}}})(r,a);if(oA(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${xp(r)}`)})(n,e)}function kA(n,e){const t={};return __(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xu(n,((r,a)=>{const l=Tf(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function MA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Si||n instanceof Dl||n instanceof Fo||n instanceof hs||n instanceof a0||n instanceof nl||oA(n))}function Gx(n,e,t){if(!MA(t)||!b_(t)){const r=xp(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function Yu(n,e,t){if((e=da(e))instanceof zx)return e._internalPath;if(typeof e=="string")return PA(n,e);throw J1("Field path arguments must be of type string or ",n,!1,void 0,t)}const aO=new RegExp("[~\\*/\\[\\]]");function PA(n,e,t){if(e.search(aO)>=0)throw J1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new zx(...e.split("."))._internalPath}catch{throw J1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function J1(n,e,t,r,a){const l=r&&!r.isEmpty(),f=a!==void 0;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(l||f)&&(y+=" (found",l&&(y+=` in field ${r}`),f&&(y+=` in document ${a}`),y+=")"),new Ht(_t.INVALID_ARGUMENT,g+n+y)}function jA(n,e){return n.some((t=>t.isEqual(e)))}class oO{convertValue(e,t="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _s(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xu(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[q1].arrayValue?.values?.map((r=>_s(r.doubleValue)));return new nl(t)}convertGeoPoint(e){return new Dl(_s(e.latitude),_s(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bd(e));default:return null}}convertTimestamp(e){const t=lu(e);return new Si(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yi.fromString(e);Gr(aA(r),9688,{name:e});const a=new Fd(r.get(1),r.get(3)),l=new In(r.popFirst(5));return a.isEqual(t)||dc(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Wx extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hs(this.firestore,null,t)}}function Za(){return new qx("serverTimestamp")}function Mp(...n){return new Hx("arrayUnion",n)}const aw="@firebase/firestore",ow="4.11.0";function lw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class BA{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new hs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Yu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lO extends BA{data(){return super.data()}}function FA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ht(_t.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xx{}class Yx extends Xx{}function Io(n,e,...t){let r=[];e instanceof Xx&&r.push(e),r=r.concat(t),(function(l){const f=l.filter((y=>y instanceof Kx)).length,g=l.filter((y=>y instanceof Pp)).length;if(f>1||f>0&&g>0)throw new Ht(_t.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)n=a._apply(n);return n}class Pp extends Yx{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pp(e,t,r)}_apply(e){const t=this._parse(e);return UA(e._query,t),new wc(e.firestore,e.converter,pm(e._query,t))}_parse(e){const t=Lp(e.firestore);return(function(l,f,g,y,m,b,T){let L;if(m.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ht(_t.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){uw(T,b);const X=[];for(const W of T)X.push(cw(y,l,W));L={arrayValue:{values:X}}}else L=cw(y,l,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||uw(T,b),L=sO(g,f,T,b==="in"||b==="not-in");return Us.create(m,b,L)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bu(n,e,t){const r=e,a=Yu("where",n);return Pp._create(a,r,t)}class Kx extends Xx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kx(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:sl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let f=a;const g=l.getFlattenedFilters();for(const y of g)UA(f,y),f=pm(f,y)})(e._query,t),new wc(e.firestore,e.converter,pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zx extends Yx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zx(e,t)}_apply(e){const t=(function(a,l,f){if(a.startAt!==null)throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Vd(l,f)})(e._query,this._field,this._direction);return new wc(e.firestore,e.converter,D7(e._query,t))}}function su(n,e="asc"){const t=e,r=Yu("orderBy",n);return Zx._create(r,t)}class Qx extends Yx{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Qx(e,t,r)}_apply(e){return new wc(e.firestore,e.converter,G1(e._query,this._limit,this._limitType))}}function Em(n){return r7("limit",n),Qx._create("limit",n,"F")}function cw(n,e,t){if(typeof(t=da(t))=="string"){if(t==="")throw new Ht(_t.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&t.indexOf("/")!==-1)throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yi.fromString(t));if(!In.isDocumentKey(r))throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ab(n,new In(r))}if(t instanceof hs)return Ab(n,t._key);throw new Ht(_t.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xp(t)}.`)}function uw(n,e){if(!Array.isArray(n)||n.length===0)throw new Ht(_t.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UA(n,e){const t=(function(a,l){for(const f of a)for(const g of f.getFlattenedFilters())if(l.indexOf(g.op)>=0)return g.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ht(_t.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ht(_t.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function VA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class vd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends BA{constructor(e,t,r,a,l,f){super(e,t,r,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new E1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(_t.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fu._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fu._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fu._jsonSchema={type:Vs("string",Fu._jsonSchemaVersion),bundleSource:Vs("string","DocumentSnapshot"),bundleName:Vs("string"),bundle:Vs("string")};class E1 extends Fu{data(e={}){return super.data(e)}}class Uu{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new vd(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new E1(this._firestore,this._userDataWriter,r.key,r,new vd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ht(_t.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map((g=>{const y=new E1(a._firestore,a._userDataWriter,g.doc.key,g.doc,new vd(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((g=>l||g.type!==3)).map((g=>{const y=new E1(a._firestore,a._userDataWriter,g.doc.key,g.doc,new vd(a._snapshot.mutatedKeys.has(g.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,b=-1;return g.type!==0&&(m=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),b=f.indexOf(g.doc.key)),{type:cO(g.type),doc:y,oldIndex:m,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ht(_t.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=px.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pn(61501,{type:n})}}Uu._jsonSchemaVersion="firestore/querySnapshot/1.0",Uu._jsonSchema={type:Vs("string",Uu._jsonSchemaVersion),bundleSource:Vs("string","QuerySnapshot"),bundleName:Vs("string"),bundle:Vs("string")};function Sm(n){n=mo(n,hs);const e=mo(n.firestore,gc),t=Op(e);return G9(t,n._key).then((r=>zA(e,n,r)))}function rl(n){n=mo(n,wc);const e=mo(n.firestore,gc),t=Op(e),r=new Wx(e);return FA(n._query),W9(t,n._query).then((a=>new Uu(e,r,n,a)))}function Td(n,e,t){n=mo(n,hs);const r=mo(n.firestore,gc),a=VA(n.converter,e,t),l=Lp(r);return Bp(r,[LA(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Uo.none())])}function mc(n,e,t,...r){n=mo(n,hs);const a=mo(n.firestore,gc),l=Lp(a);let f;return f=typeof(e=da(e))=="string"||e instanceof zx?iO(l,"updateDoc",n._key,e,t,r):rO(l,"updateDoc",n._key,e),Bp(a,[f.toMutation(n._key,Uo.exists(!0))])}function Hd(n){return Bp(mo(n.firestore,gc),[new wx(n._key,Uo.none())])}function jp(n,e){const t=mo(n.firestore,gc),r=Pi(n),a=VA(n.converter,e),l=Lp(n.firestore);return Bp(t,[LA(l,"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Uo.exists(!1))]).then((()=>r))}function xc(n,...e){n=da(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||lw(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(lw(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let l,f,g;if(n instanceof hs)f=mo(n.firestore,gc),g=wp(n._key.path),l={next:m=>{e[r]&&e[r](zA(f,n,m))},error:e[r+1],complete:e[r+2]};else{const m=mo(n,wc);f=mo(m.firestore,gc),g=m._query;const b=new Wx(f);l={next:T=>{e[r]&&e[r](new Uu(f,b,m,T))},error:e[r+1],complete:e[r+2]},FA(n._query)}const y=Op(f);return H9(y,g,a,l)}function Bp(n,e){const t=Op(n);return X9(t,e)}function zA(n,e,t){const r=t.docs.get(e._key),a=new Wx(n);return new Fu(n,a,e._key,r,new vd(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){GI(wf),uf(new zu("firestore",((r,{instanceIdentifier:a,options:l})=>{const f=r.getProvider("app").getImmediate(),g=new gc(new YI(r.getProvider("auth-internal")),new QI(f,r.getProvider("app-check-internal")),g7(f,a),f);return l={useFetchStreams:t,...l},g._setSettings(l),g}),"PUBLIC").setMultipleInstances(!0)),nu(aw,ow,e),nu(aw,ow,"esm2020")})();var uO="firebase",hO="12.9.0";nu(uO,hO,"app");const fO={apiKey:"AIzaSyASEtEMiY9tvit5pUzo4_Dl0auTVTMODm8",authDomain:"stockreportv2.firebaseapp.com",projectId:"stockreportv2",storageBucket:"stockreportv2.firebasestorage.app",messagingSenderId:"396357235106",appId:"1:396357235106:web:df2808789ee4128b4102fb"},qA=C4(fO),Un=Q9(qA),Ku=qI(qA),HA=Re.createContext({user:null,loading:!0,isAdmin:!1,isApproved:!1,allowRegistration:!0}),dO=({children:n})=>{const[e,t]=Re.useState(null),[r,a]=Re.useState(!0),[l,f]=Re.useState(!1),[g,y]=Re.useState(!1),[m,b]=Re.useState(!0);return Re.useEffect(()=>{const T=xc(Pi(Un,"settings","auth"),R=>{R.exists()&&b(R.data().allowRegistration!==!1)},R=>{console.error("Erro ao ouvir configuraes:",R)}),L=DT(Ku,async R=>{if(t(R),R){const X=await Sm(Pi(Un,"users",R.uid));if(X.exists()){const W=X.data();f(W.role==="admin"),y(W.approved===!0||W.role==="admin")}else f(!1),y(!1)}else f(!1),y(!1);a(!1)});return()=>{T(),L()}},[]),E.jsx(HA.Provider,{value:{user:e,loading:r,isAdmin:l,isApproved:g,allowRegistration:m},children:n})},Fp=()=>Re.useContext(HA);const GA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();const pO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const gO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());const hw=n=>{const e=gO(n);return e.charAt(0).toUpperCase()+e.slice(1)};var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const yO=Re.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:f,...g},y)=>Re.createElement("svg",{ref:y,...mO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:GA("lucide",a),...!l&&!xO(g)&&{"aria-hidden":"true"},...g},[...f.map(([m,b])=>Re.createElement(m,b)),...Array.isArray(l)?l:[l]]));const Jn=(n,e)=>{const t=Re.forwardRef(({className:r,...a},l)=>Re.createElement(yO,{ref:l,iconNode:e,className:GA(`lucide-${pO(hw(n))}`,`lucide-${n}`,r),...a}));return t.displayName=hw(n),t};const vO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],bO=Jn("activity",vO);const wO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],fw=Jn("bell",wO);const _O=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],cc=Jn("calculator",_O);const AO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dw=Jn("check",AO);const EO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SO=Jn("chevron-down",EO);const CO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],NO=Jn("chevron-right",CO);const TO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],IO=Jn("chevron-up",TO);const RO=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],OO=Jn("chevrons-up-down",RO);const DO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cm=Jn("circle-alert",DO);const LO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],S1=Jn("circle-check-big",LO);const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],pw=Jn("circle-stop",kO);const MO=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xf=Jn("clipboard-list",MO);const PO=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],E2=Jn("database",PO);const jO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gw=Jn("download",jO);const BO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mw=Jn("eye",BO);const FO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],UO=Jn("funnel",FO);const VO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Nm=Jn("history",VO);const zO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$1=Jn("info",zO);const qO=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HO=Jn("layout-dashboard",qO);const GO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bd=Jn("loader-circle",GO);const WO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xw=Jn("lock",WO);const XO=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YO=Jn("log-in",XO);const KO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZO=Jn("log-out",KO);const QO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],JO=Jn("mail",QO);const $O=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eD=Jn("menu",$O);const tD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Id=Jn("package",tD);const nD=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],du=Jn("pen",nD);const rD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zu=Jn("plus",rD);const iD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Qu=Jn("printer",iD);const sD=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],yw=Jn("scan-barcode",sD);const aD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Up=Jn("search",aD);const oD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WA=Jn("settings",oD);const lD=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Vp=Jn("share-2",lD);const cD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Tm=Jn("shield-check",cD);const uD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vw=Jn("shield",uD);const hD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],us=Jn("trash-2",hD);const fD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dD=Jn("trending-up",fD);const pD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ep=Jn("triangle-alert",pD);const gD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Im=Jn("truck",gD);const mD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],bw=Jn("upload",mD);const xD=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yD=Jn("user-check",xD);const vD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],tp=Jn("user-plus",vD);const bD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wD=Jn("user",bD);const _D=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vo=Jn("x",_D),AD=()=>{const n=vc(),[e,t]=Re.useState(!1),r=[{name:"Dashboard",path:"/",icon:HO},{name:"Produtos",path:"/produtos",icon:Id},{name:"Inventrio",path:"/inventario",icon:xf},{name:"Testados",path:"/testados",icon:S1},{name:"Entregas",path:"/entregas",icon:Im},{name:"Configuraes",path:"/configuracoes",icon:WA}];return E.jsxs(E.Fragment,{children:[e&&E.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 lg:hidden",onClick:()=>t(!1)}),E.jsx("button",{className:"fixed top-4 right-4 z-50 p-2 bg-slate-800 text-white rounded-md lg:hidden shadow-lg border border-slate-700",onClick:()=>t(!e),children:e?E.jsx(Vo,{size:24}):E.jsx(eD,{size:24})}),E.jsx("div",{className:`fixed inset-y-0 right-0 z-40 w-64 bg-slate-950 border-l lg:border-r lg:border-l-0 border-slate-800 text-white transform ${e?"translate-x-0":"translate-x-full"} transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0 shadow-2xl lg:shadow-none`,children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("div",{className:"p-8",children:E.jsxs("h1",{className:"text-2xl font-black bg-gradient-to-r from-blue-400 via-indigo-400 to-emerald-400 bg-clip-text text-transparent tracking-tight",children:["STOCK",E.jsx("span",{className:"text-white/50 font-light text-lg ml-0.5",children:"REPORT"})]})}),E.jsx("nav",{className:"flex-1 px-4 space-y-1.5",children:r.map(a=>E.jsxs(tx,{to:a.path,onClick:()=>window.innerWidth<1024&&t(!1),className:`flex items-center space-x-3 p-3.5 rounded-xl transition-all duration-200 group ${n.pathname===a.path?"bg-blue-600/90 text-white shadow-lg shadow-blue-900/40 ring-1 ring-blue-400/30":"hover:bg-slate-800 text-slate-400 hover:text-white"}`,children:[E.jsx(a.icon,{size:20,className:n.pathname===a.path?"text-white":"text-slate-500 group-hover:text-blue-400 transition-colors"}),E.jsx("span",{className:"font-bold text-sm tracking-wide",children:a.name}),n.pathname===a.path&&E.jsx(NO,{size:16,className:"ml-auto opacity-70"})]},a.path))}),E.jsx("div",{className:"p-4 border-t border-slate-800/50 bg-slate-900/50",children:E.jsxs("button",{onClick:()=>Ku.signOut(),className:"flex items-center space-x-3 w-full p-3.5 rounded-xl hover:bg-red-500/10 text-slate-400 hover:text-red-400 transition-all group",children:[E.jsx(ZO,{size:20,className:"group-hover:translate-x-0.5 transition-transform"}),E.jsx("span",{className:"font-bold text-sm",children:"Sair do Sistema"})]})})]})})]})},ED=()=>{const n=Km(),{allowRegistration:e}=Fp(),[t,r]=Re.useState(!1),[a,l]=Re.useState(""),[f,g]=Re.useState(""),[y,m]=Re.useState(""),[b,T]=Re.useState(!1),[L,R]=Re.useState(""),[X,W]=Re.useState(""),$=async K=>{K.preventDefault(),R(""),W(""),T(!0);try{if(t){if(f!==y)throw new Error("As senhas no coincidem.");const oe=await e_(Ku,a,f);await Td(Pi(Un,"users",oe.user.uid),{email:a,role:"user",approved:!1,createdAt:new Date().toISOString()}),W("Cadastro realizado! Aguarde a aprovao de um administrador."),r(!1),l(""),g(""),m("")}else await IT(Ku,a,f),n("/")}catch(oe){console.error("Erro na autenticao:",oe),oe.code==="auth/invalid-credential"||oe.code==="auth/user-not-found"||oe.code==="auth/wrong-password"?R("E-mail ou senha incorretos."):oe.code==="auth/email-already-in-use"?R("Este e-mail j est em uso."):oe.code==="auth/weak-password"?R("A senha deve ter pelo menos 6 caracteres."):oe.code==="auth/too-many-requests"?R("Muitas tentativas falhas. Tente novamente mais tarde."):R(oe.message||"Ocorreu um erro inesperado.")}finally{T(!1)}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-4 font-sans",children:E.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl animate-in fade-in zoom-in duration-300",children:[E.jsxs("div",{className:"flex flex-col items-center mb-8",children:[E.jsx("div",{className:"p-4 bg-blue-600/10 rounded-full mb-4",children:E.jsx(Id,{size:48,className:"text-blue-500"})}),E.jsx("h1",{className:"text-3xl font-bold text-white tracking-tight",children:"StockReport"}),E.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Gesto de Inventrio Inteligente"})]}),E.jsxs("div",{className:"flex bg-slate-800/50 p-1 rounded-xl mb-8",children:[E.jsxs("button",{onClick:()=>{r(!1),R(""),W("")},className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all ${t?"text-slate-400 hover:text-white":"bg-blue-600 text-white shadow-lg"}`,children:[E.jsx(YO,{size:16})," Login"]}),e&&E.jsxs("button",{onClick:()=>{r(!0),R(""),W("")},className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all ${t?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[E.jsx(tp,{size:16})," Cadastro"]})]}),E.jsxs("form",{onSubmit:$,className:"space-y-5",children:[E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"E-mail"}),E.jsxs("div",{className:"relative",children:[E.jsx(JO,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"email",value:a,onChange:K=>l(K.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-800 border border-slate-700 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"seu@email.com",required:!0})]})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx(xw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"password",value:f,onChange:K=>g(K.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-800 border border-slate-700 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"",required:!0})]})]}),t&&E.jsxs("div",{className:"space-y-2 animate-in slide-in-from-top-2 duration-200",children:[E.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Confirmar Senha"}),E.jsxs("div",{className:"relative",children:[E.jsx(xw,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"password",value:y,onChange:K=>m(K.target.value),className:"w-full pl-12 pr-4 py-3.5 bg-slate-800 border border-slate-700 rounded-2xl text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all placeholder:text-slate-600",placeholder:"",required:!0})]})]}),L&&E.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400 text-sm animate-shake",children:[E.jsx(Id,{size:16,className:"shrink-0"}),L]}),X&&E.jsxs("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl flex items-center gap-3 text-emerald-400 text-sm",children:[E.jsx(Id,{size:16,className:"shrink-0"}),X]}),E.jsx("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white font-bold py-4 rounded-2xl transition-all shadow-lg shadow-blue-900/20 flex items-center justify-center gap-2",children:b?E.jsx(bd,{className:"animate-spin",size:20}):t?"Criar Conta":"Entrar"})]})]})})},SD=()=>{const[n,e]=Re.useState({products:0,inventories:0,tested:0,deliveries:0}),[t,r]=Re.useState([]);Re.useEffect(()=>{const l=xc(Xi(Un,"products"),y=>e(m=>({...m,products:y.size}))),f=Io(Xi(Un,"reports"),su("createdAt","desc"),Em(5)),g=xc(f,y=>{const m=y.docs.map(T=>({id:T.id,...T.data()}));r(m);const b={inventories:0,tested:0,deliveries:0};e(T=>({...T,...b}))});return()=>{l(),g()}},[]);const a=[{title:"Total de Produtos",value:n.products,icon:Id,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Inventrios",value:n.inventories,icon:xf,color:"text-emerald-500",bg:"bg-emerald-500/10"},{title:"Testados",value:n.tested,icon:S1,color:"text-blue-400",bg:"bg-blue-400/10"},{title:"Entregas",value:n.deliveries,icon:Im,color:"text-purple-500",bg:"bg-purple-500/10"}];return E.jsxs("div",{className:"p-4 md:p-8 max-w-full mx-auto",children:[E.jsxs("div",{className:"mb-8",children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),E.jsx("p",{className:"text-slate-400",children:"Resumo geral das operaes de estoque"})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:a.map((l,f)=>E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-xl",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("div",{className:`p-3 ${l.bg} rounded-xl ${l.color}`,children:E.jsx(l.icon,{size:24})}),E.jsx(bO,{size:20,className:"text-slate-700"})]}),E.jsx("p",{className:"text-slate-400 text-sm font-medium",children:l.title}),E.jsx("h2",{className:"text-3xl font-bold text-white mt-1",children:l.value})]},f))}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"lg:col-span-2 bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[E.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(dD,{size:20,className:"text-emerald-400"}),"Relatrios Recentes"]}),E.jsxs("div",{className:"space-y-4",children:[t.map(l=>E.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/40 rounded-xl border border-slate-700/50",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`p-2 rounded-lg ${l.type==="inventory"?"bg-emerald-500/10 text-emerald-400":l.type==="tested"?"bg-blue-500/10 text-blue-400":"bg-purple-500/10 text-purple-400"}`,children:l.type==="inventory"?E.jsx(xf,{size:20}):l.type==="tested"?E.jsx(S1,{size:20}):E.jsx(Im,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-white font-medium capitalize",children:l.type}),E.jsx("p",{className:"text-xs text-slate-500",children:l.createdAt?.toDate?.().toLocaleString("pt-BR")||"Agora"})]})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-white font-bold",children:l.totalItems}),E.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:"itens"})]})]},l.id)),t.length===0&&E.jsx("div",{className:"text-center py-8 text-slate-600 italic",children:"Nenhum relatrio gerado recentemente."})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6",children:[E.jsx("h2",{className:"text-xl font-bold text-white mb-6",children:"Status PWA"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-500/10 rounded-lg",children:[E.jsx("span",{className:"text-emerald-400 text-sm font-medium",children:"Offline Ready"}),E.jsx(S1,{size:18,className:"text-emerald-400"})]}),E.jsx("div",{className:"p-4 bg-slate-800/50 rounded-xl text-sm text-slate-400 leading-relaxed",children:"Sistema pronto para uso em campo. Os dados sero sincronizados automaticamente assim que houver conexo."})]})]})]})]})},CD="modulepreload",ND=function(n){return"/stockreportv2/"+n},ww={},S2=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let y=function(m){return Promise.all(m.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");a=y(t.map(m=>{if(m=ND(m),m in ww)return;ww[m]=!0;const b=m.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${T}`))return;const L=document.createElement("link");if(L.rel=b?"stylesheet":CD,b||(L.as="script"),L.crossOrigin="",L.href=m,g&&L.setAttribute("nonce",g),document.head.appendChild(L),b)return new Promise((R,X)=>{L.addEventListener("load",R),L.addEventListener("error",()=>X(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return a.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return e().catch(l)})};function Jr(n){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(n)}var al=Uint8Array,Ro=Uint16Array,Jx=Int32Array,$x=new al([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ey=new al([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_w=new al([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XA=function(n,e){for(var t=new Ro(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var a=new Jx(t[30]),r=1;r<30;++r)for(var l=t[r];l<t[r+1];++l)a[l]=l-t[r]<<5|r;return{b:t,r:a}},YA=XA($x,2),TD=YA.b,Rm=YA.r;TD[28]=258,Rm[258]=28;var ID=XA(ey,0),Aw=ID.r,Om=new Ro(32768);for(var Ci=0;Ci<32768;++Ci){var Wc=(Ci&43690)>>1|(Ci&21845)<<1;Wc=(Wc&52428)>>2|(Wc&13107)<<2,Wc=(Wc&61680)>>4|(Wc&3855)<<4,Om[Ci]=((Wc&65280)>>8|(Wc&255)<<8)>>1}var Rd=(function(n,e,t){for(var r=n.length,a=0,l=new Ro(e);a<r;++a)n[a]&&++l[n[a]-1];var f=new Ro(e);for(a=1;a<e;++a)f[a]=f[a-1]+l[a-1]<<1;var g;if(t){g=new Ro(1<<e);var y=15-e;for(a=0;a<r;++a)if(n[a])for(var m=a<<4|n[a],b=e-n[a],T=f[n[a]-1]++<<b,L=T|(1<<b)-1;T<=L;++T)g[Om[T]>>y]=m}else for(g=new Ro(r),a=0;a<r;++a)n[a]&&(g[a]=Om[f[n[a]-1]++]>>15-n[a]);return g}),Ju=new al(288);for(var Ci=0;Ci<144;++Ci)Ju[Ci]=8;for(var Ci=144;Ci<256;++Ci)Ju[Ci]=9;for(var Ci=256;Ci<280;++Ci)Ju[Ci]=7;for(var Ci=280;Ci<288;++Ci)Ju[Ci]=8;var np=new al(32);for(var Ci=0;Ci<32;++Ci)np[Ci]=5;var RD=Rd(Ju,9,0),OD=Rd(np,5,0),KA=function(n){return(n+7)/8|0},DD=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new al(n.subarray(e,t))},$l=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},fd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},C2=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var a=t.length,l=t.slice();if(!a)return{t:QA,l:0};if(a==1){var f=new al(t[0].s+1);return f[t[0].s]=1,{t:f,l:1}}t.sort(function(Ue,ze){return Ue.f-ze.f}),t.push({s:-1,f:25001});var g=t[0],y=t[1],m=0,b=1,T=2;for(t[0]={s:-1,f:g.f+y.f,l:g,r:y};b!=a-1;)g=t[t[m].f<t[T].f?m++:T++],y=t[m!=b&&t[m].f<t[T].f?m++:T++],t[b++]={s:-1,f:g.f+y.f,l:g,r:y};for(var L=l[0].s,r=1;r<a;++r)l[r].s>L&&(L=l[r].s);var R=new Ro(L+1),X=Dm(t[b-1],R,0);if(X>e){var r=0,W=0,$=X-e,K=1<<$;for(l.sort(function(ze,Y){return R[Y.s]-R[ze.s]||ze.f-Y.f});r<a;++r){var oe=l[r].s;if(R[oe]>e)W+=K-(1<<X-R[oe]),R[oe]=e;else break}for(W>>=$;W>0;){var ue=l[r].s;R[ue]<e?W-=1<<e-R[ue]++-1:++r}for(;r>=0&&W;--r){var pe=l[r].s;R[pe]==e&&(--R[pe],++W)}X=e}return{t:new al(R),l:X}},Dm=function(n,e,t){return n.s==-1?Math.max(Dm(n.l,e,t+1),Dm(n.r,e,t+1)):e[n.s]=t},Ew=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ro(++e),r=0,a=n[0],l=1,f=function(y){t[r++]=y},g=1;g<=e;++g)if(n[g]==a&&g!=e)++l;else{if(!a&&l>2){for(;l>138;l-=138)f(32754);l>2&&(f(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(f(a),--l;l>6;l-=6)f(8304);l>2&&(f(l-3<<5|8208),l=0)}for(;l--;)f(a);l=1,a=n[g]}return{c:t.subarray(0,r),n:e}},dd=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},ZA=function(n,e,t){var r=t.length,a=KA(e+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var l=0;l<r;++l)n[a+l+4]=t[l];return(a+4+r)*8},Sw=function(n,e,t,r,a,l,f,g,y,m,b){$l(e,b++,t),++a[256];for(var T=C2(a,15),L=T.t,R=T.l,X=C2(l,15),W=X.t,$=X.l,K=Ew(L),oe=K.c,ue=K.n,pe=Ew(W),Ue=pe.c,ze=pe.n,Y=new Ro(19),G=0;G<oe.length;++G)++Y[oe[G]&31];for(var G=0;G<Ue.length;++G)++Y[Ue[G]&31];for(var P=C2(Y,7),re=P.t,j=P.l,U=19;U>4&&!re[_w[U-1]];--U);var H=m+5<<3,Ce=dd(a,Ju)+dd(l,np)+f,xe=dd(a,L)+dd(l,W)+f+14+3*U+dd(Y,re)+2*Y[16]+3*Y[17]+7*Y[18];if(y>=0&&H<=Ce&&H<=xe)return ZA(e,b,n.subarray(y,y+m));var _e,Te,De,He;if($l(e,b,1+(xe<Ce)),b+=2,xe<Ce){_e=Rd(L,R,0),Te=L,De=Rd(W,$,0),He=W;var lt=Rd(re,j,0);$l(e,b,ue-257),$l(e,b+5,ze-1),$l(e,b+10,U-4),b+=14;for(var G=0;G<U;++G)$l(e,b+3*G,re[_w[G]]);b+=3*U;for(var de=[oe,Ue],q=0;q<2;++q)for(var le=de[q],G=0;G<le.length;++G){var ee=le[G]&31;$l(e,b,lt[ee]),b+=re[ee],ee>15&&($l(e,b,le[G]>>5&127),b+=le[G]>>12)}}else _e=RD,Te=Ju,De=OD,He=np;for(var G=0;G<g;++G){var ye=r[G];if(ye>255){var ee=ye>>18&31;fd(e,b,_e[ee+257]),b+=Te[ee+257],ee>7&&($l(e,b,ye>>23&31),b+=$x[ee]);var me=ye&31;fd(e,b,De[me]),b+=He[me],me>3&&(fd(e,b,ye>>5&8191),b+=ey[me])}else fd(e,b,_e[ye]),b+=Te[ye]}return fd(e,b,_e[256]),b+Te[256]},LD=new Jx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),QA=new al(0),kD=function(n,e,t,r,a,l){var f=l.z||n.length,g=new al(r+f+5*(1+Math.ceil(f/7e3))+a),y=g.subarray(r,g.length-a),m=l.l,b=(l.r||0)&7;if(e){b&&(y[0]=l.r>>3);for(var T=LD[e-1],L=T>>13,R=T&8191,X=(1<<t)-1,W=l.p||new Ro(32768),$=l.h||new Ro(X+1),K=Math.ceil(t/3),oe=2*K,ue=function(vt){return(n[vt]^n[vt+1]<<K^n[vt+2]<<oe)&X},pe=new Jx(25e3),Ue=new Ro(288),ze=new Ro(32),Y=0,G=0,P=l.i||0,re=0,j=l.w||0,U=0;P+2<f;++P){var H=ue(P),Ce=P&32767,xe=$[H];if(W[Ce]=xe,$[H]=Ce,j<=P){var _e=f-P;if((Y>7e3||re>24576)&&(_e>423||!m)){b=Sw(n,y,0,pe,Ue,ze,G,re,U,P-U,b),re=Y=G=0,U=P;for(var Te=0;Te<286;++Te)Ue[Te]=0;for(var Te=0;Te<30;++Te)ze[Te]=0}var De=2,He=0,lt=R,de=Ce-xe&32767;if(_e>2&&H==ue(P-de))for(var q=Math.min(L,_e)-1,le=Math.min(32767,P),ee=Math.min(258,_e);de<=le&&--lt&&Ce!=xe;){if(n[P+De]==n[P+De-de]){for(var ye=0;ye<ee&&n[P+ye]==n[P+ye-de];++ye);if(ye>De){if(De=ye,He=de,ye>q)break;for(var me=Math.min(de,ye-2),Pe=0,Te=0;Te<me;++Te){var Ie=P-de+Te&32767,Fe=W[Ie],Ne=Ie-Fe&32767;Ne>Pe&&(Pe=Ne,xe=Ie)}}}Ce=xe,xe=W[Ce],de+=Ce-xe&32767}if(He){pe[re++]=268435456|Rm[De]<<18|Aw[He];var Qe=Rm[De]&31,Oe=Aw[He]&31;G+=$x[Qe]+ey[Oe],++Ue[257+Qe],++ze[Oe],j=P+De,++Y}else pe[re++]=n[P],++Ue[n[P]]}}for(P=Math.max(P,j);P<f;++P)pe[re++]=n[P],++Ue[n[P]];b=Sw(n,y,m,pe,Ue,ze,G,re,U,P-U,b),m||(l.r=b&7|y[b/8|0]<<3,b-=7,l.h=$,l.p=W,l.i=P,l.w=j)}else{for(var P=l.w||0;P<f+m;P+=65535){var Ge=P+65535;Ge>=f&&(y[b/8|0]=m,Ge=f),b=ZA(y,b+1,n.subarray(P,Ge))}l.i=f}return DD(g,0,r+KA(b)+a)},JA=function(){var n=1,e=0;return{p:function(t){for(var r=n,a=e,l=t.length|0,f=0;f!=l;){for(var g=Math.min(f+2655,l);f<g;++f)a+=r+=t[f];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,e=a},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},MD=function(n,e,t,r,a){if(!a&&(a={l:1},e.dictionary)){var l=e.dictionary.subarray(-32768),f=new al(l.length+n.length);f.set(l),f.set(n,l.length),n=f,a.w=l.length}return kD(n,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,a)},$A=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},PD=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var a=JA();a.p(e.dictionary),$A(n,2,a.d())}};function Lm(n,e){e||(e={});var t=JA();t.p(n);var r=MD(n,e,e.dictionary?6:2,4);return PD(r,e),$A(r,r.length-4,t.d()),r}var jD=typeof TextDecoder<"u"&&new TextDecoder,BD=0;try{jD.decode(QA,{stream:!0}),BD=1}catch{}function FD(n){if(Array.isArray(n))return n}function UD(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,a,l,f,g=[],y=!0,m=!1;try{if(l=(t=t.call(n)).next,e!==0)for(;!(y=(r=l.call(t)).done)&&(g.push(r.value),g.length!==e);y=!0);}catch(b){m=!0,a=b}finally{try{if(!y&&t.return!=null&&(f=t.return(),Object(f)!==f))return}finally{if(m)throw a}}return g}}function Cw(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function VD(n,e){if(n){if(typeof n=="string")return Cw(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Cw(n,e):void 0}}function zD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nw(n,e){return FD(n)||UD(n,e)||VD(n,e)||zD()}function Tw(n,e="utf8"){return new TextDecoder(e).decode(n)}const qD=new TextEncoder;function HD(n){return qD.encode(n)}const GD=1024*8,WD=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),N2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ty{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=GD,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const a=t.offset?t.offset>>>0:0,l=e.byteLength-a;let f=a;(ArrayBuffer.isView(e)||e instanceof ty)&&(e.byteLength!==e.buffer.byteLength&&(f=e.byteOffset+a),e=e.buffer),r?this.lastWrittenByte=l:this.lastWrittenByte=0,this.buffer=e,this.length=l,this.byteLength=l,this.byteOffset=f,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,f,l),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=N2[t].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,l=this.buffer.slice(a,a+r);if(this.littleEndian===WD&&t!=="uint8"&&t!=="int8"){const g=new Uint8Array(this.buffer.slice(a,a+r));g.reverse();const y=new N2[t](g.buffer);return this.offset+=r,y.reverse(),y}const f=new N2[t](l);return this.offset+=r,f}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return Tw(this.readBytes(e))}decodeText(e=1,t="utf8"){return Tw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(HD(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function If(n){let e=n.length;for(;--e>=0;)n[e]=0}const XD=3,YD=258,eE=29,KD=256,ZD=KD+1+eE,tE=30,QD=512,JD=new Array((ZD+2)*2);If(JD);const $D=new Array(tE*2);If($D);const eL=new Array(QD);If(eL);const tL=new Array(YD-XD+1);If(tL);const nL=new Array(eE);If(nL);const rL=new Array(tE);If(rL);const iL=(n,e,t,r)=>{let a=n&65535|0,l=n>>>16&65535|0,f=0;for(;t!==0;){f=t>2e3?2e3:t,t-=f;do a=a+e[r++]|0,l=l+a|0;while(--f);a%=65521,l%=65521}return a|l<<16|0};var km=iL;const sL=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},aL=new Uint32Array(sL()),oL=(n,e,t,r)=>{const a=aL,l=r+t;n^=-1;for(let f=r;f<l;f++)n=n>>>8^a[(n^e[f])&255];return n^-1};var Al=oL,Mm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nE={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const lL=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var cL=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)lL(t,r)&&(n[r]=t[r])}}return n},uL=n=>{let e=0;for(let r=0,a=n.length;r<a;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,a=0,l=n.length;r<l;r++){let f=n[r];t.set(f,a),a+=f.length}return t},rE={assign:cL,flattenChunks:uL};let iE=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iE=!1}const Gd=new Uint8Array(256);for(let n=0;n<256;n++)Gd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Gd[254]=Gd[254]=1;var hL=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,a,l,f=n.length,g=0;for(a=0;a<f;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<f&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),g+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(g),l=0,a=0;l<g;a++)t=n.charCodeAt(a),(t&64512)===55296&&a+1<f&&(r=n.charCodeAt(a+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),a++)),t<128?e[l++]=t:t<2048?(e[l++]=192|t>>>6,e[l++]=128|t&63):t<65536?(e[l++]=224|t>>>12,e[l++]=128|t>>>6&63,e[l++]=128|t&63):(e[l++]=240|t>>>18,e[l++]=128|t>>>12&63,e[l++]=128|t>>>6&63,e[l++]=128|t&63);return e};const fL=(n,e)=>{if(e<65534&&n.subarray&&iE)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var dL=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,a;const l=new Array(t*2);for(a=0,r=0;r<t;){let f=n[r++];if(f<128){l[a++]=f;continue}let g=Gd[f];if(g>4){l[a++]=65533,r+=g-1;continue}for(f&=g===2?31:g===3?15:7;g>1&&r<t;)f=f<<6|n[r++]&63,g--;if(g>1){l[a++]=65533;continue}f<65536?l[a++]=f:(f-=65536,l[a++]=55296|f>>10&1023,l[a++]=56320|f&1023)}return fL(l,a)},pL=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Gd[n[t]]>e?t:e},Pm={string2buf:hL,buf2string:dL,utf8border:pL};function gL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mL=gL;const s1=16209,xL=16191;var yL=function(e,t){let r,a,l,f,g,y,m,b,T,L,R,X,W,$,K,oe,ue,pe,Ue,ze,Y,G,P,re;const j=e.state;r=e.next_in,P=e.input,a=r+(e.avail_in-5),l=e.next_out,re=e.output,f=l-(t-e.avail_out),g=l+(e.avail_out-257),y=j.dmax,m=j.wsize,b=j.whave,T=j.wnext,L=j.window,R=j.hold,X=j.bits,W=j.lencode,$=j.distcode,K=(1<<j.lenbits)-1,oe=(1<<j.distbits)-1;e:do{X<15&&(R+=P[r++]<<X,X+=8,R+=P[r++]<<X,X+=8),ue=W[R&K];t:for(;;){if(pe=ue>>>24,R>>>=pe,X-=pe,pe=ue>>>16&255,pe===0)re[l++]=ue&65535;else if(pe&16){Ue=ue&65535,pe&=15,pe&&(X<pe&&(R+=P[r++]<<X,X+=8),Ue+=R&(1<<pe)-1,R>>>=pe,X-=pe),X<15&&(R+=P[r++]<<X,X+=8,R+=P[r++]<<X,X+=8),ue=$[R&oe];n:for(;;){if(pe=ue>>>24,R>>>=pe,X-=pe,pe=ue>>>16&255,pe&16){if(ze=ue&65535,pe&=15,X<pe&&(R+=P[r++]<<X,X+=8,X<pe&&(R+=P[r++]<<X,X+=8)),ze+=R&(1<<pe)-1,ze>y){e.msg="invalid distance too far back",j.mode=s1;break e}if(R>>>=pe,X-=pe,pe=l-f,ze>pe){if(pe=ze-pe,pe>b&&j.sane){e.msg="invalid distance too far back",j.mode=s1;break e}if(Y=0,G=L,T===0){if(Y+=m-pe,pe<Ue){Ue-=pe;do re[l++]=L[Y++];while(--pe);Y=l-ze,G=re}}else if(T<pe){if(Y+=m+T-pe,pe-=T,pe<Ue){Ue-=pe;do re[l++]=L[Y++];while(--pe);if(Y=0,T<Ue){pe=T,Ue-=pe;do re[l++]=L[Y++];while(--pe);Y=l-ze,G=re}}}else if(Y+=T-pe,pe<Ue){Ue-=pe;do re[l++]=L[Y++];while(--pe);Y=l-ze,G=re}for(;Ue>2;)re[l++]=G[Y++],re[l++]=G[Y++],re[l++]=G[Y++],Ue-=3;Ue&&(re[l++]=G[Y++],Ue>1&&(re[l++]=G[Y++]))}else{Y=l-ze;do re[l++]=re[Y++],re[l++]=re[Y++],re[l++]=re[Y++],Ue-=3;while(Ue>2);Ue&&(re[l++]=re[Y++],Ue>1&&(re[l++]=re[Y++]))}}else if((pe&64)===0){ue=$[(ue&65535)+(R&(1<<pe)-1)];continue n}else{e.msg="invalid distance code",j.mode=s1;break e}break}}else if((pe&64)===0){ue=W[(ue&65535)+(R&(1<<pe)-1)];continue t}else if(pe&32){j.mode=xL;break e}else{e.msg="invalid literal/length code",j.mode=s1;break e}break}}while(r<a&&l<g);Ue=X>>3,r-=Ue,X-=Ue<<3,R&=(1<<X)-1,e.next_in=r,e.next_out=l,e.avail_in=r<a?5+(a-r):5-(r-a),e.avail_out=l<g?257+(g-l):257-(l-g),j.hold=R,j.bits=X};const Uh=15,Iw=852,Rw=592,Ow=0,T2=1,Dw=2,vL=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),bL=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),wL=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),_L=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),AL=(n,e,t,r,a,l,f,g)=>{const y=g.bits;let m=0,b=0,T=0,L=0,R=0,X=0,W=0,$=0,K=0,oe=0,ue,pe,Ue,ze,Y,G=null,P;const re=new Uint16Array(Uh+1),j=new Uint16Array(Uh+1);let U=null,H,Ce,xe;for(m=0;m<=Uh;m++)re[m]=0;for(b=0;b<r;b++)re[e[t+b]]++;for(R=y,L=Uh;L>=1&&re[L]===0;L--);if(R>L&&(R=L),L===0)return a[l++]=1<<24|64<<16|0,a[l++]=1<<24|64<<16|0,g.bits=1,0;for(T=1;T<L&&re[T]===0;T++);for(R<T&&(R=T),$=1,m=1;m<=Uh;m++)if($<<=1,$-=re[m],$<0)return-1;if($>0&&(n===Ow||L!==1))return-1;for(j[1]=0,m=1;m<Uh;m++)j[m+1]=j[m]+re[m];for(b=0;b<r;b++)e[t+b]!==0&&(f[j[e[t+b]]++]=b);if(n===Ow?(G=U=f,P=20):n===T2?(G=vL,U=bL,P=257):(G=wL,U=_L,P=0),oe=0,b=0,m=T,Y=l,X=R,W=0,Ue=-1,K=1<<R,ze=K-1,n===T2&&K>Iw||n===Dw&&K>Rw)return 1;for(;;){H=m-W,f[b]+1<P?(Ce=0,xe=f[b]):f[b]>=P?(Ce=U[f[b]-P],xe=G[f[b]-P]):(Ce=96,xe=0),ue=1<<m-W,pe=1<<X,T=pe;do pe-=ue,a[Y+(oe>>W)+pe]=H<<24|Ce<<16|xe|0;while(pe!==0);for(ue=1<<m-1;oe&ue;)ue>>=1;if(ue!==0?(oe&=ue-1,oe+=ue):oe=0,b++,--re[m]===0){if(m===L)break;m=e[t+f[b]]}if(m>R&&(oe&ze)!==Ue){for(W===0&&(W=R),Y+=T,X=m-W,$=1<<X;X+W<L&&($-=re[X+W],!($<=0));)X++,$<<=1;if(K+=1<<X,n===T2&&K>Iw||n===Dw&&K>Rw)return 1;Ue=oe&ze,a[Ue]=R<<24|X<<16|Y-l|0}}return oe!==0&&(a[Y+oe]=m-W<<24|64<<16|0),g.bits=R,0};var Od=AL;const EL=0,sE=1,aE=2,{Z_FINISH:Lw,Z_BLOCK:SL,Z_TREES:a1,Z_OK:$u,Z_STREAM_END:CL,Z_NEED_DICT:NL,Z_STREAM_ERROR:qo,Z_DATA_ERROR:oE,Z_MEM_ERROR:lE,Z_BUF_ERROR:TL,Z_DEFLATED:kw}=nE,zp=16180,Mw=16181,Pw=16182,jw=16183,Bw=16184,Fw=16185,Uw=16186,Vw=16187,zw=16188,qw=16189,rp=16190,ec=16191,I2=16192,Hw=16193,R2=16194,Gw=16195,Ww=16196,Xw=16197,Yw=16198,o1=16199,l1=16200,Kw=16201,Zw=16202,Qw=16203,Jw=16204,$w=16205,O2=16206,e3=16207,t3=16208,Mi=16209,cE=16210,uE=16211,IL=852,RL=592,OL=15,DL=OL,n3=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function LL(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const sh=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<zp||e.mode>uE?1:0},hE=n=>{if(sh(n))return qo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=zp,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(IL),e.distcode=e.distdyn=new Int32Array(RL),e.sane=1,e.back=-1,$u},fE=n=>{if(sh(n))return qo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,hE(n)},dE=(n,e)=>{let t;if(sh(n))return qo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?qo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,fE(n))},pE=(n,e)=>{if(!n)return qo;const t=new LL;n.state=t,t.strm=n,t.window=null,t.mode=zp;const r=dE(n,e);return r!==$u&&(n.state=null),r},kL=n=>pE(n,DL);let r3=!0,D2,L2;const ML=n=>{if(r3){D2=new Int32Array(512),L2=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(Od(sE,n.lens,0,288,D2,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;Od(aE,n.lens,0,32,L2,0,n.work,{bits:5}),r3=!1}n.lencode=D2,n.lenbits=9,n.distcode=L2,n.distbits=5},gE=(n,e,t,r)=>{let a;const l=n.state;return l.window===null&&(l.wsize=1<<l.wbits,l.wnext=0,l.whave=0,l.window=new Uint8Array(l.wsize)),r>=l.wsize?(l.window.set(e.subarray(t-l.wsize,t),0),l.wnext=0,l.whave=l.wsize):(a=l.wsize-l.wnext,a>r&&(a=r),l.window.set(e.subarray(t-r,t-r+a),l.wnext),r-=a,r?(l.window.set(e.subarray(t-r,t),0),l.wnext=r,l.whave=l.wsize):(l.wnext+=a,l.wnext===l.wsize&&(l.wnext=0),l.whave<l.wsize&&(l.whave+=a))),0},PL=(n,e)=>{let t,r,a,l,f,g,y,m,b,T,L,R,X,W,$=0,K,oe,ue,pe,Ue,ze,Y,G;const P=new Uint8Array(4);let re,j;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(sh(n)||!n.output||!n.input&&n.avail_in!==0)return qo;t=n.state,t.mode===ec&&(t.mode=I2),f=n.next_out,a=n.output,y=n.avail_out,l=n.next_in,r=n.input,g=n.avail_in,m=t.hold,b=t.bits,T=g,L=y,G=$u;e:for(;;)switch(t.mode){case zp:if(t.wrap===0){t.mode=I2;break}for(;b<16;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(t.wrap&2&&m===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=m&255,P[1]=m>>>8&255,t.check=Al(t.check,P,2,0),m=0,b=0,t.mode=Mw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((m&255)<<8)+(m>>8))%31){n.msg="incorrect header check",t.mode=Mi;break}if((m&15)!==kw){n.msg="unknown compression method",t.mode=Mi;break}if(m>>>=4,b-=4,Y=(m&15)+8,t.wbits===0&&(t.wbits=Y),Y>15||Y>t.wbits){n.msg="invalid window size",t.mode=Mi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=m&512?qw:ec,m=0,b=0;break;case Mw:for(;b<16;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(t.flags=m,(t.flags&255)!==kw){n.msg="unknown compression method",t.mode=Mi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Mi;break}t.head&&(t.head.text=m>>8&1),t.flags&512&&t.wrap&4&&(P[0]=m&255,P[1]=m>>>8&255,t.check=Al(t.check,P,2,0)),m=0,b=0,t.mode=Pw;case Pw:for(;b<32;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.head&&(t.head.time=m),t.flags&512&&t.wrap&4&&(P[0]=m&255,P[1]=m>>>8&255,P[2]=m>>>16&255,P[3]=m>>>24&255,t.check=Al(t.check,P,4,0)),m=0,b=0,t.mode=jw;case jw:for(;b<16;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.head&&(t.head.xflags=m&255,t.head.os=m>>8),t.flags&512&&t.wrap&4&&(P[0]=m&255,P[1]=m>>>8&255,t.check=Al(t.check,P,2,0)),m=0,b=0,t.mode=Bw;case Bw:if(t.flags&1024){for(;b<16;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.length=m,t.head&&(t.head.extra_len=m),t.flags&512&&t.wrap&4&&(P[0]=m&255,P[1]=m>>>8&255,t.check=Al(t.check,P,2,0)),m=0,b=0}else t.head&&(t.head.extra=null);t.mode=Fw;case Fw:if(t.flags&1024&&(R=t.length,R>g&&(R=g),R&&(t.head&&(Y=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(l,l+R),Y)),t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,R,l)),g-=R,l+=R,t.length-=R),t.length))break e;t.length=0,t.mode=Uw;case Uw:if(t.flags&2048){if(g===0)break e;R=0;do Y=r[l+R++],t.head&&Y&&t.length<65536&&(t.head.name+=String.fromCharCode(Y));while(Y&&R<g);if(t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,R,l)),g-=R,l+=R,Y)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Vw;case Vw:if(t.flags&4096){if(g===0)break e;R=0;do Y=r[l+R++],t.head&&Y&&t.length<65536&&(t.head.comment+=String.fromCharCode(Y));while(Y&&R<g);if(t.flags&512&&t.wrap&4&&(t.check=Al(t.check,r,R,l)),g-=R,l+=R,Y)break e}else t.head&&(t.head.comment=null);t.mode=zw;case zw:if(t.flags&512){for(;b<16;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(t.wrap&4&&m!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Mi;break}m=0,b=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=ec;break;case qw:for(;b<32;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}n.adler=t.check=n3(m),m=0,b=0,t.mode=rp;case rp:if(t.havedict===0)return n.next_out=f,n.avail_out=y,n.next_in=l,n.avail_in=g,t.hold=m,t.bits=b,NL;n.adler=t.check=1,t.mode=ec;case ec:if(e===SL||e===a1)break e;case I2:if(t.last){m>>>=b&7,b-=b&7,t.mode=O2;break}for(;b<3;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}switch(t.last=m&1,m>>>=1,b-=1,m&3){case 0:t.mode=Hw;break;case 1:if(ML(t),t.mode=o1,e===a1){m>>>=2,b-=2;break e}break;case 2:t.mode=Ww;break;case 3:n.msg="invalid block type",t.mode=Mi}m>>>=2,b-=2;break;case Hw:for(m>>>=b&7,b-=b&7;b<32;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if((m&65535)!==(m>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Mi;break}if(t.length=m&65535,m=0,b=0,t.mode=R2,e===a1)break e;case R2:t.mode=Gw;case Gw:if(R=t.length,R){if(R>g&&(R=g),R>y&&(R=y),R===0)break e;a.set(r.subarray(l,l+R),f),g-=R,l+=R,y-=R,f+=R,t.length-=R;break}t.mode=ec;break;case Ww:for(;b<14;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(t.nlen=(m&31)+257,m>>>=5,b-=5,t.ndist=(m&31)+1,m>>>=5,b-=5,t.ncode=(m&15)+4,m>>>=4,b-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Mi;break}t.have=0,t.mode=Xw;case Xw:for(;t.have<t.ncode;){for(;b<3;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.lens[U[t.have++]]=m&7,m>>>=3,b-=3}for(;t.have<19;)t.lens[U[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,re={bits:t.lenbits},G=Od(EL,t.lens,0,19,t.lencode,0,t.work,re),t.lenbits=re.bits,G){n.msg="invalid code lengths set",t.mode=Mi;break}t.have=0,t.mode=Yw;case Yw:for(;t.have<t.nlen+t.ndist;){for(;$=t.lencode[m&(1<<t.lenbits)-1],K=$>>>24,oe=$>>>16&255,ue=$&65535,!(K<=b);){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(ue<16)m>>>=K,b-=K,t.lens[t.have++]=ue;else{if(ue===16){for(j=K+2;b<j;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(m>>>=K,b-=K,t.have===0){n.msg="invalid bit length repeat",t.mode=Mi;break}Y=t.lens[t.have-1],R=3+(m&3),m>>>=2,b-=2}else if(ue===17){for(j=K+3;b<j;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}m>>>=K,b-=K,Y=0,R=3+(m&7),m>>>=3,b-=3}else{for(j=K+7;b<j;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}m>>>=K,b-=K,Y=0,R=11+(m&127),m>>>=7,b-=7}if(t.have+R>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Mi;break}for(;R--;)t.lens[t.have++]=Y}}if(t.mode===Mi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Mi;break}if(t.lenbits=9,re={bits:t.lenbits},G=Od(sE,t.lens,0,t.nlen,t.lencode,0,t.work,re),t.lenbits=re.bits,G){n.msg="invalid literal/lengths set",t.mode=Mi;break}if(t.distbits=6,t.distcode=t.distdyn,re={bits:t.distbits},G=Od(aE,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,re),t.distbits=re.bits,G){n.msg="invalid distances set",t.mode=Mi;break}if(t.mode=o1,e===a1)break e;case o1:t.mode=l1;case l1:if(g>=6&&y>=258){n.next_out=f,n.avail_out=y,n.next_in=l,n.avail_in=g,t.hold=m,t.bits=b,yL(n,L),f=n.next_out,a=n.output,y=n.avail_out,l=n.next_in,r=n.input,g=n.avail_in,m=t.hold,b=t.bits,t.mode===ec&&(t.back=-1);break}for(t.back=0;$=t.lencode[m&(1<<t.lenbits)-1],K=$>>>24,oe=$>>>16&255,ue=$&65535,!(K<=b);){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(oe&&(oe&240)===0){for(pe=K,Ue=oe,ze=ue;$=t.lencode[ze+((m&(1<<pe+Ue)-1)>>pe)],K=$>>>24,oe=$>>>16&255,ue=$&65535,!(pe+K<=b);){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}m>>>=pe,b-=pe,t.back+=pe}if(m>>>=K,b-=K,t.back+=K,t.length=ue,oe===0){t.mode=$w;break}if(oe&32){t.back=-1,t.mode=ec;break}if(oe&64){n.msg="invalid literal/length code",t.mode=Mi;break}t.extra=oe&15,t.mode=Kw;case Kw:if(t.extra){for(j=t.extra;b<j;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.length+=m&(1<<t.extra)-1,m>>>=t.extra,b-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Zw;case Zw:for(;$=t.distcode[m&(1<<t.distbits)-1],K=$>>>24,oe=$>>>16&255,ue=$&65535,!(K<=b);){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if((oe&240)===0){for(pe=K,Ue=oe,ze=ue;$=t.distcode[ze+((m&(1<<pe+Ue)-1)>>pe)],K=$>>>24,oe=$>>>16&255,ue=$&65535,!(pe+K<=b);){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}m>>>=pe,b-=pe,t.back+=pe}if(m>>>=K,b-=K,t.back+=K,oe&64){n.msg="invalid distance code",t.mode=Mi;break}t.offset=ue,t.extra=oe&15,t.mode=Qw;case Qw:if(t.extra){for(j=t.extra;b<j;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}t.offset+=m&(1<<t.extra)-1,m>>>=t.extra,b-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Mi;break}t.mode=Jw;case Jw:if(y===0)break e;if(R=L-y,t.offset>R){if(R=t.offset-R,R>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Mi;break}R>t.wnext?(R-=t.wnext,X=t.wsize-R):X=t.wnext-R,R>t.length&&(R=t.length),W=t.window}else W=a,X=f-t.offset,R=t.length;R>y&&(R=y),y-=R,t.length-=R;do a[f++]=W[X++];while(--R);t.length===0&&(t.mode=l1);break;case $w:if(y===0)break e;a[f++]=t.length,y--,t.mode=l1;break;case O2:if(t.wrap){for(;b<32;){if(g===0)break e;g--,m|=r[l++]<<b,b+=8}if(L-=y,n.total_out+=L,t.total+=L,t.wrap&4&&L&&(n.adler=t.check=t.flags?Al(t.check,a,L,f-L):km(t.check,a,L,f-L)),L=y,t.wrap&4&&(t.flags?m:n3(m))!==t.check){n.msg="incorrect data check",t.mode=Mi;break}m=0,b=0}t.mode=e3;case e3:if(t.wrap&&t.flags){for(;b<32;){if(g===0)break e;g--,m+=r[l++]<<b,b+=8}if(t.wrap&4&&m!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Mi;break}m=0,b=0}t.mode=t3;case t3:G=CL;break e;case Mi:G=oE;break e;case cE:return lE;case uE:default:return qo}return n.next_out=f,n.avail_out=y,n.next_in=l,n.avail_in=g,t.hold=m,t.bits=b,(t.wsize||L!==n.avail_out&&t.mode<Mi&&(t.mode<O2||e!==Lw))&&gE(n,n.output,n.next_out,L-n.avail_out),T-=n.avail_in,L-=n.avail_out,n.total_in+=T,n.total_out+=L,t.total+=L,t.wrap&4&&L&&(n.adler=t.check=t.flags?Al(t.check,a,L,n.next_out-L):km(t.check,a,L,n.next_out-L)),n.data_type=t.bits+(t.last?64:0)+(t.mode===ec?128:0)+(t.mode===o1||t.mode===R2?256:0),(T===0&&L===0||e===Lw)&&G===$u&&(G=TL),G},jL=n=>{if(sh(n))return qo;let e=n.state;return e.window&&(e.window=null),n.state=null,$u},BL=(n,e)=>{if(sh(n))return qo;const t=n.state;return(t.wrap&2)===0?qo:(t.head=e,e.done=!1,$u)},FL=(n,e)=>{const t=e.length;let r,a,l;return sh(n)||(r=n.state,r.wrap!==0&&r.mode!==rp)?qo:r.mode===rp&&(a=1,a=km(a,e,t,0),a!==r.check)?oE:(l=gE(n,e,t,t),l?(r.mode=cE,lE):(r.havedict=1,$u))};var UL=fE,VL=dE,zL=hE,qL=kL,HL=pE,GL=PL,WL=jL,XL=BL,YL=FL,KL="pako inflate (from Nodeca project)",nc={inflateReset:UL,inflateReset2:VL,inflateResetKeep:zL,inflateInit:qL,inflateInit2:HL,inflate:GL,inflateEnd:WL,inflateGetHeader:XL,inflateSetDictionary:YL,inflateInfo:KL};function ZL(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var QL=ZL;const mE=Object.prototype.toString,{Z_NO_FLUSH:JL,Z_FINISH:$L,Z_OK:Wd,Z_STREAM_END:k2,Z_NEED_DICT:M2,Z_STREAM_ERROR:ek,Z_DATA_ERROR:i3,Z_MEM_ERROR:tk}=nE;function o0(n){this.options=rE.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mL,this.strm.avail_out=0;let t=nc.inflateInit2(this.strm,e.windowBits);if(t!==Wd)throw new Error(Mm[t]);if(this.header=new QL,nc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Pm.string2buf(e.dictionary):mE.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=nc.inflateSetDictionary(this.strm,e.dictionary),t!==Wd)))throw new Error(Mm[t])}o0.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let l,f,g;if(this.ended)return!1;for(e===~~e?f=e:f=e===!0?$L:JL,mE.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),l=nc.inflate(t,f),l===M2&&a&&(l=nc.inflateSetDictionary(t,a),l===Wd?l=nc.inflate(t,f):l===i3&&(l=M2));t.avail_in>0&&l===k2&&t.state.wrap>0&&n[t.next_in]!==0;)nc.inflateReset(t),l=nc.inflate(t,f);switch(l){case ek:case i3:case M2:case tk:return this.onEnd(l),this.ended=!0,!1}if(g=t.avail_out,t.next_out&&(t.avail_out===0||l===k2))if(this.options.to==="string"){let y=Pm.utf8border(t.output,t.next_out),m=t.next_out-y,b=Pm.buf2string(t.output,y);t.next_out=m,t.avail_out=r-m,m&&t.output.set(t.output.subarray(y,y+m),0),this.onData(b)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(l===Wd&&g===0)){if(l===k2)return l=nc.inflateEnd(this.strm),this.onEnd(l),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};o0.prototype.onData=function(n){this.chunks.push(n)};o0.prototype.onEnd=function(n){n===Wd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rE.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function nk(n,e){const t=new o0(e);if(t.push(n),t.err)throw t.msg||Mm[t.err];return t.result}var rk=o0,ik=nk,sk={Inflate:rk,inflate:ik};const{Inflate:ak,inflate:ok}=sk;var s3=ak,lk=ok;const xE=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;xE[n]=e}const a3=4294967295;function ck(n,e,t){let r=n;for(let a=0;a<t;a++)r=xE[(r^e[a])&255]^r>>>8;return r}function uk(n,e){return(ck(a3,n,e)^a3)>>>0}function o3(n,e,t){const r=n.readUint32(),a=uk(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(a!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${a}`)}function yE(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function vE(n,e,t,r){let a=0;for(;a<r;a++)e[a]=n[a];for(;a<t;a++)e[a]=n[a]+e[a-r]&255}function bE(n,e,t,r){let a=0;if(t.length===0)for(;a<r;a++)e[a]=n[a];else for(;a<r;a++)e[a]=n[a]+t[a]&255}function wE(n,e,t,r,a){let l=0;if(t.length===0){for(;l<a;l++)e[l]=n[l];for(;l<r;l++)e[l]=n[l]+(e[l-a]>>1)&255}else{for(;l<a;l++)e[l]=n[l]+(t[l]>>1)&255;for(;l<r;l++)e[l]=n[l]+(e[l-a]+t[l]>>1)&255}}function _E(n,e,t,r,a){let l=0;if(t.length===0){for(;l<a;l++)e[l]=n[l];for(;l<r;l++)e[l]=n[l]+e[l-a]&255}else{for(;l<a;l++)e[l]=n[l]+t[l]&255;for(;l<r;l++)e[l]=n[l]+hk(e[l-a],t[l],t[l-a])&255}}function hk(n,e,t){const r=n+e-t,a=Math.abs(r-n),l=Math.abs(r-e),f=Math.abs(r-t);return a<=l&&a<=f?n:l<=f?e:t}function fk(n,e,t,r,a,l){switch(n){case 0:yE(e,t,a);break;case 1:vE(e,t,a,l);break;case 2:bE(e,t,r,a);break;case 3:wE(e,t,r,a,l);break;case 4:_E(e,t,r,a,l);break;default:throw new Error(`Unsupported filter: ${n}`)}}const dk=new Uint16Array([255]),pk=new Uint8Array(dk.buffer),gk=pk[0]===255;function mk(n){const{data:e,width:t,height:r,channels:a,depth:l}=n,f=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],g=Math.ceil(l/8)*a,y=new Uint8Array(r*t*g);let m=0;for(let b=0;b<7;b++){const T=f[b],L=Math.ceil((t-T.x)/T.xStep),R=Math.ceil((r-T.y)/T.yStep);if(L<=0||R<=0)continue;const X=L*g,W=new Uint8Array(X);for(let $=0;$<R;$++){const K=e[m++],oe=e.subarray(m,m+X);m+=X;const ue=new Uint8Array(X);fk(K,oe,ue,W,X,g),W.set(ue);for(let pe=0;pe<L;pe++){const Ue=T.x+pe*T.xStep,ze=T.y+$*T.yStep;if(!(Ue>=t||ze>=r))for(let Y=0;Y<g;Y++)y[(ze*t+Ue)*g+Y]=ue[pe*g+Y]}}}if(l===16){const b=new Uint16Array(y.buffer);if(gk)for(let T=0;T<b.length;T++)b[T]=xk(b[T]);return b}else return y}function xk(n){return(n&255)<<8|n>>8&255}const yk=new Uint16Array([255]),vk=new Uint8Array(yk.buffer),bk=vk[0]===255,wk=new Uint8Array(0);function l3(n){const{data:e,width:t,height:r,channels:a,depth:l}=n,f=Math.ceil(l/8)*a,g=Math.ceil(l/8*a*t),y=new Uint8Array(r*g);let m=wk,b=0,T,L;for(let R=0;R<r;R++){switch(T=e.subarray(b+1,b+1+g),L=y.subarray(R*g,(R+1)*g),e[b]){case 0:yE(T,L,g);break;case 1:vE(T,L,g,f);break;case 2:bE(T,L,m,g);break;case 3:wE(T,L,m,g,f);break;case 4:_E(T,L,m,g,f);break;default:throw new Error(`Unsupported filter: ${e[b]}`)}m=L,b+=g+1}if(l===16){const R=new Uint16Array(y.buffer);if(bk)for(let X=0;X<R.length;X++)R[X]=_k(R[X]);return R}else return y}function _k(n){return(n&255)<<8|n>>8&255}const C1=Uint8Array.of(137,80,78,71,13,10,26,10);function c3(n){if(!Ak(n.readBytes(C1.length)))throw new Error("wrong PNG signature")}function Ak(n){if(n.length<C1.length)return!1;for(let e=0;e<C1.length;e++)if(n[e]!==C1[e])return!1;return!0}const Ek="tEXt",Sk=0,AE=new TextDecoder("latin1");function Ck(n){if(Tk(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Nk=/^[\u0000-\u00FF]*$/;function Tk(n){if(!Nk.test(n))throw new Error("invalid latin1 text")}function Ik(n,e,t){const r=EE(e);n[r]=Rk(e,t-r.length-1)}function EE(n){for(n.mark();n.readByte()!==Sk;);const e=n.offset;n.reset();const t=AE.decode(n.readBytes(e-n.offset-1));return n.skip(1),Ck(t),t}function Rk(n,e){return AE.decode(n.readBytes(e))}const Co={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},P2={UNKNOWN:-1,DEFLATE:0},u3={UNKNOWN:-1,ADAPTIVE:0},j2={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},c1={NONE:0,BACKGROUND:1,PREVIOUS:2},B2={SOURCE:0,OVER:1};class Ok extends ty{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new s3,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=P2.UNKNOWN,this._filterMethod=u3.UNKNOWN,this._interlaceMethod=j2.UNKNOWN,this._colorType=Co.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(c3(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(c3(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ek:Ik(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?o3(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?o3(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Dk(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case Co.GREYSCALE:r=1;break;case Co.TRUECOLOUR:r=3;break;case Co.INDEXED_COLOUR:r=1;break;case Co.GREYSCALE_ALPHA:r=2;break;case Co.TRUECOLOUR_ALPHA:r=4;break;case Co.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==P2.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<t;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Co.GREYSCALE:case Co.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case Co.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case Co.UNKNOWN:case Co.GREYSCALE_ALPHA:case Co.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=EE(this),r=this.readUint8();if(r!==P2.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:lk(a)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=l3({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const a=this._apng.frames.at(e-1);this.disposeFrame(r,a,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case c1.NONE:break;case c1.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let l=0;l<this._png.width;l++){const f=(a*e.width+l)*this._png.channels;for(let g=0;g<this._png.channels;g++)r.data[f+g]=0}break;case c1.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,a=(l,f)=>{const g=((l+t.yOffset)*this._png.width+t.xOffset+f)*this._png.channels,y=(l*t.width+f)*this._png.channels;return{index:g,frameIndex:y}};switch(t.blendOp){case B2.SOURCE:for(let l=0;l<t.height;l++)for(let f=0;f<t.width;f++){const{index:g,frameIndex:y}=a(l,f);for(let m=0;m<this._png.channels;m++)e.data[g+m]=t.data[y+m]}break;case B2.OVER:for(let l=0;l<t.height;l++)for(let f=0;f<t.width;f++){const{index:g,frameIndex:y}=a(l,f);for(let m=0;m<this._png.channels;m++){const b=t.data[y+this._png.channels-1]/r,T=m%(this._png.channels-1)===0?1:t.data[y+m],L=Math.floor(b*T+(1-b)*e.data[g+m]);e.data[g+m]+=L}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==u3.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===j2.NO_INTERLACE)this._png.data=l3({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===j2.ADAM7)this._png.data=mk({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:c1.NONE,blendOp:B2.SOURCE,data:e}),this._inflator=new s3,this._writingDataChunks=!1}}function Dk(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var h3;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(h3||(h3={}));function Lk(n,e){return new Ok(n,e).decode()}var Bn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function F2(){Bn.console&&typeof Bn.console.log=="function"&&Bn.console.log.apply(Bn.console,arguments)}var di={log:F2,warn:function(n){Bn.console&&(typeof Bn.console.warn=="function"?Bn.console.warn.apply(Bn.console,arguments):F2.call(null,arguments))},error:function(n){Bn.console&&(typeof Bn.console.error=="function"?Bn.console.error.apply(Bn.console,arguments):F2(n))}};function U2(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Mu(r.response,e,t)},r.onerror=function(){di.error("could not download file")},r.send()}function f3(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function u1(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Mu=Bn.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==Bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Bn.URL||Bn.webkitURL,a=document.createElement("a");e=e||n.name||"download",a.download=e,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?f3(a.href)?U2(n,e,t):u1(a,a.target="_blank"):u1(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){u1(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(f3(n))U2(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){u1(r)})}else navigator.msSaveOrOpenBlob((function(a,l){return l===void 0?l={autoBom:!1}:Jr(l)!=="object"&&(di.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return U2(n,e,t);var a=n.type==="application/octet-stream",l=/constructor/i.test(Bn.HTMLElement)||Bn.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||a&&l)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=f?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=b:location=b,r=null},g.readAsDataURL(n)}else{var y=Bn.URL||Bn.webkitURL,m=y.createObjectURL(n);r?r.location=m:location.href=m,r=null,setTimeout(function(){y.revokeObjectURL(m)},4e4)}});function SE(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(g){return[parseInt(g[1]),parseInt(g[2]),parseInt(g[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(g){return[parseInt(g[1],16),parseInt(g[2],16),parseInt(g[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(g){return[parseInt(g[1]+g[1],16),parseInt(g[2]+g[2],16),parseInt(g[3]+g[3],16)]}}],r=0;r<t.length;r++){var a=t[r].re,l=t[r].process,f=a.exec(n);f&&(e=l(f),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var g=this.r.toString(16),y=this.g.toString(16),m=this.b.toString(16);return g.length==1&&(g="0"+g),y.length==1&&(y="0"+y),m.length==1&&(m="0"+m),"#"+g+y+m}}var N1=Bn.atob.bind(Bn),d3=Bn.btoa.bind(Bn);function V2(n,e){var t=n[0],r=n[1],a=n[2],l=n[3];t=Pa(t,r,a,l,e[0],7,-680876936),l=Pa(l,t,r,a,e[1],12,-389564586),a=Pa(a,l,t,r,e[2],17,606105819),r=Pa(r,a,l,t,e[3],22,-1044525330),t=Pa(t,r,a,l,e[4],7,-176418897),l=Pa(l,t,r,a,e[5],12,1200080426),a=Pa(a,l,t,r,e[6],17,-1473231341),r=Pa(r,a,l,t,e[7],22,-45705983),t=Pa(t,r,a,l,e[8],7,1770035416),l=Pa(l,t,r,a,e[9],12,-1958414417),a=Pa(a,l,t,r,e[10],17,-42063),r=Pa(r,a,l,t,e[11],22,-1990404162),t=Pa(t,r,a,l,e[12],7,1804603682),l=Pa(l,t,r,a,e[13],12,-40341101),a=Pa(a,l,t,r,e[14],17,-1502002290),t=ja(t,r=Pa(r,a,l,t,e[15],22,1236535329),a,l,e[1],5,-165796510),l=ja(l,t,r,a,e[6],9,-1069501632),a=ja(a,l,t,r,e[11],14,643717713),r=ja(r,a,l,t,e[0],20,-373897302),t=ja(t,r,a,l,e[5],5,-701558691),l=ja(l,t,r,a,e[10],9,38016083),a=ja(a,l,t,r,e[15],14,-660478335),r=ja(r,a,l,t,e[4],20,-405537848),t=ja(t,r,a,l,e[9],5,568446438),l=ja(l,t,r,a,e[14],9,-1019803690),a=ja(a,l,t,r,e[3],14,-187363961),r=ja(r,a,l,t,e[8],20,1163531501),t=ja(t,r,a,l,e[13],5,-1444681467),l=ja(l,t,r,a,e[2],9,-51403784),a=ja(a,l,t,r,e[7],14,1735328473),t=Ba(t,r=ja(r,a,l,t,e[12],20,-1926607734),a,l,e[5],4,-378558),l=Ba(l,t,r,a,e[8],11,-2022574463),a=Ba(a,l,t,r,e[11],16,1839030562),r=Ba(r,a,l,t,e[14],23,-35309556),t=Ba(t,r,a,l,e[1],4,-1530992060),l=Ba(l,t,r,a,e[4],11,1272893353),a=Ba(a,l,t,r,e[7],16,-155497632),r=Ba(r,a,l,t,e[10],23,-1094730640),t=Ba(t,r,a,l,e[13],4,681279174),l=Ba(l,t,r,a,e[0],11,-358537222),a=Ba(a,l,t,r,e[3],16,-722521979),r=Ba(r,a,l,t,e[6],23,76029189),t=Ba(t,r,a,l,e[9],4,-640364487),l=Ba(l,t,r,a,e[12],11,-421815835),a=Ba(a,l,t,r,e[15],16,530742520),t=Fa(t,r=Ba(r,a,l,t,e[2],23,-995338651),a,l,e[0],6,-198630844),l=Fa(l,t,r,a,e[7],10,1126891415),a=Fa(a,l,t,r,e[14],15,-1416354905),r=Fa(r,a,l,t,e[5],21,-57434055),t=Fa(t,r,a,l,e[12],6,1700485571),l=Fa(l,t,r,a,e[3],10,-1894986606),a=Fa(a,l,t,r,e[10],15,-1051523),r=Fa(r,a,l,t,e[1],21,-2054922799),t=Fa(t,r,a,l,e[8],6,1873313359),l=Fa(l,t,r,a,e[15],10,-30611744),a=Fa(a,l,t,r,e[6],15,-1560198380),r=Fa(r,a,l,t,e[13],21,1309151649),t=Fa(t,r,a,l,e[4],6,-145523070),l=Fa(l,t,r,a,e[11],10,-1120210379),a=Fa(a,l,t,r,e[2],15,718787259),r=Fa(r,a,l,t,e[9],21,-343485551),n[0]=$c(t,n[0]),n[1]=$c(r,n[1]),n[2]=$c(a,n[2]),n[3]=$c(l,n[3])}function qp(n,e,t,r,a,l){return e=$c($c(e,n),$c(r,l)),$c(e<<a|e>>>32-a,t)}function Pa(n,e,t,r,a,l,f){return qp(e&t|~e&r,n,e,a,l,f)}function ja(n,e,t,r,a,l,f){return qp(e&r|t&~r,n,e,a,l,f)}function Ba(n,e,t,r,a,l,f){return qp(e^t^r,n,e,a,l,f)}function Fa(n,e,t,r,a,l,f){return qp(t^(e|~r),n,e,a,l,f)}function CE(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)V2(r,kk(n.substring(e-64,e)));n=n.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)a[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(V2(r,a),e=0;e<16;e++)a[e]=0;return a[14]=8*t,V2(r,a),r}function kk(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var p3="0123456789abcdef".split("");function Mk(n){for(var e="",t=0;t<4;t++)e+=p3[n>>8*t+4&15]+p3[n>>8*t&15];return e}function Pk(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function jm(n){return CE(n).map(Pk).join("")}var jk=(function(n){for(var e=0;e<n.length;e++)n[e]=Mk(n[e]);return n.join("")})(CE("hello"))!="5d41402abc4b2a76b9719d911017c592";function $c(n,e){if(jk){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function Bm(n,e){var t,r,a,l;if(n!==t){for(var f=(a=n,l=1+(256/n.length|0),new Array(l+1).join(a)),g=[],y=0;y<256;y++)g[y]=y;var m=0;for(y=0;y<256;y++){var b=g[y];m=(m+b+f.charCodeAt(y))%256,g[y]=g[m],g[m]=b}t=n,r=g}else g=r;var T=e.length,L=0,R=0,X="";for(y=0;y<T;y++)R=(R+(b=g[L=(L+1)%256]))%256,g[L]=g[R],g[R]=b,f=g[(g[L]+g[R])%256],X+=String.fromCharCode(e.charCodeAt(y)^f);return X}var g3={print:4,modify:8,copy:16,"annot-forms":32};function Yh(n,e,t,r){this.v=1,this.r=2;var a=192;n.forEach(function(g){if(g3.perm!==void 0)throw new Error("Invalid permission: "+g);a+=g3[g]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var l=(e+this.padding).substr(0,32),f=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(l,f),this.P=-(1+(255^a)),this.encryptionKey=jm(l+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Bm(this.encryptionKey,this.padding)}function Kh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var a=n.charCodeAt(r);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):n[r]}return e}function m3(n){if(Jr(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,a){if(a=a||!1,typeof t!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var l=Math.random().toString(35);return e[t][l]=[r,!!a],l},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var l in e[t]){var f=e[t][l];try{f[0].apply(n,r)}catch(g){Bn.console&&di.error("jsPDF PubSub Error",g.message,g)}f[1]&&a.push(l)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ip(n){if(!(this instanceof ip))return new ip(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function NE(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Pu(n,e,t,r,a){if(!(this instanceof Pu))return new Pu(n,e,t,r,a);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,NE.call(this,r,a)}function Qh(n,e,t,r,a){if(!(this instanceof Qh))return new Qh(n,e,t,r,a);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,NE.call(this,r,a)}function dn(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],l=arguments[3],f=[],g=1,y=16,m="S",b=null;Jr(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,a=n.format||a,l=n.compress||n.compressPdf||l,(b=n.encryption||null)!==null&&(b.userPassword=b.userPassword||"",b.ownerPassword=b.ownerPassword||"",b.userPermissions=b.userPermissions||[]),g=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(y=n.floatPrecision),m=n.defaultPathOperation||"S"),f=n.filters||(l===!0?["FlateEncode"]:f),r=r||"mm",t=(""+(t||"P")).toLowerCase();var T=n.putOnlyUsedFonts||!1,L={},R={internal:{},__private__:{}};R.__private__.PubSub=m3;var X="1.3",W=R.__private__.getPdfVersion=function(){return X};R.__private__.setPdfVersion=function(O){X=O};var $={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};R.__private__.getPageFormats=function(){return $};var K=R.__private__.getPageFormat=function(O){return $[O]};a=a||"a4";var oe="compat",ue="advanced",pe=oe;function Ue(){this.saveGraphicsState(),ae(new ln(kn,0,0,-kn,0,va()*kn).toString()+" cm"),this.setFontSize(this.getFontSize()/kn),m="n",pe=ue}function ze(){this.restoreGraphicsState(),m="S",pe=oe}var Y=R.__private__.combineFontStyleAndFontWeight=function(O,Z){if(O=="bold"&&Z=="normal"||O=="bold"&&Z==400||O=="normal"&&Z=="italic"||O=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(O=Z==400||Z==="normal"?O==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||O!=="normal"?(Z==700?"bold":Z)+""+O:"bold"),O};R.advancedAPI=function(O){var Z=pe===oe;return Z&&Ue.call(this),typeof O!="function"||(O(this),Z&&ze.call(this)),this},R.compatAPI=function(O){var Z=pe===ue;return Z&&ze.call(this),typeof O!="function"||(O(this),Z&&Ue.call(this)),this},R.isAdvancedAPI=function(){return pe===ue};var G,P=function(O){if(pe!==ue)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=R.roundToPrecision=R.__private__.roundToPrecision=function(O,Z){var we=e||Z;if(isNaN(O)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(we).replace(/0+$/,"")};G=R.hpf=R.__private__.hpf=typeof y=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return re(O,y)}:y==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return re(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return re(O,16)};var j=R.f2=R.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return re(O,2)},U=R.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return re(O,3)},H=R.scale=R.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return pe===oe?O*kn:pe===ue?O:void 0},Ce=function(O){return H((function(Z){return pe===oe?va()-Z:pe===ue?Z:void 0})(O))};R.__private__.setPrecision=R.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var xe,_e="00000000000000000000000000000000",Te=R.__private__.getFileId=function(){return _e},De=R.__private__.setFileId=function(O){return _e=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():_e.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),b!==null&&(Nr=new Yh(b.userPermissions,b.userPassword,b.ownerPassword,_e)),_e};R.setFileId=function(O){return De(O),this},R.getFileId=function(){return Te()};var He=R.__private__.convertDateToPDFDate=function(O){var Z=O.getTimezoneOffset(),we=Z<0?"+":"-",Me=Math.floor(Math.abs(Z/60)),We=Math.abs(Z%60),pt=[we,ee(Me),"'",ee(We),"'"].join("");return["D:",O.getFullYear(),ee(O.getMonth()+1),ee(O.getDate()),ee(O.getHours()),ee(O.getMinutes()),ee(O.getSeconds()),pt].join("")},lt=R.__private__.convertPDFDateToDate=function(O){var Z=parseInt(O.substr(2,4),10),we=parseInt(O.substr(6,2),10)-1,Me=parseInt(O.substr(8,2),10),We=parseInt(O.substr(10,2),10),pt=parseInt(O.substr(12,2),10),St=parseInt(O.substr(14,2),10);return new Date(Z,we,Me,We,pt,St,0)},de=R.__private__.setCreationDate=function(O){var Z;if(O===void 0&&(O=new Date),O instanceof Date)Z=He(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=O}return xe=Z},q=R.__private__.getCreationDate=function(O){var Z=xe;return O==="jsDate"&&(Z=lt(xe)),Z};R.setCreationDate=function(O){return de(O),this},R.getCreationDate=function(O){return q(O)};var le,ee=R.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ye=R.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},me=0,Pe=[],Ie=[],Fe=0,Ne=[],Qe=[],Oe=!1,Ge=Ie;R.__private__.setCustomOutputDestination=function(O){Oe=!0,Ge=O};var vt=function(O){Oe||(Ge=O)};R.__private__.resetCustomOutputDestination=function(){Oe=!1,Ge=Ie};var ae=R.__private__.out=function(O){return O=O.toString(),Fe+=O.length+1,Ge.push(O),Ge},It=R.__private__.write=function(O){return ae(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},Lt=R.__private__.getArrayBuffer=function(O){for(var Z=O.length,we=new ArrayBuffer(Z),Me=new Uint8Array(we);Z--;)Me[Z]=O.charCodeAt(Z);return we},Tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];R.__private__.getStandardFonts=function(){return Tt};var Ae=n.fontSize||16;R.__private__.setFontSize=R.setFontSize=function(O){return Ae=pe===ue?O/kn:O,this};var ht,Ye=R.__private__.getFontSize=R.getFontSize=function(){return pe===oe?Ae:Ae*kn},Dt=n.R2L||!1;R.__private__.setR2L=R.setR2L=function(O){return Dt=O,this},R.__private__.getR2L=R.getR2L=function(){return Dt};var kt,Ut=R.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))ht=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');ht=O}else ht=parseInt(O,10)};R.__private__.getZoomMode=function(){return ht};var Sn,Kt=R.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');kt=O};R.__private__.getPageMode=function(){return kt};var pn=R.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Sn=O};R.__private__.getLayoutMode=function(){return Sn},R.__private__.setDisplayMode=R.setDisplayMode=function(O,Z,we){return Ut(O),pn(Z),Kt(we),this};var gn={title:"",subject:"",author:"",keywords:"",creator:""};R.__private__.getDocumentProperty=function(O){if(Object.keys(gn).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gn[O]},R.__private__.getDocumentProperties=function(){return gn},R.__private__.setDocumentProperties=R.setProperties=R.setDocumentProperties=function(O){for(var Z in gn)gn.hasOwnProperty(Z)&&O[Z]&&(gn[Z]=O[Z]);return this},R.__private__.setDocumentProperty=function(O,Z){if(Object.keys(gn).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gn[O]=Z};var Vt,kn,Qt,$r,en,ut={},Gt={},qt=[],Bt={},ar={},bn={},An={},rn=null,Jt=0,sn=[],Hn=new m3(R),Br=n.hotfixes||[],Ni={},Fr={},ei=[],ln=function O(Z,we,Me,We,pt,St){if(!(this instanceof O))return new O(Z,we,Me,We,pt,St);isNaN(Z)&&(Z=1),isNaN(we)&&(we=0),isNaN(Me)&&(Me=0),isNaN(We)&&(We=1),isNaN(pt)&&(pt=0),isNaN(St)&&(St=0),this._matrix=[Z,we,Me,We,pt,St]};Object.defineProperty(ln.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ln.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ln.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ln.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ln.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ln.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ln.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(ln.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(ln.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(ln.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(ln.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(ln.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(ln.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ln.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ln.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ln.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ln.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(G).join(O)},ln.prototype.multiply=function(O){var Z=O.sx*this.sx+O.shy*this.shx,we=O.sx*this.shy+O.shy*this.sy,Me=O.shx*this.sx+O.sy*this.shx,We=O.shx*this.shy+O.sy*this.sy,pt=O.tx*this.sx+O.ty*this.shx+this.tx,St=O.tx*this.shy+O.ty*this.sy+this.ty;return new ln(Z,we,Me,We,pt,St)},ln.prototype.decompose=function(){var O=this.sx,Z=this.shy,we=this.shx,Me=this.sy,We=this.tx,pt=this.ty,St=Math.sqrt(O*O+Z*Z),Wt=(O/=St)*we+(Z/=St)*Me;we-=O*Wt,Me-=Z*Wt;var Pt=Math.sqrt(we*we+Me*Me);return Wt/=Pt,O*(Me/=Pt)<Z*(we/=Pt)&&(O=-O,Z=-Z,Wt=-Wt,St=-St),{scale:new ln(St,0,0,Pt,0,0),translate:new ln(1,0,0,1,We,pt),rotate:new ln(O,Z,-Z,O,0,0),skew:new ln(1,0,Wt,1,0,0)}},ln.prototype.toString=function(O){return this.join(" ")},ln.prototype.inversed=function(){var O=this.sx,Z=this.shy,we=this.shx,Me=this.sy,We=this.tx,pt=this.ty,St=1/(O*Me-Z*we),Wt=Me*St,Pt=-Z*St,vn=-we*St,Ft=O*St;return new ln(Wt,Pt,vn,Ft,-Wt*We-vn*pt,-Pt*We-Ft*pt)},ln.prototype.applyToPoint=function(O){var Z=O.x*this.sx+O.y*this.shx+this.tx,we=O.x*this.shy+O.y*this.sy+this.ty;return new Er(Z,we)},ln.prototype.applyToRectangle=function(O){var Z=this.applyToPoint(O),we=this.applyToPoint(new Er(O.x+O.w,O.y+O.h));return new xa(Z.x,Z.y,we.x-Z.x,we.y-Z.y)},ln.prototype.clone=function(){var O=this.sx,Z=this.shy,we=this.shx,Me=this.sy,We=this.tx,pt=this.ty;return new ln(O,Z,we,Me,We,pt)},R.Matrix=ln;var Ti=R.matrixMult=function(O,Z){return Z.multiply(O)},zs=new ln(1,0,0,1,0,0);R.unitMatrix=R.identityMatrix=zs;var pi=function(O,Z){if(!ar[O]){var we=(Z instanceof Pu?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);Z.id=we,ar[O]=we,Bt[we]=Z,Hn.publish("addPattern",Z)}};R.ShadingPattern=Pu,R.TilingPattern=Qh,R.addShadingPattern=function(O,Z){return P("addShadingPattern()"),pi(O,Z),this},R.beginTilingPattern=function(O){P("beginTilingPattern()"),ya(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},R.endTilingPattern=function(O,Z){P("endTilingPattern()"),Z.stream=Qe[le].join(`
`),pi(O,Z),Hn.publish("endTilingPattern",Z),ei.pop().restore()};var Ki,Vn=R.__private__.newObject=function(){var O=dr();return Ar(O,!0),O},dr=R.__private__.newObjectDeferred=function(){return me++,Pe[me]=function(){return Fe},me},Ar=function(O,Z){return Z=typeof Z=="boolean"&&Z,Pe[O]=Fe,Z&&ae(O+" 0 obj"),O},Mt=R.__private__.newAdditionalObject=function(){var O={objId:dr(),content:""};return Ne.push(O),O},ci=dr(),pr=dr(),Gn=R.__private__.decodeColorString=function(O){var Z=O.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length!==5||Z[4]!=="k"&&Z[4]!=="K"||(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var we=parseFloat(Z[0]);Z=[we,we,we,"r"]}for(var Me="#",We=0;We<3;We++)Me+=("0"+Math.floor(255*parseFloat(Z[We])).toString(16)).slice(-2);return Me},Wr=R.__private__.encodeColorString=function(O){var Z;typeof O=="string"&&(O={ch1:O});var we=O.ch1,Me=O.ch2,We=O.ch3,pt=O.ch4,St=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var Wt=new SE(we);if(Wt.ok)we=Wt.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var Pt=parseInt(we.substr(1),16);we=Pt>>16&255,Me=Pt>>8&255,We=255&Pt}if(Me===void 0||pt===void 0&&we===Me&&Me===We)Z=typeof we=="string"?we+" "+St[0]:O.precision===2?j(we/255)+" "+St[0]:U(we/255)+" "+St[0];else if(pt===void 0||Jr(pt)==="object"){if(pt&&!isNaN(pt.a)&&pt.a===0)return["1.","1.","1.",St[1]].join(" ");Z=typeof we=="string"?[we,Me,We,St[1]].join(" "):O.precision===2?[j(we/255),j(Me/255),j(We/255),St[1]].join(" "):[U(we/255),U(Me/255),U(We/255),St[1]].join(" ")}else Z=typeof we=="string"?[we,Me,We,pt,St[2]].join(" "):O.precision===2?[j(we),j(Me),j(We),j(pt),St[2]].join(" "):[U(we),U(Me),U(We),U(pt),St[2]].join(" ");return Z},Bi=R.__private__.getFilters=function(){return f},fs=R.__private__.putStream=function(O){var Z=(O=O||{}).data||"",we=O.filters||Bi(),Me=O.alreadyAppliedFilters||[],We=O.addLength1||!1,pt=Z.length,St=O.objectId,Wt=function(M){return M};if(b!==null&&St===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");b!==null&&(Wt=Nr.encryptor(St,0));var Pt={};we===!0&&(we=["FlateEncode"]);var vn=O.additionalKeyValues||[],Ft=(Pt=dn.API.processDataByFilters!==void 0?dn.API.processDataByFilters(Z,we):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Me)?Me.join(" "):Me.toString());if(Pt.data.length!==0&&(vn.push({key:"Length",value:Pt.data.length}),We===!0&&vn.push({key:"Length1",value:pt})),Ft.length!=0)if(Ft.split("/").length-1==1)vn.push({key:"Filter",value:Ft});else{vn.push({key:"Filter",value:"["+Ft+"]"});for(var $n=0;$n<vn.length;$n+=1)if(vn[$n].key==="DecodeParms"){for(var mr=[],_n=0;_n<Pt.reverseChain.split("/").length-1;_n+=1)mr.push("null");mr.push(vn[$n].value),vn[$n].value="["+mr.join(" ")+"]"}}ae("<<");for(var w=0;w<vn.length;w++)ae("/"+vn[w].key+" "+vn[w].value);ae(">>"),Pt.data.length!==0&&(ae("stream"),ae(Wt(Pt.data)),ae("endstream"))},Fi=R.__private__.putPage=function(O){var Z=O.number,we=O.data,Me=O.objId,We=O.contentsObjId;Ar(Me,!0),ae("<</Type /Page"),ae("/Parent "+O.rootDictionaryObjId+" 0 R"),ae("/Resources "+O.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(G(O.mediaBox.bottomLeftX))+" "+parseFloat(G(O.mediaBox.bottomLeftY))+" "+G(O.mediaBox.topRightX)+" "+G(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ae("/CropBox ["+G(O.cropBox.bottomLeftX)+" "+G(O.cropBox.bottomLeftY)+" "+G(O.cropBox.topRightX)+" "+G(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ae("/BleedBox ["+G(O.bleedBox.bottomLeftX)+" "+G(O.bleedBox.bottomLeftY)+" "+G(O.bleedBox.topRightX)+" "+G(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ae("/TrimBox ["+G(O.trimBox.bottomLeftX)+" "+G(O.trimBox.bottomLeftY)+" "+G(O.trimBox.topRightX)+" "+G(O.trimBox.topRightY)+"]"),O.artBox!==null&&ae("/ArtBox ["+G(O.artBox.bottomLeftX)+" "+G(O.artBox.bottomLeftY)+" "+G(O.artBox.topRightX)+" "+G(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ae("/UserUnit "+O.userUnit),Hn.publish("putPage",{objId:Me,pageContext:sn[Z],pageNumber:Z,page:we}),ae("/Contents "+We+" 0 R"),ae(">>"),ae("endobj");var pt=we.join(`
`);return pe===ue&&(pt+=`
Q`),Ar(We,!0),fs({data:pt,filters:Bi(),objectId:We}),ae("endobj"),Me},pa=R.__private__.putPages=function(){var O,Z,we=[];for(O=1;O<=Jt;O++)sn[O].objId=dr(),sn[O].contentsObjId=dr();for(O=1;O<=Jt;O++)we.push(Fi({number:O,data:Qe[O],objId:sn[O].objId,contentsObjId:sn[O].contentsObjId,mediaBox:sn[O].mediaBox,cropBox:sn[O].cropBox,bleedBox:sn[O].bleedBox,trimBox:sn[O].trimBox,artBox:sn[O].artBox,userUnit:sn[O].userUnit,rootDictionaryObjId:ci,resourceDictionaryObjId:pr}));Ar(ci,!0),ae("<</Type /Pages");var Me="/Kids [";for(Z=0;Z<Jt;Z++)Me+=we[Z]+" 0 R ";ae(Me+"]"),ae("/Count "+Jt),ae(">>"),ae("endobj"),Hn.publish("postPutPages")},Cs=function(O){Hn.publish("putFont",{font:O,out:ae,newObject:Vn,putStream:fs}),O.isAlreadyPutted!==!0&&(O.objectNumber=Vn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Kh(O.postScriptName)),ae("/Subtype /Type1"),typeof O.encoding=="string"&&ae("/Encoding /"+O.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Ii=function(O){O.objectNumber=Vn();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[G(O.x),G(O.y),G(O.x+O.width),G(O.y+O.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var we=O.pages[1].join(`
`);fs({data:we,additionalKeyValues:Z,objectId:O.objectNumber}),ae("endobj")},Lr=function(O,Z){Z||(Z=21);var we=Vn(),Me=(function(St,Wt){var Pt,vn=[],Ft=1/(Wt-1);for(Pt=0;Pt<1;Pt+=Ft)vn.push(Pt);if(vn.push(1),St[0].offset!=0){var $n={offset:0,color:St[0].color};St.unshift($n)}if(St[St.length-1].offset!=1){var mr={offset:1,color:St[St.length-1].color};St.push(mr)}for(var _n="",w=0,M=0;M<vn.length;M++){for(Pt=vn[M];Pt>St[w+1].offset;)w++;var V=St[w].offset,he=(Pt-V)/(St[w+1].offset-V),Ke=St[w].color,it=St[w+1].color;_n+=ye(Math.round((1-he)*Ke[0]+he*it[0]).toString(16))+ye(Math.round((1-he)*Ke[1]+he*it[1]).toString(16))+ye(Math.round((1-he)*Ke[2]+he*it[2]).toString(16))}return _n.trim()})(O.colors,Z),We=[];We.push({key:"FunctionType",value:"0"}),We.push({key:"Domain",value:"[0.0 1.0]"}),We.push({key:"Size",value:"["+Z+"]"}),We.push({key:"BitsPerSample",value:"8"}),We.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),We.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fs({data:Me,additionalKeyValues:We,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),ae("endobj"),O.objectNumber=Vn(),ae("<< /ShadingType "+O.type),ae("/ColorSpace /DeviceRGB");var pt="/Coords ["+G(parseFloat(O.coords[0]))+" "+G(parseFloat(O.coords[1]))+" ";O.type===2?pt+=G(parseFloat(O.coords[2]))+" "+G(parseFloat(O.coords[3])):pt+=G(parseFloat(O.coords[2]))+" "+G(parseFloat(O.coords[3]))+" "+G(parseFloat(O.coords[4]))+" "+G(parseFloat(O.coords[5])),ae(pt+="]"),O.matrix&&ae("/Matrix ["+O.matrix.toString()+"]"),ae("/Function "+we+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Wn=function(O,Z){var we=dr(),Me=Vn();Z.push({resourcesOid:we,objectOid:Me}),O.objectNumber=Me;var We=[];We.push({key:"Type",value:"/Pattern"}),We.push({key:"PatternType",value:"1"}),We.push({key:"PaintType",value:"1"}),We.push({key:"TilingType",value:"1"}),We.push({key:"BBox",value:"["+O.boundingBox.map(G).join(" ")+"]"}),We.push({key:"XStep",value:G(O.xStep)}),We.push({key:"YStep",value:G(O.yStep)}),We.push({key:"Resources",value:we+" 0 R"}),O.matrix&&We.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),fs({data:O.stream,additionalKeyValues:We,objectId:O.objectNumber}),ae("endobj")},Ns=function(O){for(var Z in O.objectNumber=Vn(),ae("<<"),O)switch(Z){case"opacity":ae("/ca "+j(O[Z]));break;case"stroke-opacity":ae("/CA "+j(O[Z]))}ae(">>"),ae("endobj")},vi=function(O){Ar(O.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Z in ae("/Font <<"),ut)ut.hasOwnProperty(Z)&&(T===!1||T===!0&&L.hasOwnProperty(Z))&&ae("/"+Z+" "+ut[Z].objectNumber+" 0 R");ae(">>")})(),(function(){if(Object.keys(Bt).length>0){for(var Z in ae("/Shading <<"),Bt)Bt.hasOwnProperty(Z)&&Bt[Z]instanceof Pu&&Bt[Z].objectNumber>=0&&ae("/"+Z+" "+Bt[Z].objectNumber+" 0 R");Hn.publish("putShadingPatternDict"),ae(">>")}})(),(function(Z){if(Object.keys(Bt).length>0){for(var we in ae("/Pattern <<"),Bt)Bt.hasOwnProperty(we)&&Bt[we]instanceof R.TilingPattern&&Bt[we].objectNumber>=0&&Bt[we].objectNumber<Z&&ae("/"+we+" "+Bt[we].objectNumber+" 0 R");Hn.publish("putTilingPatternDict"),ae(">>")}})(O.objectOid),(function(){if(Object.keys(bn).length>0){var Z;for(Z in ae("/ExtGState <<"),bn)bn.hasOwnProperty(Z)&&bn[Z].objectNumber>=0&&ae("/"+Z+" "+bn[Z].objectNumber+" 0 R");Hn.publish("putGStateDict"),ae(">>")}})(),(function(){for(var Z in ae("/XObject <<"),Ni)Ni.hasOwnProperty(Z)&&Ni[Z].objectNumber>=0&&ae("/"+Z+" "+Ni[Z].objectNumber+" 0 R");Hn.publish("putXobjectDict"),ae(">>")})(),ae(">>"),ae("endobj")},Xr=function(O){Gt[O.fontName]=Gt[O.fontName]||{},Gt[O.fontName][O.fontStyle]=O.id},At=function(O,Z,we,Me,We){var pt={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:O,fontName:Z,fontStyle:we,encoding:Me,isStandardFont:We||!1,metadata:{}};return Hn.publish("addFont",{font:pt,instance:this}),ut[pt.id]=pt,Xr(pt),pt.id},Ts=R.__private__.pdfEscape=R.pdfEscape=function(O,Z){return(function(we,Me){var We,pt,St,Wt,Pt,vn,Ft,$n,mr;if(St=(Me=Me||{}).sourceEncoding||"Unicode",Pt=Me.outputEncoding,(Me.autoencode||Pt)&&ut[Vt].metadata&&ut[Vt].metadata[St]&&ut[Vt].metadata[St].encoding&&(Wt=ut[Vt].metadata[St].encoding,!Pt&&ut[Vt].encoding&&(Pt=ut[Vt].encoding),!Pt&&Wt.codePages&&(Pt=Wt.codePages[0]),typeof Pt=="string"&&(Pt=Wt[Pt]),Pt)){for(Ft=!1,vn=[],We=0,pt=we.length;We<pt;We++)($n=Pt[we.charCodeAt(We)])?vn.push(String.fromCharCode($n)):vn.push(we[We]),vn[We].charCodeAt(0)>>8&&(Ft=!0);we=vn.join("")}for(We=we.length;Ft===void 0&&We!==0;)we.charCodeAt(We-1)>>8&&(Ft=!0),We--;if(!Ft)return we;for(vn=Me.noBOM?[]:[254,255],We=0,pt=we.length;We<pt;We++){if((mr=($n=we.charCodeAt(We))>>8)>>8)throw new Error("Character at position "+We+" of string '"+we+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vn.push(mr),vn.push($n-(mr<<8))}return String.fromCharCode.apply(void 0,vn)})(O,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},or=R.__private__.beginPage=function(O){Qe[++Jt]=[],sn[Jt]={objId:0,contentsObjId:0,userUnit:Number(g),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},nr(Jt),vt(Qe[le])},Zi=function(O,Z){var we,Me,We;switch(t=Z||t,typeof O=="string"&&(we=K(O.toLowerCase()),Array.isArray(we)&&(Me=we[0],We=we[1])),Array.isArray(O)&&(Me=O[0]*kn,We=O[1]*kn),isNaN(Me)&&(Me=a[0],We=a[1]),(Me>14400||We>14400)&&(di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Me=Math.min(14400,Me),We=Math.min(14400,We)),a=[Me,We],t.substr(0,1)){case"l":We>Me&&(a=[We,Me]);break;case"p":Me>We&&(a=[We,Me])}or(a),un(Rs),ae(Ds),Ls!==0&&ae(Ls+" J"),Yr!==0&&ae(Yr+" j"),Hn.publish("addPage",{pageNumber:Jt})},yo=function(O){O>0&&O<=Jt&&(Qe.splice(O,1),sn.splice(O,1),Jt--,le>Jt&&(le=Jt),this.setPage(le))},nr=function(O){O>0&&O<=Jt&&(le=O)},tr=R.__private__.getNumberOfPages=R.getNumberOfPages=function(){return Qe.length-1},zn=function(O,Z,we){var Me,We=void 0;return we=we||{},O=O!==void 0?O:ut[Vt].fontName,Z=Z!==void 0?Z:ut[Vt].fontStyle,Me=O.toLowerCase(),Gt[Me]!==void 0&&Gt[Me][Z]!==void 0?We=Gt[Me][Z]:Gt[O]!==void 0&&Gt[O][Z]!==void 0?We=Gt[O][Z]:we.disableWarning===!1&&di.warn("Unable to look up font label for font '"+O+"', '"+Z+"'. Refer to getFontList() for available fonts."),We||we.noFallback||(We=Gt.times[Z])==null&&(We=Gt.times.normal),We},ds=R.__private__.putInfo=function(){var O=Vn(),Z=function(Me){return Me};for(var we in b!==null&&(Z=Nr.encryptor(O,0)),ae("<<"),ae("/Producer ("+Ts(Z("jsPDF "+dn.version))+")"),gn)gn.hasOwnProperty(we)&&gn[we]&&ae("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Ts(Z(gn[we]))+")");ae("/CreationDate ("+Ts(Z(xe))+")"),ae(">>"),ae("endobj")},Ri=R.__private__.putCatalog=function(O){var Z=(O=O||{}).rootDictionaryObjId||ci;switch(Vn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+Z+" 0 R"),ht||(ht="fullwidth"),ht){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+ht;we.substr(we.length-1)==="%"&&(ht=parseInt(ht)/100),typeof ht=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+j(ht)+"]")}switch(Sn||(Sn="continuous"),Sn){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}kt&&ae("/PageMode /"+kt),Hn.publish("putCatalog"),ae(">>"),ae("endobj")},ti=R.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(me+1)),ae("/Root "+me+" 0 R"),ae("/Info "+(me-1)+" 0 R"),b!==null&&ae("/Encrypt "+Nr.oid+" 0 R"),ae("/ID [ <"+_e+"> <"+_e+"> ]"),ae(">>")},yn=R.__private__.putHeader=function(){ae("%PDF-"+X),ae("%")},Qi=R.__private__.putXRef=function(){var O="0000000000";ae("xref"),ae("0 "+(me+1)),ae("0000000000 65535 f ");for(var Z=1;Z<=me;Z++)typeof Pe[Z]=="function"?ae((O+Pe[Z]()).slice(-10)+" 00000 n "):Pe[Z]!==void 0?ae((O+Pe[Z]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},$s=R.__private__.buildDocument=function(){var O;me=0,Fe=0,Ie=[],Pe=[],Ne=[],ci=dr(),pr=dr(),vt(Ie),Hn.publish("buildDocument"),yn(),pa(),(function(){Hn.publish("putAdditionalObjects");for(var we=0;we<Ne.length;we++){var Me=Ne[we];Ar(Me.objId,!0),ae(Me.content),ae("endobj")}Hn.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var we in ut)ut.hasOwnProperty(we)&&(T===!1||T===!0&&L.hasOwnProperty(we))&&Cs(ut[we])})(),(function(){var we;for(we in bn)bn.hasOwnProperty(we)&&Ns(bn[we])})(),(function(){for(var we in Ni)Ni.hasOwnProperty(we)&&Ii(Ni[we])})(),(function(we){var Me;for(Me in Bt)Bt.hasOwnProperty(Me)&&(Bt[Me]instanceof Pu?Lr(Bt[Me]):Bt[Me]instanceof Qh&&Wn(Bt[Me],we))})(O),Hn.publish("putResources"),O.forEach(vi),vi({resourcesOid:pr,objectOid:Number.MAX_SAFE_INTEGER}),Hn.publish("postPutResources"),b!==null&&(Nr.oid=Vn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+Nr.v),ae("/R "+Nr.r),ae("/U <"+Nr.toHexString(Nr.U)+">"),ae("/O <"+Nr.toHexString(Nr.O)+">"),ae("/P "+Nr.P),ae(">>"),ae("endobj")),ds(),Ri();var Z=Fe;return Qi(),ti(),ae("startxref"),ae(""+Z),ae("%%EOF"),vt(Qe[le]),Ie.join(`
`)},wn=R.__private__.getBlob=function(O){return new Blob([Lt(O)],{type:"application/pdf"})},ps=R.output=R.__private__.output=(Ki=function(O,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",O){case void 0:return $s();case"save":R.save(Z.filename);break;case"arraybuffer":return Lt($s());case"blob":return wn($s());case"bloburi":case"bloburl":if(Bn.URL!==void 0&&typeof Bn.URL.createObjectURL=="function")return Bn.URL&&Bn.URL.createObjectURL(wn($s()))||void 0;di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",Me=$s();try{we=d3(Me)}catch{we=d3(unescape(encodeURIComponent(Me)))}return"data:application/pdf;filename="+Z.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bn)==="[object Window]"){var We="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",pt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(We=Z.pdfObjectUrl,pt="");var St='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+We+'"'+pt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",Wt=Bn.open();return Wt!==null&&Wt.document.write(St),Wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bn)==="[object Window]"){var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',vn=Bn.open();if(vn!==null){vn.document.write(Pt);var Ft=this;vn.document.documentElement.querySelector("#pdfViewer").onload=function(){vn.document.title=Z.filename,vn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ft.output("bloburl"))}}return vn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',mr=Bn.open();if(mr!==null&&(mr.document.write($n),mr.document.title=Z.filename),mr||typeof safari>"u")return mr;break;case"datauri":case"dataurl":return Bn.document.location.href=this.output("datauristring",Z);default:return null}},Ki.foo=function(){try{return Ki.apply(this,arguments)}catch(we){var O=we.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var Z="Error in function "+O.split(`
`)[0].split("<")[0]+": "+we.message;if(!Bn.console)throw new Error(Z);Bn.console.error(Z,we),Bn.alert&&alert(Z)}},Ki.foo.bar=Ki,Ki.foo),bi=function(O){return Array.isArray(Br)===!0&&Br.indexOf(O)>-1};switch(r){case"pt":kn=1;break;case"mm":kn=72/25.4;break;case"cm":kn=72/2.54;break;case"in":kn=72;break;case"px":kn=bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":kn=12;break;case"ex":kn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);kn=r}var Nr=null;de(),De();var Dn=R.__private__.getPageInfo=R.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:sn[O].objId,pageNumber:O,pageContext:sn[O]}},ni=R.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in sn)if(sn[Z].objId===O)break;return Dn(Z)},$e=R.__private__.getCurrentPageInfo=R.getCurrentPageInfo=function(){return{objId:sn[le].objId,pageNumber:le,pageContext:sn[le]}};R.addPage=function(){return Zi.apply(this,arguments),this},R.setPage=function(){return nr.apply(this,arguments),vt.call(this,Qe[le]),this},R.insertPage=function(O){return this.addPage(),this.movePage(le,O),this},R.movePage=function(O,Z){var we,Me;if(O>Z){we=Qe[O],Me=sn[O];for(var We=O;We>Z;We--)Qe[We]=Qe[We-1],sn[We]=sn[We-1];Qe[Z]=we,sn[Z]=Me,this.setPage(Z)}else if(O<Z){we=Qe[O],Me=sn[O];for(var pt=O;pt<Z;pt++)Qe[pt]=Qe[pt+1],sn[pt]=sn[pt+1];Qe[Z]=we,sn[Z]=Me,this.setPage(Z)}return this},R.deletePage=function(){return yo.apply(this,arguments),this},R.__private__.text=R.text=function(O,Z,we,Me,We){var pt,St,Wt,Pt,vn,Ft,$n,mr,_n,w=(Me=Me||{}).scope||this;if(typeof O=="number"&&typeof Z=="number"&&(typeof we=="string"||Array.isArray(we))){var M=we;we=Z,Z=O,O=M}if(arguments[3]instanceof ln==0?(Wt=arguments[4],Pt=arguments[5],Jr($n=arguments[3])==="object"&&$n!==null||(typeof Wt=="string"&&(Pt=Wt,Wt=null),typeof $n=="string"&&(Pt=$n,$n=null),typeof $n=="number"&&(Wt=$n,$n=null),Me={flags:$n,angle:Wt,align:Pt})):(P("The transform parameter of text() with a Matrix value"),_n=We),isNaN(Z)||isNaN(we)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return w;var V,he="",Ke=typeof Me.lineHeightFactor=="number"?Me.lineHeightFactor:ga,it=w.internal.scaleFactor;function Rt(mt){return mt=mt.split("	").join(Array(Me.TabLen||9).join(" ")),Ts(mt,$n)}function Rn(mt){for(var xt,gt=mt.concat(),xn=[],Cn=gt.length;Cn--;)typeof(xt=gt.shift())=="string"?xn.push(xt):Array.isArray(mt)&&(xt.length===1||xt[1]===void 0&&xt[2]===void 0)?xn.push(xt[0]):xn.push([xt[0],xt[1],xt[2]]);return xn}function Vr(mt,xt){var gt;if(typeof mt=="string")gt=xt(mt)[0];else if(Array.isArray(mt)){for(var xn,Cn,ii=mt.concat(),vs=[],es=ii.length;es--;)typeof(xn=ii.shift())=="string"?vs.push(xt(xn)[0]):Array.isArray(xn)&&typeof xn[0]=="string"&&(Cn=xt(xn[0],xn[1],xn[2]),vs.push([Cn[0],Cn[1],Cn[2]]));gt=vs}return gt}var Xn=!1,Sr=!0;if(typeof O=="string")Xn=!0;else if(Array.isArray(O)){var zi=O.concat();St=[];for(var gs,xr=zi.length;xr--;)(typeof(gs=zi.shift())!="string"||Array.isArray(gs)&&typeof gs[0]!="string")&&(Sr=!1);Xn=Sr}if(Xn===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var qi=Ae/w.internal.scaleFactor,ba=qi*(Ke-1);switch(Me.baseline){case"bottom":we-=ba;break;case"top":we+=qi-ba;break;case"hanging":we+=qi-2*ba;break;case"middle":we+=qi/2-ba}if((Ft=Me.maxWidth||0)>0&&(typeof O=="string"?O=w.splitTextToSize(O,Ft):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(mt,xt){return mt.concat(w.splitTextToSize(xt,Ft))},[]))),pt={text:O,x:Z,y:we,options:Me,mutex:{pdfEscape:Ts,activeFontKey:Vt,fonts:ut,activeFontSize:Ae}},Hn.publish("preProcessText",pt),O=pt.text,Wt=(Me=pt.options).angle,_n instanceof ln==0&&Wt&&typeof Wt=="number"){Wt*=Math.PI/180,Me.rotationDirection===0&&(Wt=-Wt),pe===ue&&(Wt=-Wt);var na=Math.cos(Wt),Ja=Math.sin(Wt);_n=new ln(na,Ja,-Ja,na,0,0)}else Wt&&Wt instanceof ln&&(_n=Wt);pe!==ue||_n||(_n=zs),(vn=Me.charSpace||Vi)!==void 0&&(he+=G(H(vn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mr=Me.horizontalScale)!==void 0&&(he+=G(100*mr)+` Tz
`),Me.lang;var mi=-1,Ra=Me.renderingMode!==void 0?Me.renderingMode:Me.stroke,ms=w.internal.getCurrentPageInfo().pageContext;switch(Ra){case 0:case!1:case"fill":mi=0;break;case 1:case!0:case"stroke":mi=1;break;case 2:case"fillThenStroke":mi=2;break;case 3:case"invisible":mi=3;break;case 4:case"fillAndAddForClipping":mi=4;break;case 5:case"strokeAndAddPathForClipping":mi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":mi=6;break;case 7:case"addToPathForClipping":mi=7}var cl=ms.usedRenderingMode!==void 0?ms.usedRenderingMode:-1;mi!==-1?he+=mi+` Tr
`:cl!==-1&&(he+=`0 Tr
`),mi!==-1&&(ms.usedRenderingMode=mi),Pt=Me.align||"left";var xi,Wa=Ae*Ke,Xa=w.internal.pageSize.getWidth(),Pl=ut[Vt];vn=Me.charSpace||Vi,Ft=Me.maxWidth||0,$n=Object.assign({autoencode:!0,noBOM:!0},Me.flags);var Oa=[],xs=function(mt){return w.getStringUnitWidth(mt,{font:Pl,charSpace:vn,fontSize:Ae,doKerning:!1})*Ae/it};if(Object.prototype.toString.call(O)==="[object Array]"){var ra;St=Rn(O),Pt!=="left"&&(xi=St.map(xs));var ys,ia=0;if(Pt==="right"){Z-=xi[0],O=[],xr=St.length;for(var Fn=0;Fn<xr;Fn++)Fn===0?(ys=hn(Z),ra=ir(we)):(ys=H(ia-xi[Fn]),ra=-Wa),O.push([St[Fn],ys,ra]),ia=xi[Fn]}else if(Pt==="center"){Z-=xi[0]/2,O=[],xr=St.length;for(var Da=0;Da<xr;Da++)Da===0?(ys=hn(Z),ra=ir(we)):(ys=H((ia-xi[Da])/2),ra=-Wa),O.push([St[Da],ys,ra]),ia=xi[Da]}else if(Pt==="left"){O=[],xr=St.length;for(var Q=0;Q<xr;Q++)O.push(St[Q])}else if(Pt==="justify"&&Pl.encoding==="Identity-H"){O=[],xr=St.length,Ft=Ft!==0?Ft:Xa;for(var s=0,c=0;c<xr;c++)if(ra=c===0?ir(we):-Wa,ys=c===0?hn(Z):s,c<xr-1){var u=H((Ft-xi[c])/(St[c].split(" ").length-1)),d=St[c].split(" ");O.push([d[0]+" ",ys,ra]),s=0;for(var p=1;p<d.length;p++){var v=(xs(d[p-1]+" "+d[p])-xs(d[p]))*it+u;p==d.length-1?O.push([d[p],v,0]):O.push([d[p]+" ",v,0]),s-=v}}else O.push([St[c],ys,ra]);O.push(["",s,0])}else{if(Pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],xr=St.length,Ft=Ft!==0?Ft:Xa,c=0;c<xr;c++){ra=c===0?ir(we):-Wa,ys=c===0?hn(Z):0;var A=St[c].split(" ").length-1,N=A>0?(Ft-xi[c])/A:0;c<xr-1?Oa.push(G(H(N))):Oa.push(0),O.push([St[c],ys,ra])}}}(typeof Me.R2L=="boolean"?Me.R2L:Dt)===!0&&(O=Vr(O,function(mt,xt,gt){return[mt.split("").reverse().join(""),xt,gt]})),pt={text:O,x:Z,y:we,options:Me,mutex:{pdfEscape:Ts,activeFontKey:Vt,fonts:ut,activeFontSize:Ae}},Hn.publish("postProcessText",pt),O=pt.text,V=pt.mutex.isHex||!1;var D=ut[Vt].encoding;D!=="WinAnsiEncoding"&&D!=="StandardEncoding"||(O=Vr(O,function(mt,xt,gt){return[Rt(mt),xt,gt]})),St=Rn(O),O=[];for(var B,J,ne,be=Array.isArray(St[0])?1:0,Le="",je=function(mt,xt,gt){var xn="";return gt instanceof ln?(gt=typeof Me.angle=="number"?Ti(gt,new ln(1,0,0,1,mt,xt)):Ti(new ln(1,0,0,1,mt,xt),gt),pe===ue&&(gt=Ti(new ln(1,0,0,-1,0,0),gt)),xn=gt.join(" ")+` Tm
`):xn=G(mt)+" "+G(xt)+` Td
`,xn},Xe=0;Xe<St.length;Xe++){switch(Le="",be){case 1:ne=(V?"<":"(")+St[Xe][0]+(V?">":")"),B=parseFloat(St[Xe][1]),J=parseFloat(St[Xe][2]);break;case 0:ne=(V?"<":"(")+St[Xe]+(V?">":")"),B=hn(Z),J=ir(we)}Oa!==void 0&&Oa[Xe]!==void 0&&(Le=Oa[Xe]+` Tw
`),Xe===0?O.push(Le+je(B,J,_n)+ne):be===0?O.push(Le+ne):be===1&&O.push(Le+je(B,J,_n)+ne)}O=be===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var st=`BT
/`;return st+=Vt+" "+Ae+` Tf
`,st+=G(Ae*Ke)+` TL
`,st+=ma+`
`,st+=he,st+=O,ae(st+="ET"),L[Vt]=!0,w};var ve=R.__private__.clip=R.clip=function(O){return ae(O==="evenodd"?"W*":"W"),this};R.clipEvenOdd=function(){return ve("evenodd")},R.__private__.discardPath=R.discardPath=function(){return ae("n"),this};var zt=R.__private__.isValidStyle=function(O){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(Z=!0),Z};R.__private__.setDefaultPathOperation=R.setDefaultPathOperation=function(O){return zt(O)&&(m=O),this};var ri=R.__private__.getStyle=R.getStyle=function(O){var Z=m;switch(O){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=O}return Z},gi=R.close=function(){return ae("h"),this};R.stroke=function(){return ae("S"),this},R.fill=function(O){return Ui("f",O),this},R.fillEvenOdd=function(O){return Ui("f*",O),this},R.fillStroke=function(O){return Ui("B",O),this},R.fillStrokeEvenOdd=function(O){return Ui("B*",O),this};var Ui=function(O,Z){Jr(Z)==="object"?cn(Z,O):ae(O)},Ta=function(O){O===null||pe===ue&&O===void 0||(O=ri(O),ae(O))};function Ji(O,Z,we,Me,We){var pt=new Qh(Z||this.boundingBox,we||this.xStep,Me||this.yStep,this.gState,We||this.matrix);pt.stream=this.stream;var St=O+"$$"+this.cloneIndex+++"$$";return pi(St,pt),pt}var cn=function(O,Z){var we=ar[O.key],Me=Bt[we];if(Me instanceof Pu)ae("q"),ae(Tr(Z)),Me.gState&&R.setGState(Me.gState),ae(O.matrix.toString()+" cm"),ae("/"+we+" sh"),ae("Q");else if(Me instanceof Qh){var We=new ln(1,0,0,-1,0,va());O.matrix&&(We=We.multiply(O.matrix||zs),we=Ji.call(Me,O.key,O.boundingBox,O.xStep,O.yStep,We).id),ae("q"),ae("/Pattern cs"),ae("/"+we+" scn"),Me.gState&&R.setGState(Me.gState),ae(Z),ae("Q")}},Tr=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},vo=R.moveTo=function(O,Z){return ae(G(H(O))+" "+G(Ce(Z))+" m"),this},qa=R.lineTo=function(O,Z){return ae(G(H(O))+" "+G(Ce(Z))+" l"),this},$i=R.curveTo=function(O,Z,we,Me,We,pt){return ae([G(H(O)),G(Ce(Z)),G(H(we)),G(Ce(Me)),G(H(We)),G(Ce(pt)),"c"].join(" ")),this};R.__private__.line=R.line=function(O,Z,we,Me,We){if(isNaN(O)||isNaN(Z)||isNaN(we)||isNaN(Me)||!zt(We))throw new Error("Invalid arguments passed to jsPDF.line");return pe===oe?this.lines([[we-O,Me-Z]],O,Z,[1,1],We||"S"):this.lines([[we-O,Me-Z]],O,Z,[1,1]).stroke()},R.__private__.lines=R.lines=function(O,Z,we,Me,We,pt){var St,Wt,Pt,vn,Ft,$n,mr,_n,w,M,V,he;if(typeof O=="number"&&(he=we,we=Z,Z=O,O=he),Me=Me||[1,1],pt=pt||!1,isNaN(Z)||isNaN(we)||!Array.isArray(O)||!Array.isArray(Me)||!zt(We)||typeof pt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(vo(Z,we),St=Me[0],Wt=Me[1],vn=O.length,M=Z,V=we,Pt=0;Pt<vn;Pt++)(Ft=O[Pt]).length===2?(M=Ft[0]*St+M,V=Ft[1]*Wt+V,qa(M,V)):($n=Ft[0]*St+M,mr=Ft[1]*Wt+V,_n=Ft[2]*St+M,w=Ft[3]*Wt+V,M=Ft[4]*St+M,V=Ft[5]*Wt+V,$i($n,mr,_n,w,M,V));return pt&&gi(),Ta(We),this},R.path=function(O){for(var Z=0;Z<O.length;Z++){var we=O[Z],Me=we.c;switch(we.op){case"m":vo(Me[0],Me[1]);break;case"l":qa(Me[0],Me[1]);break;case"c":$i.apply(this,Me);break;case"h":gi()}}return this},R.__private__.rect=R.rect=function(O,Z,we,Me,We){if(isNaN(O)||isNaN(Z)||isNaN(we)||isNaN(Me)||!zt(We))throw new Error("Invalid arguments passed to jsPDF.rect");return pe===oe&&(Me=-Me),ae([G(H(O)),G(Ce(Z)),G(H(we)),G(H(Me)),"re"].join(" ")),Ta(We),this},R.__private__.triangle=R.triangle=function(O,Z,we,Me,We,pt,St){if(isNaN(O)||isNaN(Z)||isNaN(we)||isNaN(Me)||isNaN(We)||isNaN(pt)||!zt(St))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-O,Me-Z],[We-we,pt-Me],[O-We,Z-pt]],O,Z,[1,1],St,!0),this},R.__private__.roundedRect=R.roundedRect=function(O,Z,we,Me,We,pt,St){if(isNaN(O)||isNaN(Z)||isNaN(we)||isNaN(Me)||isNaN(We)||isNaN(pt)||!zt(St))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Wt=4/3*(Math.SQRT2-1);return We=Math.min(We,.5*we),pt=Math.min(pt,.5*Me),this.lines([[we-2*We,0],[We*Wt,0,We,pt-pt*Wt,We,pt],[0,Me-2*pt],[0,pt*Wt,-We*Wt,pt,-We,pt],[2*We-we,0],[-We*Wt,0,-We,-pt*Wt,-We,-pt],[0,2*pt-Me],[0,-pt*Wt,We*Wt,-pt,We,-pt]],O+We,Z,[1,1],St,!0),this},R.__private__.ellipse=R.ellipse=function(O,Z,we,Me,We){if(isNaN(O)||isNaN(Z)||isNaN(we)||isNaN(Me)||!zt(We))throw new Error("Invalid arguments passed to jsPDF.ellipse");var pt=4/3*(Math.SQRT2-1)*we,St=4/3*(Math.SQRT2-1)*Me;return vo(O+we,Z),$i(O+we,Z-St,O+pt,Z-Me,O,Z-Me),$i(O-pt,Z-Me,O-we,Z-St,O-we,Z),$i(O-we,Z+St,O-pt,Z+Me,O,Z+Me),$i(O+pt,Z+Me,O+we,Z+St,O+we,Z),Ta(We),this},R.__private__.circle=R.circle=function(O,Z,we,Me){if(isNaN(O)||isNaN(Z)||isNaN(we)||!zt(Me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,Z,we,we,Me)},R.setFont=function(O,Z,we){return we&&(Z=Y(Z,we)),Vt=zn(O,Z,{disableWarning:!1}),this};var Is=R.__private__.getFont=R.getFont=function(){return ut[zn.apply(R,arguments)]};R.__private__.getFontList=R.getFontList=function(){var O,Z,we={};for(O in Gt)if(Gt.hasOwnProperty(O))for(Z in we[O]=[],Gt[O])Gt[O].hasOwnProperty(Z)&&we[O].push(Z);return we},R.addFont=function(O,Z,we,Me,We){var pt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&pt.indexOf(arguments[3])!==-1?We=arguments[3]:arguments[3]&&pt.indexOf(arguments[3])==-1&&(we=Y(we,Me)),At.call(this,O,Z,we,We=We||"Identity-H")};var ga,Rs=n.lineWidth||.200025,Ur=R.__private__.getLineWidth=R.getLineWidth=function(){return Rs},un=R.__private__.setLineWidth=R.setLineWidth=function(O){return Rs=O,ae(G(H(O))+" w"),this};R.__private__.setLineDash=dn.API.setLineDash=dn.API.setLineDashPattern=function(O,Z){if(O=O||[],Z=Z||0,isNaN(Z)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(we){return G(H(we))}).join(" "),Z=G(H(Z)),ae("["+O+"] "+Z+" d"),this};var Os=R.__private__.getLineHeight=R.getLineHeight=function(){return Ae*ga};R.__private__.getLineHeight=R.getLineHeight=function(){return Ae*ga};var mn=R.__private__.setLineHeightFactor=R.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(ga=O),this},Qa=R.__private__.getLineHeightFactor=R.getLineHeightFactor=function(){return ga};mn(n.lineHeight);var hn=R.__private__.getHorizontalCoordinate=function(O){return H(O)},ir=R.__private__.getVerticalCoordinate=function(O){return pe===ue?O:sn[le].mediaBox.topRightY-sn[le].mediaBox.bottomLeftY-H(O)},bo=R.__private__.getHorizontalCoordinateString=R.getHorizontalCoordinateString=function(O){return G(hn(O))},gr=R.__private__.getVerticalCoordinateString=R.getVerticalCoordinateString=function(O){return G(ir(O))},Ds=n.strokeColor||"0 G";R.__private__.getStrokeColor=R.getDrawColor=function(){return Gn(Ds)},R.__private__.setStrokeColor=R.setDrawColor=function(O,Z,we,Me){return Ds=Wr({ch1:O,ch2:Z,ch3:we,ch4:Me,pdfColorType:"draw",precision:2}),ae(Ds),this};var qs=n.fillColor||"0 g";R.__private__.getFillColor=R.getFillColor=function(){return Gn(qs)},R.__private__.setFillColor=R.setFillColor=function(O,Z,we,Me){return qs=Wr({ch1:O,ch2:Z,ch3:we,ch4:Me,pdfColorType:"fill",precision:2}),ae(qs),this};var ma=n.textColor||"0 g",Ha=R.__private__.getTextColor=R.getTextColor=function(){return Gn(ma)};R.__private__.setTextColor=R.setTextColor=function(O,Z,we,Me){return ma=Wr({ch1:O,ch2:Z,ch3:we,ch4:Me,pdfColorType:"text",precision:3}),this};var Vi=n.charSpace,Hs=R.__private__.getCharSpace=R.getCharSpace=function(){return parseFloat(Vi||0)};R.__private__.setCharSpace=R.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vi=O,this};var Ls=0;R.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},R.__private__.setLineCap=R.setLineCap=function(O){var Z=R.CapJoinStyles[O];if(Z===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ls=Z,ae(Z+" J"),this};var Yr=0;R.__private__.setLineJoin=R.setLineJoin=function(O){var Z=R.CapJoinStyles[O];if(Z===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yr=Z,ae(Z+" j"),this},R.__private__.setLineMiterLimit=R.__private__.setMiterLimit=R.setLineMiterLimit=R.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(G(H(O))+" M"),this},R.GState=ip,R.setGState=function(O){(O=typeof O=="string"?bn[An[O]]:ks(null,O)).equals(rn)||(ae("/"+O.id+" gs"),rn=O)};var ks=function(O,Z){if(!O||!An[O]){var we=!1;for(var Me in bn)if(bn.hasOwnProperty(Me)&&bn[Me].equals(Z)){we=!0;break}if(we)Z=bn[Me];else{var We="GS"+(Object.keys(bn).length+1).toString(10);bn[We]=Z,Z.id=We}return O&&(An[O]=Z.id),Hn.publish("addGState",Z),Z}};R.addGState=function(O,Z){return ks(O,Z),this},R.saveGraphicsState=function(){return ae("q"),qt.push({key:Vt,size:Ae,color:ma}),this},R.restoreGraphicsState=function(){ae("Q");var O=qt.pop();return Vt=O.key,Ae=O.size,ma=O.color,rn=null,this},R.setCurrentTransformationMatrix=function(O){return ae(O.toString()+" cm"),this},R.comment=function(O){return ae("#"+O),this};var Er=function(O,Z){var we=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(pt){isNaN(pt)||(we=parseFloat(pt))}});var Me=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Me},set:function(pt){isNaN(pt)||(Me=parseFloat(pt))}});var We="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return We},set:function(pt){We=pt.toString()}}),this},xa=function(O,Z,we,Me){Er.call(this,O,Z),this.type="rect";var We=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return We},set:function(St){isNaN(St)||(We=parseFloat(St))}});var pt=Me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return pt},set:function(St){isNaN(St)||(pt=parseFloat(St))}}),this},Ga=function(){this.page=Jt,this.currentPage=le,this.pages=Qe.slice(0),this.pagesContext=sn.slice(0),this.x=Qt,this.y=$r,this.matrix=en,this.width=ea(le),this.height=lr(le),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Ga.prototype.restore=function(){Jt=this.page,le=this.currentPage,sn=this.pagesContext,Qe=this.pages,Qt=this.x,$r=this.y,en=this.matrix,wo(le,this.width),Ms(le,this.height),Ge=this.outputDestination};var ya=function(O,Z,we,Me,We){ei.push(new Ga),Jt=le=0,Qe=[],Qt=O,$r=Z,en=We,or([we,Me])};for(var Ia in R.beginFormObject=function(O,Z,we,Me,We){return ya(O,Z,we,Me,We),this},R.endFormObject=function(O){return(function(Z){if(Fr[Z])ei.pop().restore();else{var we=new Ga,Me="Xo"+(Object.keys(Ni).length+1).toString(10);we.id=Me,Fr[Z]=Me,Ni[Me]=we,Hn.publish("addFormObject",we),ei.pop().restore()}})(O),this},R.doFormObject=function(O,Z){var we=Ni[Fr[O]];return ae("q"),ae(Z.toString()+" cm"),ae("/"+we.id+" Do"),ae("Q"),this},R.getFormObject=function(O){var Z=Ni[Fr[O]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},R.save=function(O,Z){return O=O||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(Mu(wn($s()),O),typeof Mu.unload=="function"&&Bn.setTimeout&&setTimeout(Mu.unload,911),this):new Promise(function(we,Me){try{var We=Mu(wn($s()),O);typeof Mu.unload=="function"&&Bn.setTimeout&&setTimeout(Mu.unload,911),we(We)}catch(pt){Me(pt.message)}})},dn.API)dn.API.hasOwnProperty(Ia)&&(Ia==="events"&&dn.API.events.length?(function(O,Z){var we,Me,We;for(We=Z.length-1;We!==-1;We--)we=Z[We][0],Me=Z[We][1],O.subscribe.apply(O,[we].concat(typeof Me=="function"?[Me]:Me))})(Hn,dn.API.events):R[Ia]=dn.API[Ia]);function ea(O){return sn[O].mediaBox.topRightX-sn[O].mediaBox.bottomLeftX}function wo(O,Z){sn[O].mediaBox.topRightX=Z+sn[O].mediaBox.bottomLeftX}function lr(O){return sn[O].mediaBox.topRightY-sn[O].mediaBox.bottomLeftY}function Ms(O,Z){sn[O].mediaBox.topRightY=Z+sn[O].mediaBox.bottomLeftY}var Gs=R.getPageWidth=function(O){return ea(O=O||le)/kn},ta=R.setPageWidth=function(O,Z){wo(O,Z*kn)},va=R.getPageHeight=function(O){return lr(O=O||le)/kn},at=R.setPageHeight=function(O,Z){Ms(O,Z*kn)};return R.internal={pdfEscape:Ts,getStyle:ri,getFont:Is,getFontSize:Ye,getCharSpace:Hs,getTextColor:Ha,getLineHeight:Os,getLineHeightFactor:Qa,getLineWidth:Ur,write:It,getHorizontalCoordinate:hn,getVerticalCoordinate:ir,getCoordinateString:bo,getVerticalCoordinateString:gr,collections:{},newObject:Vn,newAdditionalObject:Mt,newObjectDeferred:dr,newObjectDeferredBegin:Ar,getFilters:Bi,putStream:fs,events:Hn,scaleFactor:kn,pageSize:{getWidth:function(){return Gs(le)},setWidth:function(O){ta(le,O)},getHeight:function(){return va(le)},setHeight:function(O){at(le,O)}},encryptionOptions:b,encryption:Nr,getEncryptor:function(O){return b!==null?Nr.encryptor(O,0):function(Z){return Z}},output:ps,getNumberOfPages:tr,get pages(){return Qe},out:ae,f2:j,f3:U,getPageInfo:Dn,getPageInfoByObjId:ni,getCurrentPageInfo:$e,getPDFVersion:W,Point:Er,Rectangle:xa,Matrix:ln,hasHotfix:bi},Object.defineProperty(R.internal.pageSize,"width",{get:function(){return Gs(le)},set:function(O){ta(le,O)},enumerable:!0,configurable:!0}),Object.defineProperty(R.internal.pageSize,"height",{get:function(){return va(le)},set:function(O){at(le,O)},enumerable:!0,configurable:!0}),(function(O){for(var Z=0,we=Tt.length;Z<we;Z++){var Me=At.call(this,O[Z][0],O[Z][1],O[Z][2],Tt[Z][3],!0);T===!1&&(L[Me]=!0);var We=O[Z][0].split("-");Xr({id:Me,fontName:We[0],fontStyle:We[1]||""})}Hn.publish("addFonts",{fonts:ut,dictionary:Gt})}).call(R,Tt),Vt="F1",Zi(a,t),Hn.publish("initialized"),R}Yh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Yh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Yh.prototype.processOwnerPassword=function(n,e){return Bm(jm(e).substr(0,5),n)},Yh.prototype.encryptor=function(n,e){var t=jm(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Bm(t,r)}},ip.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Jr(n)!==Jr(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},dn.API={events:[]},dn.version="4.2.0";var ls=dn.API,ny=1,ah=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},eh=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},Zn=function(n){return n.toFixed(2)},Xc=function(n){return n.toFixed(5)};ls.__acroform__={};var xo=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},x3=function(n){return n*ny},Sl=function(n){var e=new IE,t=on.internal.getHeight(n)||0,r=on.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Zn(r)),Number(Zn(t))],e},Bk=ls.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Fk=ls.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Uk=ls.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},As=ls.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Uk(n,e-1)},Es=ls.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Bk(n,e-1)},Ss=ls.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Fk(n,e-1)},Vk=ls.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,a=n[0],l=n[1],f=n[2],g=n[3],y={};return y.lowerLeft_X=t(a)||0,y.lowerLeft_Y=r(l+g)||0,y.upperRight_X=t(a+f)||0,y.upperRight_Y=r(l)||0,[Number(Zn(y.lowerLeft_X)),Number(Zn(y.lowerLeft_Y)),Number(Zn(y.upperRight_X)),Number(Zn(y.upperRight_Y))]},zk=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Fm(n,t),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+a+" "+Zn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var l=Sl(n);return l.scope=n.scope,l.stream=e.join(`
`),l}},Fm=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=n.multiline?a.map(function(j){return j.split(`
`)}):a.map(function(j){return[j]});var l=t,f=on.internal.getHeight(n)||0;f=f<0?-f:f;var g=on.internal.getWidth(n)||0;g=g<0?-g:g;var y=function(j,U,H){if(j+1<a.length){var Ce=U+" "+a[j+1][0];return h1(Ce,n,H).width<=g-4}return!1};l++;e:for(;l>0;){e="",l--;var m,b,T=h1("3",n,l).height,L=n.multiline?f-l:(f-T)/2,R=L+=2,X=0,W=0,$=0;if(l<=0){e=`(...) Tj
`,e+="% Width of Text: "+h1(e,n,l=12).width+", FieldWidth:"+g+`
`;break}for(var K="",oe=0,ue=0;ue<a.length;ue++)if(a.hasOwnProperty(ue)){var pe=!1;if(a[ue].length!==1&&$!==a[ue].length-1){if((T+2)*(oe+2)+2>f)continue e;K+=a[ue][$],pe=!0,W=ue,ue--}else{K=(K+=a[ue][$]+" ").substr(K.length-1)==" "?K.substr(0,K.length-1):K;var Ue=parseInt(ue),ze=y(Ue,K,l),Y=ue>=a.length-1;if(ze&&!Y){K+=" ",$=0;continue}if(ze||Y){if(Y)W=Ue;else if(n.multiline&&(T+2)*(oe+2)+2>f)continue e}else{if(!n.multiline||(T+2)*(oe+2)+2>f)continue e;W=Ue}}for(var G="",P=X;P<=W;P++){var re=a[P];if(n.multiline){if(P===W){G+=re[$]+" ",$=($+1)%re.length;continue}if(P===X){G+=re[re.length-1]+" ";continue}}G+=re[0]+" "}switch(G=G.substr(G.length-1)==" "?G.substr(0,G.length-1):G,b=h1(G,n,l).width,n.textAlign){case"right":m=g-b-2;break;case"center":m=(g-b)/2;break;default:m=2}e+=Zn(m)+" "+Zn(R)+` Td
`,e+="("+ah(G)+`) Tj
`,e+=-Zn(m)+` 0 Td
`,R=-(l+2),b=0,X=pe?W:W+1,oe++,K=""}break}return r.text=e,r.fontSize=l,r},h1=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},qk={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Hk=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Gk=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ol.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(qk)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ny=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new RE,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var l=r[a];l.objId=void 0,l.hasAnnotation&&Hk(l,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,a){var l=!r;for(var f in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(f)){var g=r[f],y=[],m=g.Rect;if(g.Rect&&(g.Rect=Vk(g.Rect,a)),a.internal.newObjectDeferredBegin(g.objId,!0),g.DA=on.createDefaultAppearanceStream(g),Jr(g)==="object"&&typeof g.getKeyValueListForStream=="function"&&(y=g.getKeyValueListForStream()),g.Rect=m,g.hasAppearanceStream&&!g.appearanceStreamContent){var b=zk(g);y.push({key:"AP",value:"<</N "+b+">>"}),a.internal.acroformPlugin.xForms.push(b)}if(g.appearanceStreamContent){var T="";for(var L in g.appearanceStreamContent)if(g.appearanceStreamContent.hasOwnProperty(L)){var R=g.appearanceStreamContent[L];if(T+="/"+L+" ",T+="<<",Object.keys(R).length>=1||Array.isArray(R)){for(var f in R)if(R.hasOwnProperty(f)){var X=R[f];typeof X=="function"&&(X=X.call(a,g)),T+="/"+f+" "+X+" ",a.internal.acroformPlugin.xForms.indexOf(X)>=0||a.internal.acroformPlugin.xForms.push(X)}}else typeof(X=R)=="function"&&(X=X.call(a,g)),T+="/"+f+" "+X,a.internal.acroformPlugin.xForms.indexOf(X)>=0||a.internal.acroformPlugin.xForms.push(X);T+=">>"}y.push({key:"AP",value:`<<
`+T+">>"})}a.internal.putStream({additionalKeyValues:y,objectId:g.objId}),a.internal.out("endobj")}l&&(function(W,$){for(var K in W)if(W.hasOwnProperty(K)){var oe=K,ue=W[K];$.internal.newObjectDeferredBegin(ue.objId,!0),Jr(ue)==="object"&&typeof ue.putStream=="function"&&ue.putStream(),delete W[oe]}})(a.internal.acroformPlugin.xForms,a)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},TE=ls.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(f){return f};if(Array.isArray(n)){for(var a="[",l=0;l<n.length;l++)switch(l!==0&&(a+=" "),Jr(n[l])){case"boolean":case"number":case"object":a+=n[l].toString();break;case"string":n[l].substr(0,1)==="/"?a+="/"+eh(n[l].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),a+="("+ah(r(n[l].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},z2=function(n,e,t){var r=function(a){return a};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+ah(r(n))+")"},Nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nl.prototype.toString=function(){return this.objId+" 0 R"},Nl.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Nl.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(l){return l!="content"&&l!="appearanceStreamContent"&&l!="scope"&&l!="objId"&&l.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:TE(a,this.objId,this.scope)}):a instanceof Nl?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var IE=function(){Nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};xo(IE,Nl);var RE=function(){Nl.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+ah(t(n))+")"}},set:function(t){n=t}})};xo(RE,Nl);var ol=function n(){Nl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(K){if(isNaN(K))throw new Error('Invalid value "'+K+'" for attribute F supplied.');e=K}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!As(e,3)},set:function(K){K?this.F=Es(e,3):this.F=Ss(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(K){if(isNaN(K))throw new Error('Invalid value "'+K+'" for attribute Ff supplied.');t=K}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(K){r=K!==void 0?K:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(K){r[0]=K}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(K){r[1]=K}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(K){r[2]=K}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(K){r[3]=K}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(K){switch(K){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=K;break;default:throw new Error('Invalid value "'+K+'" for attribute FT supplied.')}}});var l=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!l||l.length<1){if(this instanceof sp)return;l="FieldObject"+n.FieldNum++}var K=function(oe){return oe};return this.scope&&(K=this.scope.internal.getEncryptor(this.objId)),"("+ah(K(l))+")"},set:function(K){l=K.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return l},set:function(K){l=K}});var f="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return f},set:function(K){f=K}});var g="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return g},set:function(K){g=K}});var y=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return y},set:function(K){y=K}});var m=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return m===void 0?50/ny:m},set:function(K){m=K}});var b="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return b},set:function(K){b=K}});var T="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!T||this instanceof sp||this instanceof Vu))return z2(T,this.objId,this.scope)},set:function(K){K=K.toString(),T=K}});var L=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(L)return this instanceof fa==0?z2(L,this.objId,this.scope):L},set:function(K){K=K.toString(),L=this instanceof fa==0?K.substr(0,1)==="("?Vh(K.substr(1,K.length-2)):Vh(K):K}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fa==1?Vh(L.substr(1,L.length-1)):L},set:function(K){K=K.toString(),L=this instanceof fa==1?"/"+eh(K):K}});var R=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(R)return R},set:function(K){this.V=K}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(R)return this instanceof fa==0?z2(R,this.objId,this.scope):R},set:function(K){K=K.toString(),R=this instanceof fa==0?K.substr(0,1)==="("?Vh(K.substr(1,K.length-2)):Vh(K):K}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fa==1?Vh(R.substr(1,R.length-1)):R},set:function(K){K=K.toString(),R=this instanceof fa==1?"/"+eh(K):K}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var X,W=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return W},set:function(K){K=!!K,W=K}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(X)return X},set:function(K){X=K}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,1)},set:function(K){K?this.Ff=Es(this.Ff,1):this.Ff=Ss(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,2)},set:function(K){K?this.Ff=Es(this.Ff,2):this.Ff=Ss(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,3)},set:function(K){K?this.Ff=Es(this.Ff,3):this.Ff=Ss(this.Ff,3)}});var $=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($!==null)return $},set:function(K){if([0,1,2].indexOf(K)===-1)throw new Error('Invalid value "'+K+'" for attribute Q supplied.');$=K}}),Object.defineProperty(this,"textAlign",{get:function(){var K;switch($){case 0:default:K="left";break;case 1:K="center";break;case 2:K="right"}return K},configurable:!0,enumerable:!0,set:function(K){switch(K){case"right":case 2:$=2;break;case"center":case 1:$=1;break;default:$=0}}})};xo(ol,Nl);var sf=function(){ol.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return TE(e,this.objId,this.scope)},set:function(t){var r,a;a=[],typeof(r=t)=="string"&&(a=(function(l,f,g){g||(g=1);for(var y,m=[];y=f.exec(l);)m.push(y[g]);return m})(r,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,18)},set:function(t){t?this.Ff=Es(this.Ff,18):this.Ff=Ss(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Es(this.Ff,19):this.Ff=Ss(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,20)},set:function(t){t?(this.Ff=Es(this.Ff,20),e.sort()):this.Ff=Ss(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,22)},set:function(t){t?this.Ff=Es(this.Ff,22):this.Ff=Ss(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(t){t?this.Ff=Es(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,27)},set:function(t){t?this.Ff=Es(this.Ff,27):this.Ff=Ss(this.Ff,27)}}),this.hasAppearanceStream=!1};xo(sf,ol);var af=function(){sf.call(this),this.fontName="helvetica",this.combo=!1};xo(af,sf);var of=function(){af.call(this),this.combo=!0};xo(of,af);var T1=function(){of.call(this),this.edit=!0};xo(T1,of);var fa=function(){ol.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,15)},set:function(t){t?this.Ff=Es(this.Ff,15):this.Ff=Ss(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,16)},set:function(t){t?this.Ff=Es(this.Ff,16):this.Ff=Ss(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,17)},set:function(t){t?this.Ff=Es(this.Ff,17):this.Ff=Ss(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(t){t?this.Ff=Es(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(l){return l};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,a=[];for(r in a.push("<<"),e)a.push("/"+r+" ("+ah(t(e[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){Jr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+eh(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+eh(t)}})};xo(fa,ol);var I1=function(){fa.call(this),this.pushButton=!0};xo(I1,fa);var lf=function(){fa.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};xo(lf,fa);var sp=function(){var n,e;ol.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(g){return g};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var l,f=[];for(l in f.push("<<"),r)f.push("/"+l+" ("+ah(a(r[l]))+")");return f.push(">>"),f.join(`
`)},set:function(a){Jr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){var l=a==null?"":a.toString();l.substr(0,1)==="/"&&(l=l.substr(1)),t="/"+eh(l)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){var l=a==null?"":a.toString();l.substr(0,1)==="/"&&(l=l.substr(1)),t="/"+eh(l)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=on.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xo(sp,ol),lf.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},lf.prototype.createOption=function(n){var e=new sp;return e.Parent=this,e.optionName=n,this.Kids.push(e),Wk.call(this.scope,e),e};var R1=function(){fa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=on.CheckBox.createAppearanceStream()};xo(R1,fa);var Vu=function(){ol.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,13)},set:function(e){e?this.Ff=Es(this.Ff,13):this.Ff=Ss(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,21)},set:function(e){e?this.Ff=Es(this.Ff,21):this.Ff=Ss(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,23)},set:function(e){e?this.Ff=Es(this.Ff,23):this.Ff=Ss(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,24)},set:function(e){e?this.Ff=Es(this.Ff,24):this.Ff=Ss(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,25)},set:function(e){e?this.Ff=Es(this.Ff,25):this.Ff=Ss(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,26)},set:function(e){e?this.Ff=Es(this.Ff,26):this.Ff=Ss(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xo(Vu,ol);var O1=function(){Vu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!As(this.Ff,14)},set:function(n){n?this.Ff=Es(this.Ff,14):this.Ff=Ss(this.Ff,14)}}),this.password=!0};xo(O1,Vu);var on={CheckBox:{createAppearanceStream:function(){return{N:{On:on.CheckBox.YesNormal},D:{On:on.CheckBox.YesPushDown,Off:on.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),l=Fm(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Zn(on.internal.getWidth(n))+" "+Zn(on.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Zn(l.fontSize)+" Tf "+a),t.push("BT"),t.push(l.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],l=on.internal.getHeight(n),f=on.internal.getWidth(n),g=Fm(n,n.caption);return a.push("1 g"),a.push("0 0 "+Zn(f)+" "+Zn(l)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Zn(f-1)+" "+Zn(l-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+Zn(g.fontSize)+" Tf "+r),a.push(g.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zn(on.internal.getWidth(n))+" "+Zn(on.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:on.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=on.RadioButton.Circle.YesNormal,e.D[n]=on.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=on.internal.Bezier_C,l=Number((r*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Xc(on.internal.getWidth(n)/2)+" "+Xc(on.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*on.internal.Bezier_C).toFixed(5)),f=Number((r*on.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Xc(on.internal.getWidth(n)/2)+" "+Xc(on.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),t.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),t.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),t.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Xc(on.internal.getWidth(n)/2)+" "+Xc(on.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+f+" "+f+" "+r+" 0 "+r+" c"),t.push("-"+f+" "+r+" -"+r+" "+f+" -"+r+" 0 c"),t.push("-"+r+" -"+f+" -"+f+" -"+r+" 0 -"+r+" c"),t.push(f+" -"+r+" "+r+" -"+f+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=on.internal.getWidth(n)<=on.internal.getHeight(n)?on.internal.getWidth(n)/4:on.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),l=Number((a*on.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Xc(on.internal.getWidth(n)/2)+" "+Xc(on.internal.getHeight(n)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+l+" "+l+" "+a+" 0 "+a+" c"),t.push("-"+l+" "+a+" -"+a+" "+l+" -"+a+" 0 c"),t.push("-"+a+" -"+l+" -"+l+" -"+a+" 0 -"+a+" c"),t.push(l+" -"+a+" "+a+" -"+l+" "+a+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:on.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=on.RadioButton.Cross.YesNormal,e.D[n]=on.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Sl(n);e.scope=n.scope;var t=[],r=on.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Zn(on.internal.getWidth(n)-2)+" "+Zn(on.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Zn(r.x1.x)+" "+Zn(r.x1.y)+" m"),t.push(Zn(r.x2.x)+" "+Zn(r.x2.y)+" l"),t.push(Zn(r.x4.x)+" "+Zn(r.x4.y)+" m"),t.push(Zn(r.x3.x)+" "+Zn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=on.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zn(on.internal.getWidth(n))+" "+Zn(on.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zn(on.internal.getWidth(n)-2)+" "+Zn(on.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Zn(t.x1.x)+" "+Zn(t.x1.y)+" m"),r.push(Zn(t.x2.x)+" "+Zn(t.x2.y)+" l"),r.push(Zn(t.x4.x)+" "+Zn(t.x4.y)+" m"),r.push(Zn(t.x3.x)+" "+Zn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Sl(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zn(on.internal.getWidth(n))+" "+Zn(on.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};on.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=on.internal.getWidth(n),t=on.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},on.internal.getWidth=function(n){var e=0;return Jr(n)==="object"&&(e=x3(n.Rect[2])),e},on.internal.getHeight=function(n){var e=0;return Jr(n)==="object"&&(e=x3(n.Rect[3])),e};var Wk=ls.addField=function(n){if(Gk(this,n),!(n instanceof ol))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ls.AcroFormChoiceField=sf,ls.AcroFormListBox=af,ls.AcroFormComboBox=of,ls.AcroFormEditBox=T1,ls.AcroFormButton=fa,ls.AcroFormPushButton=I1,ls.AcroFormRadioButton=lf,ls.AcroFormCheckBox=R1,ls.AcroFormTextField=Vu,ls.AcroFormPasswordField=O1,ls.AcroFormAppearance=on,ls.AcroForm={ChoiceField:sf,ListBox:af,ComboBox:of,EditBox:T1,Button:fa,PushButton:I1,RadioButton:lf,CheckBox:R1,TextField:Vu,PasswordField:O1,Appearance:on},dn.AcroForm={ChoiceField:sf,ListBox:af,ComboBox:of,EditBox:T1,Button:fa,PushButton:I1,RadioButton:lf,CheckBox:R1,TextField:Vu,PasswordField:O1,Appearance:on};dn.AcroForm;function OE(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=n.__addimage__.getImageFileTypeByImageData=function(j,U){var H,Ce,xe,_e,Te,De=t;if((U=U||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(ze(j))for(Te in r)for(xe=r[Te],H=0;H<xe.length;H+=1){for(_e=!0,Ce=0;Ce<xe[H].length;Ce+=1)if(xe[H][Ce]!==void 0&&xe[H][Ce]!==j[Ce]){_e=!1;break}if(_e===!0){De=Te;break}}else for(Te in r)for(xe=r[Te],H=0;H<xe.length;H+=1){for(_e=!0,Ce=0;Ce<xe[H].length;Ce+=1)if(xe[H][Ce]!==void 0&&xe[H][Ce]!==j.charCodeAt(Ce)){_e=!1;break}if(_e===!0){De=Te;break}}return De===t&&U!==t&&(De=U),De},l=function j(U){for(var H=this.internal.write,Ce=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var _e=[];if(_e.push({key:"Type",value:"/XObject"}),_e.push({key:"Subtype",value:"/Image"}),_e.push({key:"Width",value:U.width}),_e.push({key:"Height",value:U.height}),U.colorSpace===K.INDEXED?_e.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(_e.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===K.DEVICE_CMYK&&_e.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),_e.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&_e.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var Te="",De=0,He=U.transparency.length;De<He;De++)Te+=U.transparency[De]+" "+U.transparency[De]+" ";_e.push({key:"Mask",value:"["+Te+"]"})}U.sMask!==void 0&&_e.push({key:"SMask",value:U.objectId+1+" 0 R"});var lt=U.filter!==void 0?["/"+U.filter]:void 0;if(Ce({data:U.data,additionalKeyValues:_e,alreadyAppliedFilters:lt,objectId:U.objectId}),H("endobj"),"sMask"in U&&U.sMask!==void 0){var de,q=(de=U.sMaskBitsPerComponent)!==null&&de!==void 0?de:U.bitsPerComponent,le={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:q,data:U.sMask};"filter"in U&&(le.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(q," /Columns ").concat(U.width),le.filter=U.filter),j.call(this,le)}if(U.colorSpace===K.INDEXED){var ee=this.internal.newObject();Ce({data:G(new Uint8Array(U.palette)),objectId:ee}),H("endobj")}},f=function(){var j=this.internal.collections[e+"images"];for(var U in j)l.call(this,j[U])},g=function(){var j,U=this.internal.collections[e+"images"],H=this.internal.write;for(var Ce in U)H("/I"+(j=U[Ce]).index,j.objectId,"0","R")},y=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",f),this.internal.events.subscribe("putXobjectDict",g))},m=function(){var j=this.internal.collections[e+"images"];return y.call(this),j},b=function(){return Object.keys(this.internal.collections[e+"images"]).length},T=function(j){return typeof n["process"+j.toUpperCase()]=="function"},L=function(j){return Jr(j)==="object"&&j.nodeType===1},R=function(j,U){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var H=""+j.getAttribute("src");if(H.indexOf("data:image/")===0)return N1(unescape(H).split("base64,").pop());var Ce=n.loadFile(H,!0);if(Ce!==void 0)return Ce}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var xe;switch(U){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return N1(j.toDataURL(xe,1).split("base64,").pop())}},X=function(j){var U=this.internal.collections[e+"images"];if(U){for(var H in U)if(j===U[H].alias)return U[H]}},W=function(j,U,H){return j||U||(j=-96,U=-96),j<0&&(j=-1*H.width*72/j/this.internal.scaleFactor),U<0&&(U=-1*H.height*72/U/this.internal.scaleFactor),j===0&&(j=U*H.width/H.height),U===0&&(U=j*H.height/H.width),[j,U]},$=function(j,U,H,Ce,xe,_e){var Te=W.call(this,H,Ce,xe),De=this.internal.getCoordinateString,He=this.internal.getVerticalCoordinateString,lt=m.call(this);if(H=Te[0],Ce=Te[1],lt[xe.index]=xe,_e){_e*=Math.PI/180;var de=Math.cos(_e),q=Math.sin(_e),le=function(ye){return ye.toFixed(4)},ee=[le(de),le(q),le(-1*q),le(de),0,0,"cm"]}this.internal.write("q"),_e?(this.internal.write([1,"0","0",1,De(j),He(U+Ce),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([De(H),"0","0",De(Ce),"0","0","cm"].join(" "))):this.internal.write([De(H),"0","0",De(Ce),De(j),He(U+Ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},K=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var oe=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ue=n.__addimage__.sHashCode=function(j){var U,H,Ce=0;if(typeof j=="string")for(H=j.length,U=0;U<H;U++)Ce=(Ce<<5)-Ce+j.charCodeAt(U),Ce|=0;else if(ze(j))for(H=j.byteLength/2,U=0;U<H;U++)Ce=(Ce<<5)-Ce+j[U],Ce|=0;return Ce},pe=n.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var U=!0;return j.length===0&&(U=!1),j.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(U=!1),U},Ue=n.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var U=j.indexOf(",");return U<0?null:j.substring(0,U).trim().endsWith("base64")?j.substring(U+1):null};n.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var ze=n.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},Y=n.__addimage__.binaryStringToUint8Array=function(j){for(var U=j.length,H=new Uint8Array(U),Ce=0;Ce<U;Ce++)H[Ce]=j.charCodeAt(Ce);return H},G=n.__addimage__.arrayBufferToBinaryString=function(j){for(var U="",H=ze(j)?j:new Uint8Array(j),Ce=0;Ce<H.length;Ce+=8192)U+=String.fromCharCode.apply(null,H.subarray(Ce,Ce+8192));return U};n.addImage=function(){var j,U,H,Ce,xe,_e,Te,De,He;if(typeof arguments[1]=="number"?(U=t,H=arguments[1],Ce=arguments[2],xe=arguments[3],_e=arguments[4],Te=arguments[5],De=arguments[6],He=arguments[7]):(U=arguments[1],H=arguments[2],Ce=arguments[3],xe=arguments[4],_e=arguments[5],Te=arguments[6],De=arguments[7],He=arguments[8]),Jr(j=arguments[0])==="object"&&!L(j)&&"imageData"in j){var lt=j;j=lt.imageData,U=lt.format||U||t,H=lt.x||H||0,Ce=lt.y||Ce||0,xe=lt.w||lt.width||xe,_e=lt.h||lt.height||_e,Te=lt.alias||Te,De=lt.compression||De,He=lt.rotation||lt.angle||He}var de=this.internal.getFilters();if(De===void 0&&de.indexOf("FlateEncode")!==-1&&(De="SLOW"),isNaN(H)||isNaN(Ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");y.call(this);var q=P.call(this,j,U,Te,De);return $.call(this,H,Ce,xe,_e,q,He),this};var P=function(j,U,H,Ce){var xe,_e,Te;if(typeof j=="string"&&a(j)===t){j=unescape(j);var De=re(j,!1);(De!==""||(De=n.loadFile(j,!0))!==void 0)&&(j=De)}if(L(j)&&(j=R(j,U)),U=a(j,U),!T(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((Te=H)==null||Te.length===0)&&(H=(function(He){return typeof He=="string"||ze(He)?ue(He):ze(He.data)?ue(He.data):null})(j)),(xe=X.call(this,H))||(j instanceof Uint8Array||U==="RGBA"||(_e=j,j=Y(j)),xe=this["process"+U.toUpperCase()](j,b.call(this),H,(function(He){return He&&typeof He=="string"&&(He=He.toUpperCase()),He in n.image_compression?He:oe.NONE})(Ce),_e)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},re=n.__addimage__.convertBase64ToBinaryString=function(j,U){U=typeof U!="boolean"||U;var H,Ce="";if(typeof j=="string"){var xe;H=(xe=Ue(j))!==null&&xe!==void 0?xe:j;try{Ce=N1(H)}catch(_e){if(U)throw pe(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+_e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ce};n.getImageProperties=function(j){var U,H,Ce="";if(L(j)&&(j=R(j)),typeof j=="string"&&a(j)===t&&((Ce=re(j,!1))===""&&(Ce=n.loadFile(j)||""),j=Ce),H=a(j),!T(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(j instanceof Uint8Array||(j=Y(j)),!(U=this["process"+H.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=H,U}})(dn.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};dn.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,a,l,f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString,y=this.internal.getPageInfoByObjId(t.objId),m=t.pageContext.annotations,b=!1,T=0;T<m.length&&!b;T++)switch((r=m[T]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(b=!0);break;case"reference":case"text":case"freetext":b=!0}if(b!=0){this.internal.write("/Annots [");for(var L=0;L<m.length;L++){r=m[L];var R=this.internal.pdfEscape,X=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var W=this.internal.newAdditionalObject(),$=this.internal.newAdditionalObject(),K=this.internal.getEncryptor(W.objId),oe=r.title||"Note";l="<</Type /Annot /Subtype /Text "+(a="/Rect ["+f(r.bounds.x)+" "+g(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w)+" "+g(r.bounds.y)+"] ")+"/Contents ("+R(K(r.contents))+")",l+=" /Popup "+$.objId+" 0 R",l+=" /P "+y.objId+" 0 R",l+=" /T ("+R(K(oe))+") >>",W.content=l;var ue=W.objId+" 0 R";l="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+f(r.bounds.x+30)+" "+g(r.bounds.y+r.bounds.h)+" "+f(r.bounds.x+r.bounds.w+30)+" "+g(r.bounds.y)+"] ")+" /Parent "+ue,r.open&&(l+=" /Open true"),l+=" >>",$.content=l,this.internal.write(W.objId,"0 R",$.objId,"0 R");break;case"freetext":a="/Rect ["+f(r.bounds.x)+" "+g(r.bounds.y)+" "+f(r.bounds.x+r.bounds.w)+" "+g(r.bounds.y+r.bounds.h)+"] ";var pe=r.color||"#000000";l="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+R(X(r.contents))+")",l+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+pe+")",l+=" /Border [0 0 0]",l+=" >>",this.internal.write(l);break;case"link":if(r.options.name){var Ue=this.annotations._nameMap[r.options.name];r.options.pageNumber=Ue.page,r.options.top=Ue.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",l="",r.options.url)l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+R(X(r.options.url))+") >>";else if(r.options.pageNumber)switch(l="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":l+=" /Fit]";break;case"FitH":l+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,l+=" /FitV "+r.options.left+"]";break;default:var ze=g(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),l+=" /XYZ "+r.options.left+" "+ze+" "+r.options.zoom+"]"}l!=""&&(l+=" >>",this.internal.write(l))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,a,l,f){var g=this.internal.getCurrentPageInfo(),y=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;g.pageContext.annotations.push({finalBounds:{x:y(t),y:m(r),w:y(t+a),h:m(r+l)},options:f,type:"link"})},n.textWithLink=function(t,r,a,l){var f,g,y=this.getTextWidth(t),m=this.internal.getLineHeight()/this.internal.scaleFactor;if(l.maxWidth!==void 0){g=l.maxWidth;var b=this.splitTextToSize(t,g).length;f=Math.ceil(m*b)}else g=y,f=m;return this.text(t,r,a,l),a+=.2*m,l.align==="center"&&(r-=y/2),l.align==="right"&&(r-=y),this.link(r,a-m,g,f,l),y},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(dn.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var l=n.__arabicParser__.isInArabicSubstitutionA=function(W){return e[W.charCodeAt(0)]!==void 0},f=n.__arabicParser__.isArabicLetter=function(W){return typeof W=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(W)},g=n.__arabicParser__.isArabicEndLetter=function(W){return f(W)&&l(W)&&e[W.charCodeAt(0)].length<=2},y=n.__arabicParser__.isArabicAlfLetter=function(W){return f(W)&&a.indexOf(W.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(W){return f(W)&&l(W)&&e[W.charCodeAt(0)].length>=1};var m=n.__arabicParser__.arabicLetterHasFinalForm=function(W){return f(W)&&l(W)&&e[W.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(W){return f(W)&&l(W)&&e[W.charCodeAt(0)].length>=3};var b=n.__arabicParser__.arabicLetterHasMedialForm=function(W){return f(W)&&l(W)&&e[W.charCodeAt(0)].length==4},T=n.__arabicParser__.resolveLigatures=function(W){var $=0,K=t,oe="",ue=0;for($=0;$<W.length;$+=1)K[W.charCodeAt($)]!==void 0?(ue++,typeof(K=K[W.charCodeAt($)])=="number"&&(oe+=String.fromCharCode(K),K=t,ue=0),$===W.length-1&&(K=t,oe+=W.charAt($-(ue-1)),$-=ue-1,ue=0)):(K=t,oe+=W.charAt($-ue),$-=ue,ue=0);return oe};n.__arabicParser__.isArabicDiacritic=function(W){return W!==void 0&&r[W.charCodeAt(0)]!==void 0};var L=n.__arabicParser__.getCorrectForm=function(W,$,K){return f(W)?l(W)===!1?-1:!m(W)||!f($)&&!f(K)||!f(K)&&g($)||g(W)&&!f($)||g(W)&&y($)||g(W)&&g($)?0:b(W)&&f($)&&!g($)&&f(K)&&m(K)?3:g(W)||!f(K)?1:2:-1},R=function(W){var $=0,K=0,oe=0,ue="",pe="",Ue="",ze=(W=W||"").split("\\s+"),Y=[];for($=0;$<ze.length;$+=1){for(Y.push(""),K=0;K<ze[$].length;K+=1)ue=ze[$][K],pe=ze[$][K-1],Ue=ze[$][K+1],f(ue)?(oe=L(ue,pe,Ue),Y[$]+=oe!==-1?String.fromCharCode(e[ue.charCodeAt(0)][oe]):ue):Y[$]+=ue;Y[$]=T(Y[$])}return Y.join(" ")},X=n.__arabicParser__.processArabic=n.processArabic=function(){var W,$=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,K=[];if(Array.isArray($)){var oe=0;for(K=[],oe=0;oe<$.length;oe+=1)Array.isArray($[oe])?K.push([R($[oe][0]),$[oe][1],$[oe][2]]):K.push([R($[oe])]);W=K}else W=R($);return typeof arguments[0]=="string"?W:(arguments[0].text=W,arguments[0])};n.events.push(["preProcessText",X])})(dn.API),dn.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(g){t=g}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(g){r=isNaN(g)||Number.isInteger(g)===!1||g<0?150:g,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(g){a=isNaN(g)||Number.isInteger(g)===!1||g<0?300:g,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var l=[];Object.defineProperty(this,"childNodes",{get:function(){return l},set:function(g){l=g}});var f={};Object.defineProperty(this,"style",{get:function(){return f},set:function(g){f=g}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var a;if((t=t||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(dn.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new l,this.internal.__cell__.pages=1},l=function(){var y=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return y},set:function(W){y=W}});var m=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return m},set:function(W){m=W}});var b=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return b},set:function(W){b=W}});var T=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return T},set:function(W){T=W}});var L=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return L},set:function(W){L=W}});var R=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return R},set:function(W){R=W}});var X=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return X},set:function(W){X=W}}),this};l.prototype.clone=function(){return new l(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},l.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(y){return r.call(this),this.internal.__cell__.headerFunction=typeof y=="function"?y:void 0,this},n.getTextDimensions=function(y,m){r.call(this);var b=(m=m||{}).fontSize||this.getFontSize(),T=m.font||this.getFont(),L=m.scaleFactor||this.internal.scaleFactor,R=0,X=0,W=0,$=this;if(!Array.isArray(y)&&typeof y!="string"){if(typeof y!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");y=String(y)}var K=m.maxWidth;K>0?typeof y=="string"?y=this.splitTextToSize(y,K):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(ue,pe){return ue.concat($.splitTextToSize(pe,K))},[])):y=Array.isArray(y)?y:[y];for(var oe=0;oe<y.length;oe++)R<(W=this.getStringUnitWidth(y[oe],{font:T})*b)&&(R=W);return R!==0&&(X=y.length),{w:R/=L,h:Math.max((X*b*this.getLineHeightFactor()-b*(this.getLineHeightFactor()-1))/L,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var y=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new l(y.left,y.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var f=n.cell=function(){var y;y=arguments[0]instanceof l?arguments[0]:new l(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var m=this.internal.__cell__.lastCell,b=this.internal.__cell__.padding,T=this.internal.__cell__.margins||e,L=this.internal.__cell__.tableHeaderRow,R=this.internal.__cell__.printHeaders;return m.lineNumber!==void 0&&(m.lineNumber===y.lineNumber?(y.x=(m.x||0)+(m.width||0),y.y=m.y||0):m.y+m.height+y.height+T.bottom>this.getPageHeight()?(this.cellAddPage(),y.y=T.top,R&&L&&(this.printHeaderRow(y.lineNumber,!0),y.y+=L[0].height)):y.y=m.y+m.height||y.y),y.text[0]!==void 0&&(this.rect(y.x,y.y,y.width,y.height,t===!0?"FD":void 0),y.align==="right"?this.text(y.text,y.x+y.width-b,y.y+b,{align:"right",baseline:"top"}):y.align==="center"?this.text(y.text,y.x+y.width/2,y.y+b,{align:"center",baseline:"top",maxWidth:y.width-b-b}):this.text(y.text,y.x+b,y.y+b,{align:"left",baseline:"top",maxWidth:y.width-b-b})),this.internal.__cell__.lastCell=y,this};n.table=function(y,m,b,T,L){if(r.call(this),!b)throw new Error("No data for PDF table.");var R,X,W,$,K=[],oe=[],ue=[],pe={},Ue={},ze=[],Y=[],G=(L=L||{}).autoSize||!1,P=L.printHeaders!==!1,re=L.css&&L.css["font-size"]!==void 0?16*L.css["font-size"]:L.fontSize||12,j=L.margins||Object.assign({width:this.getPageWidth()},e),U=typeof L.padding=="number"?L.padding:3,H=L.headerBackgroundColor||"#c8c8c8",Ce=L.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=Ce,this.setFontSize(re),T==null)oe=K=Object.keys(b[0]),ue=K.map(function(){return"left"});else if(Array.isArray(T)&&Jr(T[0])==="object")for(K=T.map(function(lt){return lt.name}),oe=T.map(function(lt){return lt.prompt||lt.name||""}),ue=T.map(function(lt){return lt.align||"left"}),R=0;R<T.length;R+=1)Ue[T[R].name]=.7499990551181103*T[R].width;else Array.isArray(T)&&typeof T[0]=="string"&&(oe=K=T,ue=K.map(function(){return"left"}));if(G||Array.isArray(T)&&typeof T[0]=="string")for(R=0;R<K.length;R+=1){for(pe[$=K[R]]=b.map(function(lt){return lt[$]}),this.setFont(void 0,"bold"),ze.push(this.getTextDimensions(oe[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),X=pe[$],this.setFont(void 0,"normal"),W=0;W<X.length;W+=1)ze.push(this.getTextDimensions(X[W],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ue[$]=Math.max.apply(null,ze)+U+U,ze=[]}if(P){var xe={};for(R=0;R<K.length;R+=1)xe[K[R]]={},xe[K[R]].text=oe[R],xe[K[R]].align=ue[R];var _e=g.call(this,xe,Ue);Y=K.map(function(lt){return new l(y,m,Ue[lt],_e,xe[lt].text,void 0,xe[lt].align)}),this.setTableHeaderRow(Y),this.printHeaderRow(1,!1)}var Te=T.reduce(function(lt,de){return lt[de.name]=de.align,lt},{});for(R=0;R<b.length;R+=1){"rowStart"in L&&L.rowStart instanceof Function&&L.rowStart({row:R,data:b[R]},this);var De=g.call(this,b[R],Ue);for(W=0;W<K.length;W+=1){var He=b[R][K[W]];"cellStart"in L&&L.cellStart instanceof Function&&L.cellStart({row:R,col:W,data:He},this),f.call(this,new l(y,m,Ue[K[W]],De,He,R+2,Te[K[W]]))}}return this.internal.__cell__.table_x=y,this.internal.__cell__.table_y=m,this};var g=function(y,m){var b=this.internal.__cell__.padding,T=this.internal.__cell__.table_font_size,L=this.internal.scaleFactor;return Object.keys(y).map(function(R){var X=y[R];return this.splitTextToSize(X.hasOwnProperty("text")?X.text:X,m[R]-b-b)},this).map(function(R){return this.getLineHeightFactor()*R.length*T/L+b+b},this).reduce(function(R,X){return Math.max(R,X)},0)};n.setTableHeaderRow=function(y){r.call(this),this.internal.__cell__.tableHeaderRow=y},n.printHeaderRow=function(y,m){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var b;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var T=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new l(T[0],T[1],T[2],T[3],void 0,-1)}this.setFont(void 0,"bold");for(var L=[],R=0;R<this.internal.__cell__.tableHeaderRow.length;R+=1){b=this.internal.__cell__.tableHeaderRow[R].clone(),m&&(b.y=this.internal.__cell__.margins.top||0,L.push(b)),b.lineNumber=y;var X=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),f.call(this,b),this.setTextColor(X)}L.length>0&&this.setTableHeaderRow(L),this.setFont(void 0,"normal"),t=!1}})(dn.API);var DE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},LE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Um=OE(LE),kE=[100,200,300,400,500,600,700,800,900],Xk=OE(kE);function q2(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(l){return DE[l=l||"normal"]?l:"normal"})(n.style),r=(function(l){return l?typeof l=="number"?l>=100&&l<=900&&l%100==0?l:400:/^\d00$/.test(l)?parseInt(l):l==="bold"?700:400:400})(n.weight),a=(function(l){return typeof Um[l=l||"normal"]=="number"?l:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:e,style:[a,t,r].join(" ")}}}function y3(n,e,t,r){var a;for(a=t;a>=0&&a<e.length;a+=r)if(n[e[a]])return n[e[a]];for(a=t;a>=0&&a<e.length;a-=r)if(n[e[a]])return n[e[a]]}var Yk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v3={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b3(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function w3(n){return n.trimLeft()}function Kk(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Zk(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var zh,f1,_3,A3,E3,H2=["times"];function S3(n,e,t,r,a){var l=4,f=N3;switch(a){case dn.API.image_compression.FAST:l=1,f=C3;break;case dn.API.image_compression.MEDIUM:l=6,f=T3;break;case dn.API.image_compression.SLOW:l=9,f=I3}n=(function(y,m,b,T){for(var L,R=y.length/m,X=new Uint8Array(y.length+R),W=[Qk,C3,N3,T3,I3],$=0;$<R;$+=1){var K=$*m,oe=y.subarray(K,K+m);if(T)X.set(T(oe,b,L),K+$);else{for(var ue=W.length,pe=[],Ue=0;Ue<ue;Ue+=1)pe[Ue]=W[Ue](oe,b,L);var ze=$k(pe.concat());X.set(pe[ze],K+$)}L=oe}return X})(n,e,Math.ceil(t*r/8),f);var g=Lm(n,{level:l});return dn.API.__addimage__.arrayBufferToBinaryString(g)}function Qk(n){var e=Array.apply([],n);return e.unshift(0),e}function C3(n,e){var t=n.length,r=[];r[0]=1;for(var a=0;a<t;a+=1){var l=n[a-e]||0;r[a+1]=n[a]-l+256&255}return r}function N3(n,e,t){var r=n.length,a=[];a[0]=2;for(var l=0;l<r;l+=1){var f=t&&t[l]||0;a[l+1]=n[l]-f+256&255}return a}function T3(n,e,t){var r=n.length,a=[];a[0]=3;for(var l=0;l<r;l+=1){var f=n[l-e]||0,g=t&&t[l]||0;a[l+1]=n[l]+256-(f+g>>>1)&255}return a}function I3(n,e,t){var r=n.length,a=[];a[0]=4;for(var l=0;l<r;l+=1){var f=Jk(n[l-e]||0,t&&t[l]||0,t&&t[l-e]||0);a[l+1]=n[l]-f+256&255}return a}function Jk(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),a=Math.abs(n-t),l=Math.abs(n+e-t-t);return r<=a&&r<=l?n:a<=l?e:t}function $k(n){var e=n.map(function(t){return t.reduce(function(r,a){return r+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function G2(n,e,t){var r=e*t,a=Math.floor(r/8),l=16-(r-8*a+t),f=(1<<t)-1;return ME(n,a)>>l&f}function R3(n,e,t,r){var a=t*r,l=Math.floor(a/8),f=16-(a-8*l+r),g=(1<<r)-1,y=(e&g)<<f;(function(m,b,T){if(b+1<m.byteLength)m.setUint16(b,T,!1);else{var L=T>>8&255;m.setUint8(b,L)}})(n,l,ME(n,l)&~(g<<f)&65535|y)}function ME(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function eM(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,a=n[e++],l=a>>7,f=1<<1+(7&a);n[e++],n[e++];var g=null,y=null;l&&(g=e,y=f,e+=3*f);var m=!0,b=[],T=0,L=null,R=0,X=null;for(this.width=t,this.height=r;m&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,X=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var W=n[e++];T=n[e++]|n[e++]<<8,L=n[e++],1&W||(L=null),R=W>>2&7,e++;break;case 254:for(;;){if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var $=n[e++]|n[e++]<<8,K=n[e++]|n[e++]<<8,oe=n[e++]|n[e++]<<8,ue=n[e++]|n[e++]<<8,pe=n[e++],Ue=pe>>6&1,ze=1<<1+(7&pe),Y=g,G=y,P=!1;pe>>7&&(P=!0,Y=e,G=ze,e+=3*ze);var re=e;for(e++;;){var j;if(!((j=n[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}b.push({x:$,y:K,width:oe,height:ue,has_local_palette:P,palette_offset:Y,palette_size:G,data_offset:re,data_length:e-re,transparent_index:L,interlaced:!!Ue,delay:T,disposal:R});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return b.length},this.loopCount=function(){return X},this.frameInfo=function(U){if(U<0||U>=b.length)throw new Error("Frame index out of range.");return b[U]},this.decodeAndBlitFrameBGRA=function(U,H){var Ce=this.frameInfo(U),xe=Ce.width*Ce.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var _e=new Uint8Array(xe);O3(n,Ce.data_offset,_e,xe);var Te=Ce.palette_offset,De=Ce.transparent_index;De===null&&(De=256);var He=Ce.width,lt=t-He,de=He,q=4*(Ce.y*t+Ce.x),le=4*((Ce.y+Ce.height)*t+Ce.x),ee=q,ye=4*lt;Ce.interlaced===!0&&(ye+=4*t*7);for(var me=8,Pe=0,Ie=_e.length;Pe<Ie;++Pe){var Fe=_e[Pe];if(de===0&&(de=He,(ee+=ye)>=le&&(ye=4*lt+4*t*(me-1),ee=q+(He+lt)*(me<<1),me>>=1)),Fe===De)ee+=4;else{var Ne=n[Te+3*Fe],Qe=n[Te+3*Fe+1],Oe=n[Te+3*Fe+2];H[ee++]=Oe,H[ee++]=Qe,H[ee++]=Ne,H[ee++]=255}--de}},this.decodeAndBlitFrameRGBA=function(U,H){var Ce=this.frameInfo(U),xe=Ce.width*Ce.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var _e=new Uint8Array(xe);O3(n,Ce.data_offset,_e,xe);var Te=Ce.palette_offset,De=Ce.transparent_index;De===null&&(De=256);var He=Ce.width,lt=t-He,de=He,q=4*(Ce.y*t+Ce.x),le=4*((Ce.y+Ce.height)*t+Ce.x),ee=q,ye=4*lt;Ce.interlaced===!0&&(ye+=4*t*7);for(var me=8,Pe=0,Ie=_e.length;Pe<Ie;++Pe){var Fe=_e[Pe];if(de===0&&(de=He,(ee+=ye)>=le&&(ye=4*lt+4*t*(me-1),ee=q+(He+lt)*(me<<1),me>>=1)),Fe===De)ee+=4;else{var Ne=n[Te+3*Fe],Qe=n[Te+3*Fe+1],Oe=n[Te+3*Fe+2];H[ee++]=Ne,H[ee++]=Qe,H[ee++]=Oe,H[ee++]=255}--de}}}function O3(n,e,t,r){for(var a=n[e++],l=1<<a,f=l+1,g=f+1,y=a+1,m=(1<<y)-1,b=0,T=0,L=0,R=n[e++],X=new Int32Array(4096),W=null;;){for(;b<16&&R!==0;)T|=n[e++]<<b,b+=8,R===1?R=n[e++]:--R;if(b<y)break;var $=T&m;if(T>>=y,b-=y,$!==l){if($===f)break;for(var K=$<g?$:W,oe=0,ue=K;ue>l;)ue=X[ue]>>8,++oe;var pe=ue;if(L+oe+(K!==$?1:0)>r)return void di.log("Warning, gif stream longer than expected.");t[L++]=pe;var Ue=L+=oe;for(K!==$&&(t[L++]=pe),ue=K;oe--;)ue=X[ue],t[--Ue]=255&ue,ue>>=8;W!==null&&g<4096&&(X[g++]=W<<8|pe,g>=m+1&&y<12&&(++y,m=m<<1|1)),W=$}else g=f+1,m=(1<<(y=a+1))-1,W=null}return L!==r&&di.log("Warning, gif stream shorter than expected."),t}function W2(n){var e,t,r,a,l,f=Math.floor,g=new Array(64),y=new Array(64),m=new Array(64),b=new Array(64),T=new Array(65535),L=new Array(65535),R=new Array(64),X=new Array(64),W=[],$=0,K=7,oe=new Array(64),ue=new Array(64),pe=new Array(64),Ue=new Array(256),ze=new Array(2048),Y=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],Ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function _e(q,le){for(var ee=0,ye=0,me=new Array,Pe=1;Pe<=16;Pe++){for(var Ie=1;Ie<=q[Pe];Ie++)me[le[ye]]=[],me[le[ye]][0]=ee,me[le[ye]][1]=Pe,ye++,ee++;ee*=2}return me}function Te(q){for(var le=q[0],ee=q[1]-1;ee>=0;)le&1<<ee&&($|=1<<K),ee--,--K<0&&($==255?(De(255),De(0)):De($),K=7,$=0)}function De(q){W.push(q)}function He(q){De(q>>8&255),De(255&q)}function lt(q,le,ee,ye,me){for(var Pe,Ie=me[0],Fe=me[240],Ne=(function(Ae,ht){var Ye,Dt,kt,Ut,Sn,Kt,pn,gn,Vt,kn,Qt=0;for(Vt=0;Vt<8;++Vt){Ye=Ae[Qt],Dt=Ae[Qt+1],kt=Ae[Qt+2],Ut=Ae[Qt+3],Sn=Ae[Qt+4],Kt=Ae[Qt+5],pn=Ae[Qt+6];var $r=Ye+(gn=Ae[Qt+7]),en=Ye-gn,ut=Dt+pn,Gt=Dt-pn,qt=kt+Kt,Bt=kt-Kt,ar=Ut+Sn,bn=Ut-Sn,An=$r+ar,rn=$r-ar,Jt=ut+qt,sn=ut-qt;Ae[Qt]=An+Jt,Ae[Qt+4]=An-Jt;var Hn=.707106781*(sn+rn);Ae[Qt+2]=rn+Hn,Ae[Qt+6]=rn-Hn;var Br=.382683433*((An=bn+Bt)-(sn=Gt+en)),Ni=.5411961*An+Br,Fr=1.306562965*sn+Br,ei=.707106781*(Jt=Bt+Gt),ln=en+ei,Ti=en-ei;Ae[Qt+5]=Ti+Ni,Ae[Qt+3]=Ti-Ni,Ae[Qt+1]=ln+Fr,Ae[Qt+7]=ln-Fr,Qt+=8}for(Qt=0,Vt=0;Vt<8;++Vt){Ye=Ae[Qt],Dt=Ae[Qt+8],kt=Ae[Qt+16],Ut=Ae[Qt+24],Sn=Ae[Qt+32],Kt=Ae[Qt+40],pn=Ae[Qt+48];var zs=Ye+(gn=Ae[Qt+56]),pi=Ye-gn,Ki=Dt+pn,Vn=Dt-pn,dr=kt+Kt,Ar=kt-Kt,Mt=Ut+Sn,ci=Ut-Sn,pr=zs+Mt,Gn=zs-Mt,Wr=Ki+dr,Bi=Ki-dr;Ae[Qt]=pr+Wr,Ae[Qt+32]=pr-Wr;var fs=.707106781*(Bi+Gn);Ae[Qt+16]=Gn+fs,Ae[Qt+48]=Gn-fs;var Fi=.382683433*((pr=ci+Ar)-(Bi=Vn+pi)),pa=.5411961*pr+Fi,Cs=1.306562965*Bi+Fi,Ii=.707106781*(Wr=Ar+Vn),Lr=pi+Ii,Wn=pi-Ii;Ae[Qt+40]=Wn+pa,Ae[Qt+24]=Wn-pa,Ae[Qt+8]=Lr+Cs,Ae[Qt+56]=Lr-Cs,Qt++}for(Vt=0;Vt<64;++Vt)kn=Ae[Vt]*ht[Vt],R[Vt]=kn>0?kn+.5|0:kn-.5|0;return R})(q,le),Qe=0;Qe<64;++Qe)X[Y[Qe]]=Ne[Qe];var Oe=X[0]-ee;ee=X[0],Oe==0?Te(ye[0]):(Te(ye[L[Pe=32767+Oe]]),Te(T[Pe]));for(var Ge=63;Ge>0&&X[Ge]==0;)Ge--;if(Ge==0)return Te(Ie),ee;for(var vt,ae=1;ae<=Ge;){for(var It=ae;X[ae]==0&&ae<=Ge;)++ae;var Lt=ae-It;if(Lt>=16){vt=Lt>>4;for(var Tt=1;Tt<=vt;++Tt)Te(Fe);Lt&=15}Pe=32767+X[ae],Te(me[(Lt<<4)+L[Pe]]),Te(T[Pe]),ae++}return Ge!=63&&Te(Ie),ee}function de(q){q=Math.min(Math.max(q,1),100),l!=q&&((function(le){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ye=0;ye<64;ye++){var me=f((ee[ye]*le+50)/100);me=Math.min(Math.max(me,1),255),g[Y[ye]]=me}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var Fe=f((Pe[Ie]*le+50)/100);Fe=Math.min(Math.max(Fe,1),255),y[Y[Ie]]=Fe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Qe=0,Oe=0;Oe<8;Oe++)for(var Ge=0;Ge<8;Ge++)m[Qe]=1/(g[Y[Qe]]*Ne[Oe]*Ne[Ge]*8),b[Qe]=1/(y[Y[Qe]]*Ne[Oe]*Ne[Ge]*8),Qe++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),l=q)}this.encode=function(q,le){le&&de(le),W=new Array,$=0,K=7,He(65496),He(65504),He(16),De(74),De(70),De(73),De(70),De(0),De(1),De(1),De(0),He(1),He(1),De(0),De(0),(function(){He(65499),He(132),De(0);for(var Dt=0;Dt<64;Dt++)De(g[Dt]);De(1);for(var kt=0;kt<64;kt++)De(y[kt])})(),(function(Dt,kt){He(65472),He(17),De(8),He(kt),He(Dt),De(3),De(1),De(17),De(0),De(2),De(17),De(1),De(3),De(17),De(1)})(q.width,q.height),(function(){He(65476),He(418),De(0);for(var Dt=0;Dt<16;Dt++)De(G[Dt+1]);for(var kt=0;kt<=11;kt++)De(P[kt]);De(16);for(var Ut=0;Ut<16;Ut++)De(re[Ut+1]);for(var Sn=0;Sn<=161;Sn++)De(j[Sn]);De(1);for(var Kt=0;Kt<16;Kt++)De(U[Kt+1]);for(var pn=0;pn<=11;pn++)De(H[pn]);De(17);for(var gn=0;gn<16;gn++)De(Ce[gn+1]);for(var Vt=0;Vt<=161;Vt++)De(xe[Vt])})(),He(65498),He(12),De(3),De(1),De(0),De(2),De(17),De(3),De(17),De(0),De(63),De(0);var ee=0,ye=0,me=0;$=0,K=7,this.encode.displayName="_encode_";for(var Pe,Ie,Fe,Ne,Qe,Oe,Ge,vt,ae,It=q.data,Lt=q.width,Tt=q.height,Ae=4*Lt,ht=0;ht<Tt;){for(Pe=0;Pe<Ae;){for(Qe=Ae*ht+Pe,Ge=-1,vt=0,ae=0;ae<64;ae++)Oe=Qe+(vt=ae>>3)*Ae+(Ge=4*(7&ae)),ht+vt>=Tt&&(Oe-=Ae*(ht+1+vt-Tt)),Pe+Ge>=Ae&&(Oe-=Pe+Ge-Ae+4),Ie=It[Oe++],Fe=It[Oe++],Ne=It[Oe++],oe[ae]=(ze[Ie]+ze[Fe+256|0]+ze[Ne+512|0]>>16)-128,ue[ae]=(ze[Ie+768|0]+ze[Fe+1024|0]+ze[Ne+1280|0]>>16)-128,pe[ae]=(ze[Ie+1280|0]+ze[Fe+1536|0]+ze[Ne+1792|0]>>16)-128;ee=lt(oe,m,ee,e,r),ye=lt(ue,b,ye,t,a),me=lt(pe,b,me,t,a),Pe+=32}ht+=8}if(K>=0){var Ye=[];Ye[1]=K+1,Ye[0]=(1<<K+1)-1,Te(Ye)}return He(65497),new Uint8Array(W)},n=n||50,(function(){for(var q=String.fromCharCode,le=0;le<256;le++)Ue[le]=q(le)})(),e=_e(G,P),t=_e(U,H),r=_e(re,j),a=_e(Ce,xe),(function(){for(var q=1,le=2,ee=1;ee<=15;ee++){for(var ye=q;ye<le;ye++)L[32767+ye]=ee,T[32767+ye]=[],T[32767+ye][1]=ee,T[32767+ye][0]=ye;for(var me=-(le-1);me<=-q;me++)L[32767+me]=ee,T[32767+me]=[],T[32767+me][1]=ee,T[32767+me][0]=le-1+me;q<<=1,le<<=1}})(),(function(){for(var q=0;q<256;q++)ze[q]=19595*q,ze[q+256|0]=38470*q,ze[q+512|0]=7471*q+32768,ze[q+768|0]=-11059*q,ze[q+1024|0]=-21709*q,ze[q+1280|0]=32768*q+8421375,ze[q+1536|0]=-27439*q,ze[q+1792|0]=-5329*q})(),de(n)}function el(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D3(n){function e(P){if(!P)throw Error("assert :P")}function t(P,re,j){for(var U=0;4>U;U++)if(P[re+U]!=j.charCodeAt(U))return!0;return!1}function r(P,re,j,U,H){for(var Ce=0;Ce<H;Ce++)P[re+Ce]=j[U+Ce]}function a(P,re,j,U){for(var H=0;H<U;H++)P[re+H]=j}function l(P){return new Int32Array(P)}function f(P,re){for(var j=[],U=0;U<P;U++)j.push(new re);return j}function g(P,re){var j=[];return(function U(H,Ce,xe){for(var _e=xe[Ce],Te=0;Te<_e&&(H.push(xe.length>Ce+1?[]:new re),!(xe.length<Ce+1));Te++)U(H[Te],Ce+1,xe)})(j,0,P),j}var y=function(){var P=this;function re(_,C){for(var k=1<<C-1>>>0;_&k;)k>>>=1;return k?(_&k-1)+k:_}function j(_,C,k,F,te){e(!(F%k));do _[C+(F-=k)]=te;while(0<F)}function U(_,C,k,F,te){if(e(2328>=te),512>=te)var ie=l(512);else if((ie=l(te))==null)return 0;return(function(se,fe,ge,Se,Be,tt){var Ee,qe,Je=fe,dt=1<<ge,et=l(16),ft=l(16);for(e(Be!=0),e(Se!=null),e(se!=null),e(0<ge),qe=0;qe<Be;++qe){if(15<Se[qe])return 0;++et[Se[qe]]}if(et[0]==Be)return 0;for(ft[1]=0,Ee=1;15>Ee;++Ee){if(et[Ee]>1<<Ee)return 0;ft[Ee+1]=ft[Ee]+et[Ee]}for(qe=0;qe<Be;++qe)Ee=Se[qe],0<Se[qe]&&(tt[ft[Ee]++]=qe);if(ft[15]==1)return(Se=new H).g=0,Se.value=tt[0],j(se,Je,1,dt,Se),dt;var bt,Ot=-1,Ct=dt-1,an=0,Xt=1,jn=1,tn=1<<ge;for(qe=0,Ee=1,Be=2;Ee<=ge;++Ee,Be<<=1){if(Xt+=jn<<=1,0>(jn-=et[Ee]))return 0;for(;0<et[Ee];--et[Ee])(Se=new H).g=Ee,Se.value=tt[qe++],j(se,Je+an,Be,tn,Se),an=re(an,Ee)}for(Ee=ge+1,Be=2;15>=Ee;++Ee,Be<<=1){if(Xt+=jn<<=1,0>(jn-=et[Ee]))return 0;for(;0<et[Ee];--et[Ee]){if(Se=new H,(an&Ct)!=Ot){for(Je+=tn,bt=1<<(Ot=Ee)-ge;15>Ot&&!(0>=(bt-=et[Ot]));)++Ot,bt<<=1;dt+=tn=1<<(bt=Ot-ge),se[fe+(Ot=an&Ct)].g=bt+ge,se[fe+Ot].value=Je-fe-Ot}Se.g=Ee-ge,Se.value=tt[qe++],j(se,Je+(an>>ge),Be,tn,Se),an=re(an,Ee)}}return Xt!=2*ft[15]-1?0:dt})(_,C,k,F,te,ie)}function H(){this.value=this.g=0}function Ce(){this.value=this.g=0}function xe(){this.G=f(5,H),this.H=l(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=f(xs,Ce)}function _e(_,C,k,F){e(_!=null),e(C!=null),e(2147483648>F),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=k,_.Jd=C,_.Yc=k+F,_.Zc=4<=F?k+F-4+1:k,Ie(_)}function Te(_,C){for(var k=0;0<C--;)k|=Ne(_,128)<<C;return k}function De(_,C){var k=Te(_,C);return Fe(_)?-k:k}function He(_,C,k,F){var te,ie=0;for(e(_!=null),e(C!=null),e(4294967288>F),_.Sb=F,_.Ra=0,_.u=0,_.h=0,4<F&&(F=4),te=0;te<F;++te)ie+=C[k+te]<<8*te;_.Ra=ie,_.bb=F,_.oa=C,_.pa=k}function lt(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<ia-8>>>0,++_.bb,_.u-=8;ye(_)&&(_.h=1,_.u=0)}function de(_,C){if(e(0<=C),!_.h&&C<=ys){var k=ee(_)&ra[C];return _.u+=C,lt(_),k}return _.h=1,_.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function le(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(_){return _.Ra>>>(_.u&ia-1)>>>0}function ye(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>ia}function me(_,C){_.u=C,_.h=ye(_)}function Pe(_){_.u>=Fn&&(e(_.u>=Fn),lt(_))}function Ie(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function Fe(_){return Te(_,1)}function Ne(_,C){var k=_.Ca;0>_.b&&Ie(_);var F=_.b,te=k*C>>>8,ie=(_.I>>>F>te)+0;for(ie?(k-=te,_.I-=te+1<<F>>>0):k=te+1,F=k,te=0;256<=F;)te+=8,F>>=8;return F=7^te+Da[F],_.b-=F,_.Ca=(k<<F)-1,ie}function Qe(_,C,k){_[C+0]=k>>24&255,_[C+1]=k>>16&255,_[C+2]=k>>8&255,_[C+3]=255&k}function Oe(_,C){return _[C+0]|_[C+1]<<8}function Ge(_,C){return Oe(_,C)|_[C+2]<<16}function vt(_,C){return Oe(_,C)|Oe(_,C+2)<<16}function ae(_,C){var k=1<<C;return e(_!=null),e(0<C),_.X=l(k),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function It(_,C){e(_!=null),e(C!=null),e(_.Xa==C.Xa),r(C.X,0,_.X,0,1<<C.Xa)}function Lt(){this.X=[],this.Xa=this.Mb=0}function Tt(_,C,k,F){e(k!=null),e(F!=null);var te=k[0],ie=F[0];return te==0&&(te=(_*ie+C/2)/C),ie==0&&(ie=(C*te+_/2)/_),0>=te||0>=ie?0:(k[0]=te,F[0]=ie,1)}function Ae(_,C){return _+(1<<C)-1>>>C}function ht(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function Ye(_,C){P[C]=function(k,F,te,ie,se,fe,ge){var Se;for(Se=0;Se<se;++Se){var Be=P[_](fe[ge+Se-1],te,ie+Se);fe[ge+Se]=ht(k[F+Se],Be)}}}function Dt(){this.ud=this.hd=this.jd=0}function kt(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Ut(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Sn(_,C){return Ut(_+(_-C+.5>>1))}function Kt(_,C,k){return Math.abs(C-k)-Math.abs(_-k)}function pn(_,C,k,F,te,ie,se){for(F=ie[se-1],k=0;k<te;++k)ie[se+k]=F=ht(_[C+k],F)}function gn(_,C,k,F,te){var ie;for(ie=0;ie<k;++ie){var se=_[C+ie],fe=se>>8&255,ge=16711935&(ge=(ge=16711935&se)+((fe<<16)+fe));F[te+ie]=(4278255360&se)+ge>>>0}}function Vt(_,C){C.jd=255&_,C.hd=_>>8&255,C.ud=_>>16&255}function kn(_,C,k,F,te,ie){var se;for(se=0;se<F;++se){var fe=C[k+se],ge=fe>>>8,Se=fe,Be=255&(Be=(Be=fe>>>16)+((_.jd<<24>>24)*(ge<<24>>24)>>>5));Se=255&(Se=(Se+=(_.hd<<24>>24)*(ge<<24>>24)>>>5)+((_.ud<<24>>24)*(Be<<24>>24)>>>5)),te[ie+se]=(4278255360&fe)+(Be<<16)+Se}}function Qt(_,C,k,F,te){P[C]=function(ie,se,fe,ge,Se,Be,tt,Ee,qe){for(ge=tt;ge<Ee;++ge)for(tt=0;tt<qe;++tt)Se[Be++]=te(fe[F(ie[se++])])},P[_]=function(ie,se,fe,ge,Se,Be,tt){var Ee=8>>ie.b,qe=ie.Ea,Je=ie.K[0],dt=ie.w;if(8>Ee)for(ie=(1<<ie.b)-1,dt=(1<<Ee)-1;se<fe;++se){var et,ft=0;for(et=0;et<qe;++et)et&ie||(ft=F(ge[Se++])),Be[tt++]=te(Je[ft&dt]),ft>>=Ee}else P["VP8LMapColor"+k](ge,Se,Je,dt,Be,tt,se,fe,qe)}}function $r(_,C,k,F,te){for(k=C+k;C<k;){var ie=_[C++];F[te++]=ie>>16&255,F[te++]=ie>>8&255,F[te++]=255&ie}}function en(_,C,k,F,te){for(k=C+k;C<k;){var ie=_[C++];F[te++]=ie>>16&255,F[te++]=ie>>8&255,F[te++]=255&ie,F[te++]=ie>>24&255}}function ut(_,C,k,F,te){for(k=C+k;C<k;){var ie=(se=_[C++])>>16&240|se>>12&15,se=240&se|se>>28&15;F[te++]=ie,F[te++]=se}}function Gt(_,C,k,F,te){for(k=C+k;C<k;){var ie=(se=_[C++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;F[te++]=ie,F[te++]=se}}function qt(_,C,k,F,te){for(k=C+k;C<k;){var ie=_[C++];F[te++]=255&ie,F[te++]=ie>>8&255,F[te++]=ie>>16&255}}function Bt(_,C,k,F,te,ie){if(ie==0)for(k=C+k;C<k;)Qe(F,((ie=_[C++])[0]>>24|ie[1]>>8&65280|ie[2]<<8&16711680|ie[3]<<24)>>>0),te+=32;else r(F,te,_,C,k)}function ar(_,C){P[C][0]=P[_+"0"],P[C][1]=P[_+"1"],P[C][2]=P[_+"2"],P[C][3]=P[_+"3"],P[C][4]=P[_+"4"],P[C][5]=P[_+"5"],P[C][6]=P[_+"6"],P[C][7]=P[_+"7"],P[C][8]=P[_+"8"],P[C][9]=P[_+"9"],P[C][10]=P[_+"10"],P[C][11]=P[_+"11"],P[C][12]=P[_+"12"],P[C][13]=P[_+"13"],P[C][14]=P[_+"0"],P[C][15]=P[_+"0"]}function bn(_){return _==Su||_==hh||_==Ac||_==fh}function An(){this.eb=[],this.size=this.A=this.fb=0}function rn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new An,this.f.kb=new rn,this.sd=null}function sn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Br(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Ni(_,C){var k=_.T,F=C.ba.f.RGBA,te=F.eb,ie=F.fb+_.ka*F.A,se=Ys[C.ba.S],fe=_.y,ge=_.O,Se=_.f,Be=_.N,tt=_.ea,Ee=_.W,qe=C.cc,Je=C.dc,dt=C.Mc,et=C.Nc,ft=_.ka,bt=_.ka+_.T,Ot=_.U,Ct=Ot+1>>1;for(ft==0?se(fe,ge,null,null,Se,Be,tt,Ee,Se,Be,tt,Ee,te,ie,null,null,Ot):(se(C.ec,C.fc,fe,ge,qe,Je,dt,et,Se,Be,tt,Ee,te,ie-F.A,te,ie,Ot),++k);ft+2<bt;ft+=2)qe=Se,Je=Be,dt=tt,et=Ee,Be+=_.Rc,Ee+=_.Rc,ie+=2*F.A,se(fe,(ge+=2*_.fa)-_.fa,fe,ge,qe,Je,dt,et,Se,Be,tt,Ee,te,ie-F.A,te,ie,Ot);return ge+=_.fa,_.j+bt<_.o?(r(C.ec,C.fc,fe,ge,Ot),r(C.cc,C.dc,Se,Be,Ct),r(C.Mc,C.Nc,tt,Ee,Ct),k--):1&bt||se(fe,ge,null,null,Se,Be,tt,Ee,Se,Be,tt,Ee,te,ie+F.A,null,null,Ot),k}function Fr(_,C,k){var F=_.F,te=[_.J];if(F!=null){var ie=_.U,se=C.ba.S,fe=se==Eu||se==Ac;C=C.ba.f.RGBA;var ge=[0],Se=_.ka;ge[0]=_.T,_.Kb&&(Se==0?--ge[0]:(--Se,te[0]-=_.width),_.j+_.ka+_.T==_.o&&(ge[0]=_.o-_.j-Se));var Be=C.eb;Se=C.fb+Se*C.A,_=bu(F,te[0],_.width,ie,ge,Be,Se+(fe?0:3),C.A),e(k==ge),_&&bn(se)&&Go(Be,Se,fe,ie,ge,C.A)}return 0}function ei(_){var C=_.ma,k=C.ba.S,F=11>k,te=k==oa||k==eo||k==Eu||k==_c||k==12||bn(k);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Xa(C.Oa,_,te?11:12))return 0;if(te&&bn(k)&&Rn(),_.da)alert("todo:use_scaling");else{if(F){if(C.Ib=Br,_.Kb){if(k=_.U+1>>1,C.memory=l(_.U+2*k),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+k,C.Ib=Ni,Rn()}}else alert("todo:EmitYUV");te&&(C.Jb=Fr,F&&it())}if(F&&!ml){for(_=0;256>_;++_)Ks[_]=89858*(_-128)+Cc>>ao,Wp[_]=-22014*(_-128)+Cc,u0[_]=-45773*(_-128),xh[_]=113618*(_-128)+Cc>>ao;for(_=Ul;_<gl;++_)C=76283*(_-16)+Cc>>ao,Xp[_-Ul]=ds(C,255),Yp[_-Ul]=ds(C+8>>4,15);ml=1}return 1}function ln(_){var C=_.ma,k=_.U,F=_.T;return e(!(1&_.ka)),0>=k||0>=F?0:(k=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,k),C.Dc+=k,1)}function Ti(_){_.ma.memory=null}function zs(_,C,k,F){return de(_,8)!=47?0:(C[0]=de(_,14)+1,k[0]=de(_,14)+1,F[0]=de(_,1),de(_,3)!=0?0:!_.h)}function pi(_,C){if(4>_)return _+1;var k=_-2>>1;return(2+(1&_)<<k)+de(C,k)+1}function Ki(_,C){return 120<C?C-120:1<=(k=((k=no[C-1])>>4)*_+(8-(15&k)))?k:1;var k}function Vn(_,C,k){var F=ee(k),te=_[C+=255&F].g-8;return 0<te&&(me(k,k.u+8),F=ee(k),C+=_[C].value,C+=F&(1<<te)-1),me(k,k.u+_[C].g),_[C].value}function dr(_,C,k){return k.g+=_.g,k.value+=_.value<<C>>>0,e(8>=k.g),_.g}function Ar(_,C,k){var F=_.xc;return e((C=F==0?0:_.vc[_.md*(k>>F)+(C>>F)])<_.Wb),_.Ya[C]}function Mt(_,C,k,F){var te=_.ab,ie=_.c*C,se=_.C;C=se+C;var fe=k,ge=F;for(F=_.Ta,k=_.Ua;0<te--;){var Se=_.gc[te],Be=se,tt=C,Ee=fe,qe=ge,Je=(ge=F,fe=k,Se.Ea);switch(e(Be<tt),e(tt<=Se.nc),Se.hc){case 2:c(Ee,qe,(tt-Be)*Je,ge,fe);break;case 0:var dt=Be,et=tt,ft=ge,bt=fe,Ot=(tn=Se).Ea;dt==0&&(Q(Ee,qe,null,null,1,ft,bt),pn(Ee,qe+1,0,0,Ot-1,ft,bt+1),qe+=Ot,bt+=Ot,++dt);for(var Ct=1<<tn.b,an=Ct-1,Xt=Ae(Ot,tn.b),jn=tn.K,tn=tn.w+(dt>>tn.b)*Xt;dt<et;){var cr=jn,hi=tn,Yn=1;for(s(Ee,qe,ft,bt-Ot,1,ft,bt);Yn<Ot;){var Yt=(Yn&~an)+Ct;Yt>Ot&&(Yt=Ot),(0,A[cr[hi++]>>8&15])(Ee,qe+ +Yn,ft,bt+Yn-Ot,Yt-Yn,ft,bt+Yn),Yn=Yt}qe+=Ot,bt+=Ot,++dt&an||(tn+=Xt)}tt!=Se.nc&&r(ge,fe-Je,ge,fe+(tt-Be-1)*Je,Je);break;case 1:for(Je=Ee,et=qe,Ot=(Ee=Se.Ea)-(bt=Ee&~(ft=(qe=1<<Se.b)-1)),dt=Ae(Ee,Se.b),Ct=Se.K,Se=Se.w+(Be>>Se.b)*dt;Be<tt;){for(an=Ct,Xt=Se,jn=new Dt,tn=et+bt,cr=et+Ee;et<tn;)Vt(an[Xt++],jn),N(jn,Je,et,qe,ge,fe),et+=qe,fe+=qe;et<cr&&(Vt(an[Xt++],jn),N(jn,Je,et,Ot,ge,fe),et+=Ot,fe+=Ot),++Be&ft||(Se+=dt)}break;case 3:if(Ee==ge&&qe==fe&&0<Se.b){for(et=ge,Ee=Je=fe+(tt-Be)*Je-(bt=(tt-Be)*Ae(Se.Ea,Se.b)),qe=ge,ft=fe,dt=[],bt=(Ot=bt)-1;0<=bt;--bt)dt[bt]=qe[ft+bt];for(bt=Ot-1;0<=bt;--bt)et[Ee+bt]=dt[bt];u(Se,Be,tt,ge,Je,ge,fe)}else u(Se,Be,tt,Ee,qe,ge,fe)}fe=F,ge=k}ge!=k&&r(F,k,fe,ge,ie)}function ci(_,C){var k=_.V,F=_.Ba+_.c*_.C,te=C-_.C;if(e(C<=_.l.o),e(16>=te),0<te){var ie=_.l,se=_.Ta,fe=_.Ua,ge=ie.width;if(Mt(_,te,k,F),te=fe=[fe],e((k=_.C)<(F=C)),e(ie.v<ie.va),F>ie.o&&(F=ie.o),k<ie.j){var Se=ie.j-k;k=ie.j,te[0]+=Se*ge}if(k>=F?k=0:(te[0]+=4*ie.v,ie.ka=k-ie.j,ie.U=ie.va-ie.v,ie.T=F-k,k=1),k){if(fe=fe[0],11>(k=_.ca).S){var Be=k.f.RGBA,tt=(F=k.S,te=ie.U,ie=ie.T,Se=Be.eb,Be.A),Ee=ie;for(Be=Be.fb+_.Ma*Be.A;0<Ee--;){var qe=se,Je=fe,dt=te,et=Se,ft=Be;switch(F){case ch:D(qe,Je,dt,et,ft);break;case oa:B(qe,Je,dt,et,ft);break;case Su:B(qe,Je,dt,et,ft),Go(et,ft,0,dt,1,0);break;case uh:be(qe,Je,dt,et,ft);break;case eo:Bt(qe,Je,dt,et,ft,1);break;case hh:Bt(qe,Je,dt,et,ft,1),Go(et,ft,0,dt,1,0);break;case Eu:Bt(qe,Je,dt,et,ft,0);break;case Ac:Bt(qe,Je,dt,et,ft,0),Go(et,ft,1,dt,1,0);break;case _c:J(qe,Je,dt,et,ft);break;case fh:J(qe,Je,dt,et,ft),$a(et,ft,dt,1,0);break;case ul:ne(qe,Je,dt,et,ft);break;default:e(0)}fe+=ge,Be+=tt}_.Ma+=ie}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=k.height)}}_.C=C,e(_.C<=_.i)}function pr(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var k=_.Ya[C].G,F=_.Ya[C].H;if(0<k[1][F[1]+0].g||0<k[2][F[2]+0].g||0<k[3][F[3]+0].g)return 0}return 1}function Gn(_,C,k,F,te,ie){if(_.Z!=0){var se=_.qd,fe=_.rd;for(e(Xo[_.Z]!=null);C<k;++C)Xo[_.Z](se,fe,F,te,F,te,ie),se=F,fe=te,te+=ie;_.qd=se,_.rd=fe}}function Wr(_,C){var k=_.l.ma,F=k.Z==0||k.Z==1?_.l.j:_.C;if(F=_.C<F?F:_.C,e(C<=_.l.o),C>F){var te=_.l.width,ie=k.ca,se=k.tb+te*F,fe=_.V,ge=_.Ba+_.c*F,Se=_.gc;e(_.ab==1),e(Se[0].hc==3),p(Se[0],F,C,fe,ge,ie,se),Gn(k,F,C,ie,se,te)}_.C=_.Ma=C}function Bi(_,C,k,F,te,ie,se){var fe=_.$/F,ge=_.$%F,Se=_.m,Be=_.s,tt=k+_.$,Ee=tt;te=k+F*te;var qe=k+F*ie,Je=280+Be.ua,dt=_.Pb?fe:16777216,et=0<Be.ua?Be.Wa:null,ft=Be.wc,bt=tt<qe?Ar(Be,ge,fe):null;e(_.C<ie),e(qe<=te);var Ot=!1;e:for(;;){for(;Ot||tt<qe;){var Ct=0;if(fe>=dt){var an=tt-k;e((dt=_).Pb),dt.wd=dt.m,dt.xd=an,0<dt.s.ua&&It(dt.s.Wa,dt.s.vb),dt=fe+hl}if(ge&ft||(bt=Ar(Be,ge,fe)),e(bt!=null),bt.Qb&&(C[tt]=bt.qb,Ot=!0),!Ot)if(Pe(Se),bt.jc){Ct=Se,an=C;var Xt=tt,jn=bt.pd[ee(Ct)&xs-1];e(bt.jc),256>jn.g?(me(Ct,Ct.u+jn.g),an[Xt]=jn.value,Ct=0):(me(Ct,Ct.u+jn.g-256),e(256<=jn.value),Ct=jn.value),Ct==0&&(Ot=!0)}else Ct=Vn(bt.G[0],bt.H[0],Se);if(Se.h)break;if(Ot||256>Ct){if(!Ot)if(bt.nd)C[tt]=(bt.qb|Ct<<8)>>>0;else{if(Pe(Se),Ot=Vn(bt.G[1],bt.H[1],Se),Pe(Se),an=Vn(bt.G[2],bt.H[2],Se),Xt=Vn(bt.G[3],bt.H[3],Se),Se.h)break;C[tt]=(Xt<<24|Ot<<16|Ct<<8|an)>>>0}if(Ot=!1,++tt,++ge>=F&&(ge=0,++fe,se!=null&&fe<=ie&&!(fe%16)&&se(_,fe),et!=null))for(;Ee<tt;)Ct=C[Ee++],et.X[(506832829*Ct&4294967295)>>>et.Mb]=Ct}else if(280>Ct){if(Ct=pi(Ct-256,Se),an=Vn(bt.G[4],bt.H[4],Se),Pe(Se),an=Ki(F,an=pi(an,Se)),Se.h)break;if(tt-k<an||te-tt<Ct)break e;for(Xt=0;Xt<Ct;++Xt)C[tt+Xt]=C[tt+Xt-an];for(tt+=Ct,ge+=Ct;ge>=F;)ge-=F,++fe,se!=null&&fe<=ie&&!(fe%16)&&se(_,fe);if(e(tt<=te),ge&ft&&(bt=Ar(Be,ge,fe)),et!=null)for(;Ee<tt;)Ct=C[Ee++],et.X[(506832829*Ct&4294967295)>>>et.Mb]=Ct}else{if(!(Ct<Je))break e;for(Ot=Ct-280,e(et!=null);Ee<tt;)Ct=C[Ee++],et.X[(506832829*Ct&4294967295)>>>et.Mb]=Ct;Ct=tt,e(!(Ot>>>(an=et).Xa)),C[Ct]=an.X[Ot],Ot=!0}Ot||e(Se.h==ye(Se))}if(_.Pb&&Se.h&&tt<te)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&It(_.s.vb,_.s.Wa);else{if(Se.h)break e;se?.(_,fe>ie?ie:fe),_.a=0,_.$=tt-k}return 1}return _.a=3,0}function fs(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,e(_!=null)}function Fi(){var _=new vn;return _==null?null:(_.a=0,_.xb=Of,ar("Predictor","VP8LPredictors"),ar("Predictor","VP8LPredictors_C"),ar("PredictorAdd","VP8LPredictorsAdd"),ar("PredictorAdd","VP8LPredictorsAdd_C"),c=gn,N=kn,D=$r,B=en,J=ut,ne=Gt,be=qt,P.VP8LMapColor32b=d,P.VP8LMapColor8b=v,_)}function pa(_,C,k,F,te){var ie=1,se=[_],fe=[C],ge=F.m,Se=F.s,Be=null,tt=0;e:for(;;){if(k)for(;ie&&de(ge,1);){var Ee=se,qe=fe,Je=F,dt=1,et=Je.m,ft=Je.gc[Je.ab],bt=de(et,2);if(Je.Oc&1<<bt)ie=0;else{switch(Je.Oc|=1<<bt,ft.hc=bt,ft.Ea=Ee[0],ft.nc=qe[0],ft.K=[null],++Je.ab,e(4>=Je.ab),bt){case 0:case 1:ft.b=de(et,3)+2,dt=pa(Ae(ft.Ea,ft.b),Ae(ft.nc,ft.b),0,Je,ft.K),ft.K=ft.K[0];break;case 3:var Ot,Ct=de(et,8)+1,an=16<Ct?0:4<Ct?1:2<Ct?2:3;if(Ee[0]=Ae(ft.Ea,an),ft.b=an,Ot=dt=pa(Ct,1,0,Je,ft.K)){var Xt,jn=Ct,tn=ft,cr=1<<(8>>tn.b),hi=l(cr);if(hi==null)Ot=0;else{var Yn=tn.K[0],Yt=tn.w;for(hi[0]=tn.K[0][0],Xt=1;Xt<1*jn;++Xt)hi[Xt]=ht(Yn[Yt+Xt],hi[Xt-1]);for(;Xt<4*cr;++Xt)hi[Xt]=0;tn.K[0]=null,tn.K[0]=hi,Ot=1}}dt=Ot;break;case 2:break;default:e(0)}ie=dt}}if(se=se[0],fe=fe[0],ie&&de(ge,1)&&!(ie=1<=(tt=de(ge,4))&&11>=tt)){F.a=3;break e}var jt;if(jt=ie)t:{var wi,On,er,zr=F,bs=se,Zs=fe,si=tt,ns=k,la=zr.m,rs=zr.s,sr=[null],Ir=1,_i=0,Mr=ro[si];n:for(;;){if(ns&&de(la,1)){var ws=de(la,3)+2,Ai=Ae(bs,ws),Rr=Ae(Zs,ws),Gi=Ai*Rr;if(!pa(Ai,Rr,0,zr,sr))break n;for(sr=sr[0],rs.xc=ws,wi=0;wi<Gi;++wi){var qr=sr[wi]>>8&65535;sr[wi]=qr,qr>=Ir&&(Ir=qr+1)}}if(la.h)break n;for(On=0;5>On;++On){var is=Bl[On];!On&&0<si&&(is+=1<<si),_i<is&&(_i=is)}var ss=f(Ir*Mr,H),Kr=Ir,Cr=f(Kr,xe);if(Cr==null)var ca=null;else e(65536>=Kr),ca=Cr;var Di=l(_i);if(ca==null||Di==null||ss==null){zr.a=1;break n}var En=ss;for(wi=er=0;wi<Ir;++wi){var Nn=ca[wi],Or=Nn.G,La=Nn.H,oo=0,_a=1,as=0;for(On=0;5>On;++On){is=Bl[On],Or[On]=En,La[On]=er,!On&&0<si&&(is+=1<<si);i:{var xl,yl=is,vh=zr,ai=Di,Lf=En,kf=er,bh=0,Yo=vh.m,Kp=de(Yo,1);if(a(ai,0,0,yl),Kp){var Mf=de(Yo,1)+1,Pf=de(Yo,1),wh=de(Yo,Pf==0?1:8);ai[wh]=1,Mf==2&&(ai[wh=de(Yo,8)]=1);var Ps=1}else{var Li=l(19),Iu=de(Yo,4)+4;if(19<Iu){vh.a=3;var vl=0;break i}for(xl=0;xl<Iu;++xl)Li[Cu[xl]]=de(Yo,3);var Tc=void 0,Vl=void 0,ko=vh,_h=Li,Ic=yl,Ah=ai,Eh=0,Ko=ko.m,jf=8,Bf=f(128,H);r:for(;U(Bf,0,7,_h,19);){if(de(Ko,1)){var h0=2+2*de(Ko,3);if((Tc=2+de(Ko,h0))>Ic)break r}else Tc=Ic;for(Vl=0;Vl<Ic&&Tc--;){Pe(Ko);var Ff=Bf[0+(127&ee(Ko))];me(Ko,Ko.u+Ff.g);var bl=Ff.value;if(16>bl)Ah[Vl++]=bl,bl!=0&&(jf=bl);else{var f0=bl==16,d0=bl-16,p0=Ec[d0],Uf=de(Ko,to[d0])+p0;if(Vl+Uf>Ic)break r;for(var g0=f0?jf:0;0<Uf--;)Ah[Vl++]=g0}}Eh=1;break r}Eh||(ko.a=3),Ps=Eh}(Ps=Ps&&!Yo.h)&&(bh=U(Lf,kf,8,ai,yl)),Ps&&bh!=0?vl=bh:(vh.a=3,vl=0)}if(vl==0)break n;if(_a&&dh[On]==1&&(_a=En[er].g==0),oo+=En[er].g,er+=vl,3>=On){var zl,Sh=Di[0];for(zl=1;zl<is;++zl)Di[zl]>Sh&&(Sh=Di[zl]);as+=Sh}}if(Nn.nd=_a,Nn.Qb=0,_a&&(Nn.qb=(Or[3][La[3]+0].value<<24|Or[1][La[1]+0].value<<16|Or[2][La[2]+0].value)>>>0,oo==0&&256>Or[0][La[0]+0].value&&(Nn.Qb=1,Nn.qb+=Or[0][La[0]+0].value<<8)),Nn.jc=!Nn.Qb&&6>as,Nn.jc){var Ru,Mo=Nn;for(Ru=0;Ru<xs;++Ru){var Zo=Ru,Qo=Mo.pd[Zo],Ch=Mo.G[0][Mo.H[0]+Zo];256<=Ch.value?(Qo.g=Ch.g+256,Qo.value=Ch.value):(Qo.g=0,Qo.value=0,Zo>>=dr(Ch,8,Qo),Zo>>=dr(Mo.G[1][Mo.H[1]+Zo],16,Qo),Zo>>=dr(Mo.G[2][Mo.H[2]+Zo],0,Qo),dr(Mo.G[3][Mo.H[3]+Zo],24,Qo))}}}rs.vc=sr,rs.Wb=Ir,rs.Ya=ca,rs.yc=ss,jt=1;break t}jt=0}if(!(ie=jt)){F.a=3;break e}if(0<tt){if(Se.ua=1<<tt,!ae(Se.Wa,tt)){F.a=1,ie=0;break e}}else Se.ua=0;var Nh=F,ql=se,m0=fe,Rc=Nh.s,Oc=Rc.xc;if(Nh.c=ql,Nh.i=m0,Rc.md=Ae(ql,Oc),Rc.wc=Oc==0?-1:(1<<Oc)-1,k){F.xb=fl;break e}if((Be=l(se*fe))==null){F.a=1,ie=0;break e}ie=(ie=Bi(F,Be,0,se,fe,fe,null))&&!ge.h;break e}return ie?(te!=null?te[0]=Be:(e(Be==null),e(k)),F.$=0,k||fs(Se)):fs(Se),ie}function Cs(_,C){var k=_.c*_.i,F=k+C+16*C;return e(_.c<=C),_.V=l(F),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+k+C,1)}function Ii(_,C){var k=_.C,F=C-k,te=_.V,ie=_.Ba+_.c*k;for(e(C<=_.l.o);0<F;){var se=16<F?16:F,fe=_.l.ma,ge=_.l.width,Se=ge*se,Be=fe.ca,tt=fe.tb+ge*k,Ee=_.Ta,qe=_.Ua;Mt(_,se,te,ie),Ya(Ee,qe,Be,tt,Se),Gn(fe,k,k+se,Be,tt,ge),F-=se,te+=se*_.c,k+=se}e(k==C),_.C=_.Ma=C}function Lr(){this.ub=this.yd=this.td=this.Rb=0}function Wn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ns(){this.Fb=this.Bb=this.Cb=0,this.Zb=l(4),this.Lb=l(4)}function vi(){this.Yb=(function(){var _=[];return(function C(k,F,te){for(var ie=te[F],se=0;se<ie&&(k.push(te.length>F+1?[]:0),!(te.length<F+1));se++)C(k[se],F+1,te)})(_,0,[3,11]),_})()}function Xr(){this.jb=l(3),this.Wc=g([4,8],vi),this.Xc=g([4,17],vi)}function At(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new l(4),this.od=new l(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function or(){this.Na=this.la=0}function Zi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function yo(){this.ad=l(384),this.Za=0,this.Ob=l(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nr(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new yo),this.aa=0,this.l=new Ri}function tr(){this.y=l(16),this.f=l(8),this.ea=l(8)}function zn(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new Lr,this.Kc=new Wn,this.ed=new At,this.Qa=new Ns,this.Ic=this.$c=this.Aa=0,this.D=new nr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=f(8,q),this.ia=0,this.pb=f(4,Zi),this.Pa=new Xr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tr),this.Hd=0,this.rb=Array(new or),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new yo),this.L=this.aa=0,this.gd=g([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ds(_,C){return 0>_?0:_>C?C:_}function Ri(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ti(){var _=new zn;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Ka||(Ka=wn)),_}function yn(_,C,k){return _.a==0&&(_.a=C,_.sc=k,_.cb=0),0}function Qi(_,C,k){return 3<=k&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function $s(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return yn(_,2,"null VP8Io passed to VP8GetHeaders()");var k=C.data,F=C.w,te=C.ha;if(4>te)return yn(_,7,"Truncated header.");var ie=k[F+0]|k[F+1]<<8|k[F+2]<<16,se=_.Od;if(se.Rb=!(1&ie),se.td=ie>>1&7,se.yd=ie>>4&1,se.ub=ie>>5,3<se.td)return yn(_,3,"Incorrect keyframe parameters.");if(!se.yd)return yn(_,4,"Frame not displayable.");F+=3,te-=3;var fe=_.Kc;if(se.Rb){if(7>te)return yn(_,7,"cannot parse picture header");if(!Qi(k,F,te))return yn(_,3,"Bad code word");fe.c=16383&(k[F+4]<<8|k[F+3]),fe.Td=k[F+4]>>6,fe.i=16383&(k[F+6]<<8|k[F+5]),fe.Ud=k[F+6]>>6,F+=7,te-=7,_.za=fe.c+15>>4,_.Ub=fe.i+15>>4,C.width=fe.c,C.height=fe.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,a((ie=_.Pa).jb,0,255,ie.jb.length),e((ie=_.Qa)!=null),ie.Cb=0,ie.Bb=0,ie.Fb=1,a(ie.Zb,0,0,ie.Zb.length),a(ie.Lb,0,0,ie.Lb)}if(se.ub>te)return yn(_,7,"bad partition length");_e(ie=_.m,k,F,se.ub),F+=se.ub,te-=se.ub,se.Rb&&(fe.Ld=Fe(ie),fe.Kd=Fe(ie)),fe=_.Qa;var ge,Se=_.Pa;if(e(ie!=null),e(fe!=null),fe.Cb=Fe(ie),fe.Cb){if(fe.Bb=Fe(ie),Fe(ie)){for(fe.Fb=Fe(ie),ge=0;4>ge;++ge)fe.Zb[ge]=Fe(ie)?De(ie,7):0;for(ge=0;4>ge;++ge)fe.Lb[ge]=Fe(ie)?De(ie,6):0}if(fe.Bb)for(ge=0;3>ge;++ge)Se.jb[ge]=Fe(ie)?Te(ie,8):255}else fe.Bb=0;if(ie.Ka)return yn(_,3,"cannot parse segment header");if((fe=_.ed).zd=Fe(ie),fe.Tb=Te(ie,6),fe.wb=Te(ie,3),fe.Pc=Fe(ie),fe.Pc&&Fe(ie)){for(Se=0;4>Se;++Se)Fe(ie)&&(fe.vd[Se]=De(ie,6));for(Se=0;4>Se;++Se)Fe(ie)&&(fe.od[Se]=De(ie,6))}if(_.L=fe.Tb==0?0:fe.zd?1:2,ie.Ka)return yn(_,3,"cannot parse filter header");var Be=te;if(te=ge=F,F=ge+Be,fe=Be,_.Xb=(1<<Te(_.m,2))-1,Be<3*(Se=_.Xb))k=7;else{for(ge+=3*Se,fe-=3*Se,Be=0;Be<Se;++Be){var tt=k[te+0]|k[te+1]<<8|k[te+2]<<16;tt>fe&&(tt=fe),_e(_.Jc[+Be],k,ge,tt),ge+=tt,fe-=tt,te+=3}_e(_.Jc[+Se],k,ge,fe),k=ge<F?0:5}if(k!=0)return yn(_,k,"cannot parse partitions");for(k=Te(ge=_.m,7),te=Fe(ge)?De(ge,4):0,F=Fe(ge)?De(ge,4):0,fe=Fe(ge)?De(ge,4):0,Se=Fe(ge)?De(ge,4):0,ge=Fe(ge)?De(ge,4):0,Be=_.Qa,tt=0;4>tt;++tt){if(Be.Cb){var Ee=Be.Zb[tt];Be.Fb||(Ee+=k)}else{if(0<tt){_.pb[tt]=_.pb[0];continue}Ee=k}var qe=_.pb[tt];qe.Sc[0]=io[ds(Ee+te,127)],qe.Sc[1]=so[ds(Ee+0,127)],qe.Eb[0]=2*io[ds(Ee+F,127)],qe.Eb[1]=101581*so[ds(Ee+fe,127)]>>16,8>qe.Eb[1]&&(qe.Eb[1]=8),qe.Qc[0]=io[ds(Ee+Se,117)],qe.Qc[1]=so[ds(Ee+ge,127)],qe.lc=Ee+ge}if(!se.Rb)return yn(_,4,"Not a key frame.");for(Fe(ie),se=_.Pa,k=0;4>k;++k){for(te=0;8>te;++te)for(F=0;3>F;++F)for(fe=0;11>fe;++fe)Se=Ne(ie,ui[k][te][F][fe])?Te(ie,8):c0[k][te][F][fe],se.Wc[k][te].Yb[F][fe]=Se;for(te=0;17>te;++te)se.Xc[k][te]=se.Wc[k][ur[te]]}return _.kc=Fe(ie),_.kc&&(_.Bd=Te(ie,8)),_.cb=1}function wn(_,C,k,F,te,ie,se){var fe=C[te].Yb[k];for(k=0;16>te;++te){if(!Ne(_,fe[k+0]))return te;for(;!Ne(_,fe[k+1]);)if(fe=C[++te].Yb[0],k=0,te==16)return 16;var ge=C[te+1].Yb;if(Ne(_,fe[k+2])){var Se=_,Be=0;if(Ne(Se,(Ee=fe)[(tt=k)+3]))if(Ne(Se,Ee[tt+6])){for(fe=0,tt=2*(Be=Ne(Se,Ee[tt+8]))+(Ee=Ne(Se,Ee[tt+9+Be])),Be=0,Ee=l0[tt];Ee[fe];++fe)Be+=Be+Ne(Se,Ee[fe]);Be+=3+(8<<tt)}else Ne(Se,Ee[tt+7])?(Be=7+2*Ne(Se,165),Be+=Ne(Se,145)):Be=5+Ne(Se,159);else Be=Ne(Se,Ee[tt+4])?3+Ne(Se,Ee[tt+5]):2;fe=ge[2]}else Be=1,fe=ge[1];ge=se+Rf[te],0>(Se=_).b&&Ie(Se);var tt,Ee=Se.b,qe=(tt=Se.Ca>>1)-(Se.I>>Ee)>>31;--Se.b,Se.Ca+=qe,Se.Ca|=1,Se.I-=(tt+1&qe)<<Ee,ie[ge]=((Be^qe)-qe)*F[(0<te)+0]}return 16}function ps(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function bi(_,C,k,F,te){te=_[C+k+32*F]+(te>>3),_[C+k+32*F]=-256&te?0>te?0:255:te}function Nr(_,C,k,F,te,ie){bi(_,C,0,k,F+te),bi(_,C,1,k,F+ie),bi(_,C,2,k,F-ie),bi(_,C,3,k,F-te)}function Dn(_){return(20091*_>>16)+_}function ni(_,C,k,F){var te,ie=0,se=l(16);for(te=0;4>te;++te){var fe=_[C+0]+_[C+8],ge=_[C+0]-_[C+8],Se=(35468*_[C+4]>>16)-Dn(_[C+12]),Be=Dn(_[C+4])+(35468*_[C+12]>>16);se[ie+0]=fe+Be,se[ie+1]=ge+Se,se[ie+2]=ge-Se,se[ie+3]=fe-Be,ie+=4,C++}for(te=ie=0;4>te;++te)fe=(_=se[ie+0]+4)+se[ie+8],ge=_-se[ie+8],Se=(35468*se[ie+4]>>16)-Dn(se[ie+12]),bi(k,F,0,0,fe+(Be=Dn(se[ie+4])+(35468*se[ie+12]>>16))),bi(k,F,1,0,ge+Se),bi(k,F,2,0,ge-Se),bi(k,F,3,0,fe-Be),ie++,F+=32}function $e(_,C,k,F){var te=_[C+0]+4,ie=35468*_[C+4]>>16,se=Dn(_[C+4]),fe=35468*_[C+1]>>16;Nr(k,F,0,te+se,_=Dn(_[C+1]),fe),Nr(k,F,1,te+ie,_,fe),Nr(k,F,2,te-ie,_,fe),Nr(k,F,3,te-se,_,fe)}function ve(_,C,k,F,te){ni(_,C,k,F),te&&ni(_,C+16,k,F+4)}function zt(_,C,k,F){je(_,C+0,k,F,1),je(_,C+32,k,F+128,1)}function ri(_,C,k,F){var te;for(_=_[C+0]+4,te=0;4>te;++te)for(C=0;4>C;++C)bi(k,F,C,te,_)}function gi(_,C,k,F){_[C+0]&&mt(_,C+0,k,F),_[C+16]&&mt(_,C+16,k,F+4),_[C+32]&&mt(_,C+32,k,F+128),_[C+48]&&mt(_,C+48,k,F+128+4)}function Ui(_,C,k,F){var te,ie=l(16);for(te=0;4>te;++te){var se=_[C+0+te]+_[C+12+te],fe=_[C+4+te]+_[C+8+te],ge=_[C+4+te]-_[C+8+te],Se=_[C+0+te]-_[C+12+te];ie[0+te]=se+fe,ie[8+te]=se-fe,ie[4+te]=Se+ge,ie[12+te]=Se-ge}for(te=0;4>te;++te)se=(_=ie[0+4*te]+3)+ie[3+4*te],fe=ie[1+4*te]+ie[2+4*te],ge=ie[1+4*te]-ie[2+4*te],Se=_-ie[3+4*te],k[F+0]=se+fe>>3,k[F+16]=Se+ge>>3,k[F+32]=se-fe>>3,k[F+48]=Se-ge>>3,F+=64}function Ta(_,C,k){var F,te=C-32,ie=aa,se=255-_[te-1];for(F=0;F<k;++F){var fe,ge=ie,Se=se+_[C-1];for(fe=0;fe<k;++fe)_[C+fe]=ge[Se+_[te+fe]];C+=32}}function Ji(_,C){Ta(_,C,4)}function cn(_,C){Ta(_,C,8)}function Tr(_,C){Ta(_,C,16)}function vo(_,C){var k;for(k=0;16>k;++k)r(_,C+32*k,_,C-32,16)}function qa(_,C){var k;for(k=16;0<k;--k)a(_,C,_[C-1],16),C+=32}function $i(_,C,k){var F;for(F=0;16>F;++F)a(C,k+32*F,_,16)}function Is(_,C){var k,F=16;for(k=0;16>k;++k)F+=_[C-1+32*k]+_[C+k-32];$i(F>>5,_,C)}function ga(_,C){var k,F=8;for(k=0;16>k;++k)F+=_[C-1+32*k];$i(F>>4,_,C)}function Rs(_,C){var k,F=8;for(k=0;16>k;++k)F+=_[C+k-32];$i(F>>4,_,C)}function Ur(_,C){$i(128,_,C)}function un(_,C,k){return _+2*C+k+2>>2}function Os(_,C){var k,F=C-32;for(F=new Uint8Array([un(_[F-1],_[F+0],_[F+1]),un(_[F+0],_[F+1],_[F+2]),un(_[F+1],_[F+2],_[F+3]),un(_[F+2],_[F+3],_[F+4])]),k=0;4>k;++k)r(_,C+32*k,F,0,F.length)}function mn(_,C){var k=_[C-1],F=_[C-1+32],te=_[C-1+64],ie=_[C-1+96];Qe(_,C+0,16843009*un(_[C-1-32],k,F)),Qe(_,C+32,16843009*un(k,F,te)),Qe(_,C+64,16843009*un(F,te,ie)),Qe(_,C+96,16843009*un(te,ie,ie))}function Qa(_,C){var k,F=4;for(k=0;4>k;++k)F+=_[C+k-32]+_[C-1+32*k];for(F>>=3,k=0;4>k;++k)a(_,C+32*k,F,4)}function hn(_,C){var k=_[C-1+0],F=_[C-1+32],te=_[C-1+64],ie=_[C-1-32],se=_[C+0-32],fe=_[C+1-32],ge=_[C+2-32],Se=_[C+3-32];_[C+0+96]=un(F,te,_[C-1+96]),_[C+1+96]=_[C+0+64]=un(k,F,te),_[C+2+96]=_[C+1+64]=_[C+0+32]=un(ie,k,F),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=un(se,ie,k),_[C+3+64]=_[C+2+32]=_[C+1+0]=un(fe,se,ie),_[C+3+32]=_[C+2+0]=un(ge,fe,se),_[C+3+0]=un(Se,ge,fe)}function ir(_,C){var k=_[C+1-32],F=_[C+2-32],te=_[C+3-32],ie=_[C+4-32],se=_[C+5-32],fe=_[C+6-32],ge=_[C+7-32];_[C+0+0]=un(_[C+0-32],k,F),_[C+1+0]=_[C+0+32]=un(k,F,te),_[C+2+0]=_[C+1+32]=_[C+0+64]=un(F,te,ie),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=un(te,ie,se),_[C+3+32]=_[C+2+64]=_[C+1+96]=un(ie,se,fe),_[C+3+64]=_[C+2+96]=un(se,fe,ge),_[C+3+96]=un(fe,ge,ge)}function bo(_,C){var k=_[C-1+0],F=_[C-1+32],te=_[C-1+64],ie=_[C-1-32],se=_[C+0-32],fe=_[C+1-32],ge=_[C+2-32],Se=_[C+3-32];_[C+0+0]=_[C+1+64]=ie+se+1>>1,_[C+1+0]=_[C+2+64]=se+fe+1>>1,_[C+2+0]=_[C+3+64]=fe+ge+1>>1,_[C+3+0]=ge+Se+1>>1,_[C+0+96]=un(te,F,k),_[C+0+64]=un(F,k,ie),_[C+0+32]=_[C+1+96]=un(k,ie,se),_[C+1+32]=_[C+2+96]=un(ie,se,fe),_[C+2+32]=_[C+3+96]=un(se,fe,ge),_[C+3+32]=un(fe,ge,Se)}function gr(_,C){var k=_[C+0-32],F=_[C+1-32],te=_[C+2-32],ie=_[C+3-32],se=_[C+4-32],fe=_[C+5-32],ge=_[C+6-32],Se=_[C+7-32];_[C+0+0]=k+F+1>>1,_[C+1+0]=_[C+0+64]=F+te+1>>1,_[C+2+0]=_[C+1+64]=te+ie+1>>1,_[C+3+0]=_[C+2+64]=ie+se+1>>1,_[C+0+32]=un(k,F,te),_[C+1+32]=_[C+0+96]=un(F,te,ie),_[C+2+32]=_[C+1+96]=un(te,ie,se),_[C+3+32]=_[C+2+96]=un(ie,se,fe),_[C+3+64]=un(se,fe,ge),_[C+3+96]=un(fe,ge,Se)}function Ds(_,C){var k=_[C-1+0],F=_[C-1+32],te=_[C-1+64],ie=_[C-1+96];_[C+0+0]=k+F+1>>1,_[C+2+0]=_[C+0+32]=F+te+1>>1,_[C+2+32]=_[C+0+64]=te+ie+1>>1,_[C+1+0]=un(k,F,te),_[C+3+0]=_[C+1+32]=un(F,te,ie),_[C+3+32]=_[C+1+64]=un(te,ie,ie),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=ie}function qs(_,C){var k=_[C-1+0],F=_[C-1+32],te=_[C-1+64],ie=_[C-1+96],se=_[C-1-32],fe=_[C+0-32],ge=_[C+1-32],Se=_[C+2-32];_[C+0+0]=_[C+2+32]=k+se+1>>1,_[C+0+32]=_[C+2+64]=F+k+1>>1,_[C+0+64]=_[C+2+96]=te+F+1>>1,_[C+0+96]=ie+te+1>>1,_[C+3+0]=un(fe,ge,Se),_[C+2+0]=un(se,fe,ge),_[C+1+0]=_[C+3+32]=un(k,se,fe),_[C+1+32]=_[C+3+64]=un(F,k,se),_[C+1+64]=_[C+3+96]=un(te,F,k),_[C+1+96]=un(ie,te,F)}function ma(_,C){var k;for(k=0;8>k;++k)r(_,C+32*k,_,C-32,8)}function Ha(_,C){var k;for(k=0;8>k;++k)a(_,C,_[C-1],8),C+=32}function Vi(_,C,k){var F;for(F=0;8>F;++F)a(C,k+32*F,_,8)}function Hs(_,C){var k,F=8;for(k=0;8>k;++k)F+=_[C+k-32]+_[C-1+32*k];Vi(F>>4,_,C)}function Ls(_,C){var k,F=4;for(k=0;8>k;++k)F+=_[C+k-32];Vi(F>>3,_,C)}function Yr(_,C){var k,F=4;for(k=0;8>k;++k)F+=_[C-1+32*k];Vi(F>>3,_,C)}function ks(_,C){Vi(128,_,C)}function Er(_,C,k){var F=_[C-k],te=_[C+0],ie=3*(te-F)+Wo[1020+_[C-2*k]-_[C+k]],se=Au[112+(ie+4>>3)];_[C-k]=aa[255+F+Au[112+(ie+3>>3)]],_[C+0]=aa[255+te-se]}function xa(_,C,k,F){var te=_[C+0],ie=_[C+k];return Ws[255+_[C-2*k]-_[C-k]]>F||Ws[255+ie-te]>F}function Ga(_,C,k,F){return 4*Ws[255+_[C-k]-_[C+0]]+Ws[255+_[C-2*k]-_[C+k]]<=F}function ya(_,C,k,F,te){var ie=_[C-3*k],se=_[C-2*k],fe=_[C-k],ge=_[C+0],Se=_[C+k],Be=_[C+2*k],tt=_[C+3*k];return 4*Ws[255+fe-ge]+Ws[255+se-Se]>F?0:Ws[255+_[C-4*k]-ie]<=te&&Ws[255+ie-se]<=te&&Ws[255+se-fe]<=te&&Ws[255+tt-Be]<=te&&Ws[255+Be-Se]<=te&&Ws[255+Se-ge]<=te}function Ia(_,C,k,F){var te=2*F+1;for(F=0;16>F;++F)Ga(_,C+F,k,te)&&Er(_,C+F,k)}function ea(_,C,k,F){var te=2*F+1;for(F=0;16>F;++F)Ga(_,C+F*k,1,te)&&Er(_,C+F*k,1)}function wo(_,C,k,F){var te;for(te=3;0<te;--te)Ia(_,C+=4*k,k,F)}function lr(_,C,k,F){var te;for(te=3;0<te;--te)ea(_,C+=4,k,F)}function Ms(_,C,k,F,te,ie,se,fe){for(ie=2*ie+1;0<te--;){if(ya(_,C,k,ie,se))if(xa(_,C,k,fe))Er(_,C,k);else{var ge=_,Se=C,Be=k,tt=ge[Se-2*Be],Ee=ge[Se-Be],qe=ge[Se+0],Je=ge[Se+Be],dt=ge[Se+2*Be],et=27*(bt=Wo[1020+3*(qe-Ee)+Wo[1020+tt-Je]])+63>>7,ft=18*bt+63>>7,bt=9*bt+63>>7;ge[Se-3*Be]=aa[255+ge[Se-3*Be]+bt],ge[Se-2*Be]=aa[255+tt+ft],ge[Se-Be]=aa[255+Ee+et],ge[Se+0]=aa[255+qe-et],ge[Se+Be]=aa[255+Je-ft],ge[Se+2*Be]=aa[255+dt-bt]}C+=F}}function Gs(_,C,k,F,te,ie,se,fe){for(ie=2*ie+1;0<te--;){if(ya(_,C,k,ie,se))if(xa(_,C,k,fe))Er(_,C,k);else{var ge=_,Se=C,Be=k,tt=ge[Se-Be],Ee=ge[Se+0],qe=ge[Se+Be],Je=Au[112+(4+(dt=3*(Ee-tt))>>3)],dt=Au[112+(dt+3>>3)],et=Je+1>>1;ge[Se-2*Be]=aa[255+ge[Se-2*Be]+et],ge[Se-Be]=aa[255+tt+dt],ge[Se+0]=aa[255+Ee-Je],ge[Se+Be]=aa[255+qe-et]}C+=F}}function ta(_,C,k,F,te,ie){Ms(_,C,k,1,16,F,te,ie)}function va(_,C,k,F,te,ie){Ms(_,C,1,k,16,F,te,ie)}function at(_,C,k,F,te,ie){var se;for(se=3;0<se;--se)Gs(_,C+=4*k,k,1,16,F,te,ie)}function O(_,C,k,F,te,ie){var se;for(se=3;0<se;--se)Gs(_,C+=4,1,k,16,F,te,ie)}function Z(_,C,k,F,te,ie,se,fe){Ms(_,C,te,1,8,ie,se,fe),Ms(k,F,te,1,8,ie,se,fe)}function we(_,C,k,F,te,ie,se,fe){Ms(_,C,1,te,8,ie,se,fe),Ms(k,F,1,te,8,ie,se,fe)}function Me(_,C,k,F,te,ie,se,fe){Gs(_,C+4*te,te,1,8,ie,se,fe),Gs(k,F+4*te,te,1,8,ie,se,fe)}function We(_,C,k,F,te,ie,se,fe){Gs(_,C+4,1,te,8,ie,se,fe),Gs(k,F+4,1,te,8,ie,se,fe)}function pt(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function St(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Wt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pt(){this.ua=0,this.Wa=new Lt,this.vb=new Lt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new H}function vn(){this.xb=this.a=0,this.l=new Ri,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new le,this.Pb=0,this.wd=new le,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pt,this.ab=0,this.gc=f(4,Wt),this.Oc=0}function Ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ri,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $n(_,C,k,F,te,ie,se){for(_=_==null?0:_[C+0],C=0;C<se;++C)te[ie+C]=_+k[F+C]&255,_=te[ie+C]}function mr(_,C,k,F,te,ie,se){var fe;if(_==null)$n(null,null,k,F,te,ie,se);else for(fe=0;fe<se;++fe)te[ie+fe]=_[C+fe]+k[F+fe]&255}function _n(_,C,k,F,te,ie,se){if(_==null)$n(null,null,k,F,te,ie,se);else{var fe,ge=_[C+0],Se=ge,Be=ge;for(fe=0;fe<se;++fe)Se=Be+(ge=_[C+fe])-Se,Be=k[F+fe]+(-256&Se?0>Se?0:255:Se)&255,Se=ge,te[ie+fe]=Be}}function w(_,C,k,F){var te=C.width,ie=C.o;if(e(_!=null&&C!=null),0>k||0>=F||k+F>ie)return null;if(!_.Cc){if(_.ga==null){var se;if(_.ga=new Ft,(se=_.ga==null)||(se=C.width*C.o,e(_.Gb.length==0),_.Gb=l(se),_.Uc=0,_.Gb==null?se=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,se=1),se=!se),!se){se=_.ga;var fe=_.Fa,ge=_.P,Se=_.qc,Be=_.mb,tt=_.nb,Ee=ge+1,qe=Se-1,Je=se.l;if(e(fe!=null&&Be!=null&&C!=null),Xo[0]=null,Xo[1]=$n,Xo[2]=mr,Xo[3]=_n,se.ca=Be,se.tb=tt,se.c=C.width,se.i=C.height,e(0<se.c&&0<se.i),1>=Se)C=0;else if(se.$a=3&fe[ge+0],se.Z=fe[ge+0]>>2&3,se.Lc=fe[ge+0]>>4&3,ge=fe[ge+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||ge)C=0;else if(Je.put=ln,Je.ac=ei,Je.bc=Ti,Je.ma=se,Je.width=C.width,Je.height=C.height,Je.Da=C.Da,Je.v=C.v,Je.va=C.va,Je.j=C.j,Je.o=C.o,se.$a)e:{e(se.$a==1),C=Fi();t:for(;;){if(C==null){C=0;break e}if(e(se!=null),se.mc=C,C.c=se.c,C.i=se.i,C.l=se.l,C.l.ma=se,C.l.width=se.c,C.l.height=se.i,C.a=0,He(C.m,fe,Ee,qe),!pa(se.c,se.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&pr(C.s)?(se.ic=1,fe=C.c*C.i,C.Ta=null,C.Ua=0,C.V=l(fe),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(se.ic=0,C=Cs(C,se.c)),!C))break t;C=1;break e}se.mc=null,C=0}else C=qe>=se.c*se.i;se=!C}if(se)return null;_.ga.Lc!=1?_.Ga=0:F=ie-k}e(_.ga!=null),e(k+F<=ie);e:{if(C=(fe=_.ga).c,ie=fe.l.o,fe.$a==0){if(Ee=_.rc,qe=_.Vc,Je=_.Fa,ge=_.P+1+k*C,Se=_.mb,Be=_.nb+k*C,e(ge<=_.P+_.qc),fe.Z!=0)for(e(Xo[fe.Z]!=null),se=0;se<F;++se)Xo[fe.Z](Ee,qe,Je,ge,Se,Be,C),Ee=Se,qe=Be,Be+=C,ge+=C;else for(se=0;se<F;++se)r(Se,Be,Je,ge,C),Ee=Se,qe=Be,Be+=C,ge+=C;_.rc=Ee,_.Vc=qe}else{if(e(fe.mc!=null),C=k+F,e((se=fe.mc)!=null),e(C<=se.i),se.C>=C)C=1;else if(fe.ic||it(),fe.ic){fe=se.V,Ee=se.Ba,qe=se.c;var dt=se.i,et=(Je=1,ge=se.$/qe,Se=se.$%qe,Be=se.m,tt=se.s,se.$),ft=qe*dt,bt=qe*C,Ot=tt.wc,Ct=et<bt?Ar(tt,Se,ge):null;e(et<=ft),e(C<=dt),e(pr(tt));t:for(;;){for(;!Be.h&&et<bt;){if(Se&Ot||(Ct=Ar(tt,Se,ge)),e(Ct!=null),Pe(Be),256>(dt=Vn(Ct.G[0],Ct.H[0],Be)))fe[Ee+et]=dt,++et,++Se>=qe&&(Se=0,++ge<=C&&!(ge%16)&&Wr(se,ge));else{if(!(280>dt)){Je=0;break t}dt=pi(dt-256,Be);var an,Xt=Vn(Ct.G[4],Ct.H[4],Be);if(Pe(Be),!(et>=(Xt=Ki(qe,Xt=pi(Xt,Be)))&&ft-et>=dt)){Je=0;break t}for(an=0;an<dt;++an)fe[Ee+et+an]=fe[Ee+et+an-Xt];for(et+=dt,Se+=dt;Se>=qe;)Se-=qe,++ge<=C&&!(ge%16)&&Wr(se,ge);et<bt&&Se&Ot&&(Ct=Ar(tt,Se,ge))}e(Be.h==ye(Be))}Wr(se,ge>C?C:ge);break t}!Je||Be.h&&et<ft?(Je=0,se.a=Be.h?5:3):se.$=et,C=Je}else C=Bi(se,se.V,se.Ba,se.c,se.i,C,Ii);if(!C){F=0;break e}}k+F>=ie&&(_.Cc=1),F=1}if(!F)return null;if(_.Cc&&((F=_.ga)!=null&&(F.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+k*te}function M(_,C,k,F,te,ie){for(;0<te--;){var se,fe=_,ge=C+(k?1:0),Se=_,Be=C+(k?0:3);for(se=0;se<F;++se){var tt=Se[Be+4*se];tt!=255&&(tt*=32897,fe[ge+4*se+0]=fe[ge+4*se+0]*tt>>23,fe[ge+4*se+1]=fe[ge+4*se+1]*tt>>23,fe[ge+4*se+2]=fe[ge+4*se+2]*tt>>23)}C+=ie}}function V(_,C,k,F,te){for(;0<F--;){var ie;for(ie=0;ie<k;++ie){var se=_[C+2*ie+0],fe=15&(Se=_[C+2*ie+1]),ge=4369*fe,Se=(240&Se|Se>>4)*ge>>16;_[C+2*ie+0]=(240&se|se>>4)*ge>>16&240|(15&se|se<<4)*ge>>16>>4&15,_[C+2*ie+1]=240&Se|fe}C+=te}}function he(_,C,k,F,te,ie,se,fe){var ge,Se,Be=255;for(Se=0;Se<te;++Se){for(ge=0;ge<F;++ge){var tt=_[C+ge];ie[se+4*ge]=tt,Be&=tt}C+=k,se+=fe}return Be!=255}function Ke(_,C,k,F,te){var ie;for(ie=0;ie<te;++ie)k[F+ie]=_[C+ie]>>8}function it(){Go=M,$a=V,bu=he,Ya=Ke}function Rt(_,C,k){P[_]=function(F,te,ie,se,fe,ge,Se,Be,tt,Ee,qe,Je,dt,et,ft,bt,Ot){var Ct,an=Ot-1>>1,Xt=fe[ge+0]|Se[Be+0]<<16,jn=tt[Ee+0]|qe[Je+0]<<16;e(F!=null);var tn=3*Xt+jn+131074>>2;for(C(F[te+0],255&tn,tn>>16,dt,et),ie!=null&&(tn=3*jn+Xt+131074>>2,C(ie[se+0],255&tn,tn>>16,ft,bt)),Ct=1;Ct<=an;++Ct){var cr=fe[ge+Ct]|Se[Be+Ct]<<16,hi=tt[Ee+Ct]|qe[Je+Ct]<<16,Yn=Xt+cr+jn+hi+524296,Yt=Yn+2*(cr+jn)>>3;tn=Yt+Xt>>1,Xt=(Yn=Yn+2*(Xt+hi)>>3)+cr>>1,C(F[te+2*Ct-1],255&tn,tn>>16,dt,et+(2*Ct-1)*k),C(F[te+2*Ct-0],255&Xt,Xt>>16,dt,et+(2*Ct-0)*k),ie!=null&&(tn=Yn+jn>>1,Xt=Yt+hi>>1,C(ie[se+2*Ct-1],255&tn,tn>>16,ft,bt+(2*Ct-1)*k),C(ie[se+2*Ct+0],255&Xt,Xt>>16,ft,bt+(2*Ct+0)*k)),Xt=cr,jn=hi}1&Ot||(tn=3*Xt+jn+131074>>2,C(F[te+Ot-1],255&tn,tn>>16,dt,et+(Ot-1)*k),ie!=null&&(tn=3*jn+Xt+131074>>2,C(ie[se+Ot-1],255&tn,tn>>16,ft,bt+(Ot-1)*k)))}}function Rn(){Ys[ch]=Fl,Ys[oa]=Sc,Ys[uh]=Df,Ys[eo]=gh,Ys[Eu]=dl,Ys[_c]=Lo,Ys[ul]=pl,Ys[Su]=Sc,Ys[hh]=gh,Ys[Ac]=dl,Ys[fh]=Lo}function Vr(_){return _&-16384?0>_?0:255:_>>mh}function Xn(_,C){return Vr((19077*_>>8)+(26149*C>>8)-14234)}function Sr(_,C,k){return Vr((19077*_>>8)-(6419*C>>8)-(13320*k>>8)+8708)}function zi(_,C){return Vr((19077*_>>8)+(33050*C>>8)-17685)}function gs(_,C,k,F,te){F[te+0]=Xn(_,k),F[te+1]=Sr(_,C,k),F[te+2]=zi(_,C)}function xr(_,C,k,F,te){F[te+0]=zi(_,C),F[te+1]=Sr(_,C,k),F[te+2]=Xn(_,k)}function qi(_,C,k,F,te){var ie=Sr(_,C,k);C=ie<<3&224|zi(_,C)>>3,F[te+0]=248&Xn(_,k)|ie>>5,F[te+1]=C}function ba(_,C,k,F,te){var ie=240&zi(_,C)|15;F[te+0]=240&Xn(_,k)|Sr(_,C,k)>>4,F[te+1]=ie}function na(_,C,k,F,te){F[te+0]=255,gs(_,C,k,F,te+1)}function Ja(_,C,k,F,te){xr(_,C,k,F,te),F[te+3]=255}function mi(_,C,k,F,te){gs(_,C,k,F,te),F[te+3]=255}function Ra(_,C,k){P[_]=function(F,te,ie,se,fe,ge,Se,Be,tt){for(var Ee=Be+(-2&tt)*k;Be!=Ee;)C(F[te+0],ie[se+0],fe[ge+0],Se,Be),C(F[te+1],ie[se+0],fe[ge+0],Se,Be+k),te+=2,++se,++ge,Be+=2*k;1&tt&&C(F[te+0],ie[se+0],fe[ge+0],Se,Be)}}function ms(_,C,k){return k==0?_==0?C==0?6:5:C==0?4:0:k}function cl(_,C,k,F,te){switch(_>>>30){case 3:je(C,k,F,te,0);break;case 2:Xe(C,k,F,te);break;case 1:mt(C,k,F,te)}}function xi(_,C){var k,F,te=C.M,ie=C.Nb,se=_.oc,fe=_.pc+40,ge=_.oc,Se=_.pc+584,Be=_.oc,tt=_.pc+600;for(k=0;16>k;++k)se[fe+32*k-1]=129;for(k=0;8>k;++k)ge[Se+32*k-1]=129,Be[tt+32*k-1]=129;for(0<te?se[fe-1-32]=ge[Se-1-32]=Be[tt-1-32]=129:(a(se,fe-32-1,127,21),a(ge,Se-32-1,127,9),a(Be,tt-32-1,127,9)),F=0;F<_.za;++F){var Ee=C.ya[C.aa+F];if(0<F){for(k=-1;16>k;++k)r(se,fe+32*k-4,se,fe+32*k+12,4);for(k=-1;8>k;++k)r(ge,Se+32*k-4,ge,Se+32*k+4,4),r(Be,tt+32*k-4,Be,tt+32*k+4,4)}var qe=_.Gd,Je=_.Hd+F,dt=Ee.ad,et=Ee.Hc;if(0<te&&(r(se,fe-32,qe[Je].y,0,16),r(ge,Se-32,qe[Je].f,0,8),r(Be,tt-32,qe[Je].ea,0,8)),Ee.Za){var ft=se,bt=fe-32+16;for(0<te&&(F>=_.za-1?a(ft,bt,qe[Je].y[15],4):r(ft,bt,qe[Je+1].y,0,4)),k=0;4>k;k++)ft[bt+128+k]=ft[bt+256+k]=ft[bt+384+k]=ft[bt+0+k];for(k=0;16>k;++k,et<<=2)ft=se,bt=fe+Hi[k],Oi[Ee.Ob[k]](ft,bt),cl(et,dt,16*+k,ft,bt)}else if(ft=ms(F,te,Ee.Ob[0]),wa[ft](se,fe),et!=0)for(k=0;16>k;++k,et<<=2)cl(et,dt,16*+k,se,fe+Hi[k]);for(k=Ee.Gc,ft=ms(F,te,Ee.Dd),_o[ft](ge,Se),_o[ft](Be,tt),et=dt,ft=ge,bt=Se,255&(Ee=0|k)&&(170&Ee?st(et,256,ft,bt):xt(et,256,ft,bt)),Ee=Be,et=tt,255&(k>>=8)&&(170&k?st(dt,320,Ee,et):xt(dt,320,Ee,et)),te<_.Ub-1&&(r(qe[Je].y,0,se,fe+480,16),r(qe[Je].f,0,ge,Se+224,8),r(qe[Je].ea,0,Be,tt+224,8)),k=8*ie*_.B,qe=_.sa,Je=_.ta+16*F+16*ie*_.R,dt=_.qa,Ee=_.ra+8*F+k,et=_.Ha,ft=_.Ia+8*F+k,k=0;16>k;++k)r(qe,Je+k*_.R,se,fe+32*k,16);for(k=0;8>k;++k)r(dt,Ee+k*_.B,ge,Se+32*k,8),r(et,ft+k*_.B,Be,tt+32*k,8)}}function Wa(_,C,k,F,te,ie,se,fe,ge){var Se=[0],Be=[0],tt=0,Ee=ge!=null?ge.kd:0,qe=ge??new St;if(_==null||12>k)return 7;qe.data=_,qe.w=C,qe.ha=k,C=[C],k=[k],qe.gb=[qe.gb];e:{var Je=C,dt=k,et=qe.gb;if(e(_!=null),e(dt!=null),e(et!=null),et[0]=0,12<=dt[0]&&!t(_,Je[0],"RIFF")){if(t(_,Je[0]+8,"WEBP")){et=3;break e}var ft=vt(_,Je[0]+4);if(12>ft||4294967286<ft){et=3;break e}if(Ee&&ft>dt[0]-8){et=7;break e}et[0]=ft,Je[0]+=12,dt[0]-=12}et=0}if(et!=0)return et;for(ft=0<qe.gb[0],k=k[0];;){e:{var bt=_;dt=C,et=k;var Ot=Se,Ct=Be,an=Je=[0];if((tn=tt=[tt])[0]=0,8>et[0])et=7;else{if(!t(bt,dt[0],"VP8X")){if(vt(bt,dt[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var Xt=vt(bt,dt[0]+8),jn=1+Ge(bt,dt[0]+12);if(2147483648<=jn*(bt=1+Ge(bt,dt[0]+15))){et=3;break e}an!=null&&(an[0]=Xt),Ot!=null&&(Ot[0]=jn),Ct!=null&&(Ct[0]=bt),dt[0]+=18,et[0]-=18,tn[0]=1}et=0}}if(tt=tt[0],Je=Je[0],et!=0)return et;if(dt=!!(2&Je),!ft&&tt)return 3;if(ie!=null&&(ie[0]=!!(16&Je)),se!=null&&(se[0]=dt),fe!=null&&(fe[0]=0),se=Se[0],Je=Be[0],tt&&dt&&ge==null){et=0;break}if(4>k){et=7;break}if(ft&&tt||!ft&&!tt&&!t(_,C[0],"ALPH")){k=[k],qe.na=[qe.na],qe.P=[qe.P],qe.Sa=[qe.Sa];e:{Xt=_,et=C,ft=k;var tn=qe.gb;Ot=qe.na,Ct=qe.P,an=qe.Sa,jn=22,e(Xt!=null),e(ft!=null),bt=et[0];var cr=ft[0];for(e(Ot!=null),e(an!=null),Ot[0]=null,Ct[0]=null,an[0]=0;;){if(et[0]=bt,ft[0]=cr,8>cr){et=7;break e}var hi=vt(Xt,bt+4);if(4294967286<hi){et=3;break e}var Yn=8+hi+1&-2;if(jn+=Yn,0<tn&&jn>tn){et=3;break e}if(!t(Xt,bt,"VP8 ")||!t(Xt,bt,"VP8L")){et=0;break e}if(cr[0]<Yn){et=7;break e}t(Xt,bt,"ALPH")||(Ot[0]=Xt,Ct[0]=bt+8,an[0]=hi),bt+=Yn,cr-=Yn}}if(k=k[0],qe.na=qe.na[0],qe.P=qe.P[0],qe.Sa=qe.Sa[0],et!=0)break}k=[k],qe.Ja=[qe.Ja],qe.xa=[qe.xa];e:if(tn=_,et=C,ft=k,Ot=qe.gb[0],Ct=qe.Ja,an=qe.xa,Xt=et[0],bt=!t(tn,Xt,"VP8 "),jn=!t(tn,Xt,"VP8L"),e(tn!=null),e(ft!=null),e(Ct!=null),e(an!=null),8>ft[0])et=7;else{if(bt||jn){if(tn=vt(tn,Xt+4),12<=Ot&&tn>Ot-12){et=3;break e}if(Ee&&tn>ft[0]-8){et=7;break e}Ct[0]=tn,et[0]+=8,ft[0]-=8,an[0]=jn}else an[0]=5<=ft[0]&&tn[Xt+0]==47&&!(tn[Xt+4]>>5),Ct[0]=ft[0];et=0}if(k=k[0],qe.Ja=qe.Ja[0],qe.xa=qe.xa[0],C=C[0],et!=0)break;if(4294967286<qe.Ja)return 3;if(fe==null||dt||(fe[0]=qe.xa?2:1),se=[se],Je=[Je],qe.xa){if(5>k){et=7;break}fe=se,Ee=Je,dt=ie,_==null||5>k?_=0:5<=k&&_[C+0]==47&&!(_[C+4]>>5)?(ft=[0],tn=[0],Ot=[0],He(Ct=new le,_,C,k),zs(Ct,ft,tn,Ot)?(fe!=null&&(fe[0]=ft[0]),Ee!=null&&(Ee[0]=tn[0]),dt!=null&&(dt[0]=Ot[0]),_=1):_=0):_=0}else{if(10>k){et=7;break}fe=Je,_==null||10>k||!Qi(_,C+3,k-3)?_=0:(Ee=_[C+0]|_[C+1]<<8|_[C+2]<<16,dt=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=qe.Ja||!dt||!_?_=0:(se&&(se[0]=dt),fe&&(fe[0]=_),_=1))}if(!_||(se=se[0],Je=Je[0],tt&&(Se[0]!=se||Be[0]!=Je)))return 3;ge!=null&&(ge[0]=qe,ge.offset=C-ge.w,e(4294967286>C-ge.w),e(ge.offset==ge.ha-k));break}return et==0||et==7&&tt&&ge==null?(ie!=null&&(ie[0]|=qe.na!=null&&0<qe.na.length),F!=null&&(F[0]=se),te!=null&&(te[0]=Je),0):et}function Xa(_,C,k){var F=C.width,te=C.height,ie=0,se=0,fe=F,ge=te;if(C.Da=_!=null&&0<_.Da,C.Da&&(fe=_.cd,ge=_.bd,ie=_.v,se=_.j,11>k||(ie&=-2,se&=-2),0>ie||0>se||0>=fe||0>=ge||ie+fe>F||se+ge>te))return 0;if(C.v=ie,C.j=se,C.va=ie+fe,C.o=se+ge,C.U=fe,C.T=ge,C.da=_!=null&&0<_.da,C.da){if(!Tt(fe,ge,k=[_.ib],ie=[_.hb]))return 0;C.ib=k[0],C.hb=ie[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*F/4&&C.hb<3*te/4,C.Kb=0),1}function Pl(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function Oa(_,C,k,F){if(F==null||0>=_||0>=C)return 2;if(k!=null){if(k.Da){var te=k.cd,ie=k.bd,se=-2&k.v,fe=-2&k.j;if(0>se||0>fe||0>=te||0>=ie||se+te>_||fe+ie>C)return 2;_=te,C=ie}if(k.da){if(!Tt(_,C,te=[k.ib],ie=[k.hb]))return 2;_=te[0],C=ie[0]}}F.width=_,F.height=C;e:{var ge=F.width,Se=F.height;if(_=F.S,0>=ge||0>=Se||!(_>=ch&&13>_))_=2;else{if(0>=F.Rd&&F.sd==null){se=ie=te=C=0;var Be=(fe=ge*yh[_])*Se;if(11>_||(ie=(Se+1)/2*(C=(ge+1)/2),_==12&&(se=(te=ge)*Se)),(Se=l(Be+2*ie+se))==null){_=1;break e}F.sd=Se,11>_?((ge=F.f.RGBA).eb=Se,ge.fb=0,ge.A=fe,ge.size=Be):((ge=F.f.kb).y=Se,ge.O=0,ge.fa=fe,ge.Fd=Be,ge.f=Se,ge.N=0+Be,ge.Ab=C,ge.Cd=ie,ge.ea=Se,ge.W=0+Be+ie,ge.Db=C,ge.Ed=ie,_==12&&(ge.F=Se,ge.J=0+Be+2*ie),ge.Tc=se,ge.lb=te)}if(C=1,te=F.S,ie=F.width,se=F.height,te>=ch&&13>te)if(11>te)_=F.f.RGBA,C&=(fe=Math.abs(_.A))*(se-1)+ie<=_.size,C&=fe>=ie*yh[te],C&=_.eb!=null;else{_=F.f.kb,fe=(ie+1)/2,Be=(se+1)/2,ge=Math.abs(_.fa),Se=Math.abs(_.Ab);var tt=Math.abs(_.Db),Ee=Math.abs(_.lb),qe=Ee*(se-1)+ie;C&=ge*(se-1)+ie<=_.Fd,C&=Se*(Be-1)+fe<=_.Cd,C=(C&=tt*(Be-1)+fe<=_.Ed)&ge>=ie&Se>=fe&tt>=fe,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,te==12&&(C&=Ee>=ie,C&=qe<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||k!=null&&k.fd&&(_=Pl(F)),_}var xs=64,ra=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ys=24,ia=32,Fn=8,Da=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ye("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(_){return _},P.Predictor2=function(_,C,k){return C[k+0]},P.Predictor3=function(_,C,k){return C[k+1]},P.Predictor4=function(_,C,k){return C[k-1]},P.Predictor5=function(_,C,k){return kt(kt(_,C[k+1]),C[k+0])},P.Predictor6=function(_,C,k){return kt(_,C[k-1])},P.Predictor7=function(_,C,k){return kt(_,C[k+0])},P.Predictor8=function(_,C,k){return kt(C[k-1],C[k+0])},P.Predictor9=function(_,C,k){return kt(C[k+0],C[k+1])},P.Predictor10=function(_,C,k){return kt(kt(_,C[k-1]),kt(C[k+0],C[k+1]))},P.Predictor11=function(_,C,k){var F=C[k+0];return 0>=Kt(F>>24&255,_>>24&255,(C=C[k-1])>>24&255)+Kt(F>>16&255,_>>16&255,C>>16&255)+Kt(F>>8&255,_>>8&255,C>>8&255)+Kt(255&F,255&_,255&C)?F:_},P.Predictor12=function(_,C,k){var F=C[k+0];return(Ut((_>>24&255)+(F>>24&255)-((C=C[k-1])>>24&255))<<24|Ut((_>>16&255)+(F>>16&255)-(C>>16&255))<<16|Ut((_>>8&255)+(F>>8&255)-(C>>8&255))<<8|Ut((255&_)+(255&F)-(255&C)))>>>0},P.Predictor13=function(_,C,k){var F=C[k-1];return(Sn((_=kt(_,C[k+0]))>>24&255,F>>24&255)<<24|Sn(_>>16&255,F>>16&255)<<16|Sn(_>>8&255,F>>8&255)<<8|Sn(255&_,255&F))>>>0};var Q=P.PredictorAdd0;P.PredictorAdd1=pn,Ye("Predictor2","PredictorAdd2"),Ye("Predictor3","PredictorAdd3"),Ye("Predictor4","PredictorAdd4"),Ye("Predictor5","PredictorAdd5"),Ye("Predictor6","PredictorAdd6"),Ye("Predictor7","PredictorAdd7"),Ye("Predictor8","PredictorAdd8"),Ye("Predictor9","PredictorAdd9"),Ye("Predictor10","PredictorAdd10"),Ye("Predictor11","PredictorAdd11"),Ye("Predictor12","PredictorAdd12"),Ye("Predictor13","PredictorAdd13");var s=P.PredictorAdd2;Qt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Qt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var c,u=P.ColorIndexInverseTransform,d=P.MapARGB,p=P.VP8LColorIndexInverseTransformAlpha,v=P.MapAlpha,A=P.VP8LPredictorsAdd=[];A.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var N,D,B,J,ne,be,Le,je,Xe,st,mt,xt,gt,xn,Cn,ii,vs,es,kr,ts,sa,Ho,Do,vu,Go,$a,bu,Ya,jl=l(511),oh=l(2041),wu=l(225),_u=l(767),lh=0,Wo=oh,Au=wu,aa=_u,Ws=jl,ch=0,oa=1,uh=2,eo=3,Eu=4,_c=5,ul=6,Su=7,hh=8,Ac=9,fh=10,to=[2,3,7],Ec=[3,3,11],Bl=[280,256,256,256,40],dh=[0,1,1,1,0],Cu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],no=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ro=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hl=8,io=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],so=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ka=null,l0=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ph=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],c0=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ur=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wa=[],Oi=[],_o=[],fl=1,Of=2,Xo=[],Ys=[];Rt("UpsampleRgbLinePair",gs,3),Rt("UpsampleBgrLinePair",xr,3),Rt("UpsampleRgbaLinePair",mi,4),Rt("UpsampleBgraLinePair",Ja,4),Rt("UpsampleArgbLinePair",na,4),Rt("UpsampleRgba4444LinePair",ba,2),Rt("UpsampleRgb565LinePair",qi,2);var Fl=P.UpsampleRgbLinePair,Df=P.UpsampleBgrLinePair,Sc=P.UpsampleRgbaLinePair,gh=P.UpsampleBgraLinePair,dl=P.UpsampleArgbLinePair,Lo=P.UpsampleRgba4444LinePair,pl=P.UpsampleRgb565LinePair,ao=16,Cc=1<<ao-1,Ul=-227,gl=482,mh=6,ml=0,Ks=l(256),xh=l(256),u0=l(256),Wp=l(256),Xp=l(gl-Ul),Yp=l(gl-Ul);Ra("YuvToRgbRow",gs,3),Ra("YuvToBgrRow",xr,3),Ra("YuvToRgbaRow",mi,4),Ra("YuvToBgraRow",Ja,4),Ra("YuvToArgbRow",na,4),Ra("YuvToRgba4444Row",ba,2),Ra("YuvToRgb565Row",qi,2);var Hi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nc=[0,2,8],Nu=[8,7,6,4,4,2,2,2,1,1,1,1],Tu=1;this.WebPDecodeRGBA=function(_,C,k,F,te){var ie=oa,se=new pt,fe=new Jt;se.ba=fe,fe.S=ie,fe.width=[fe.width],fe.height=[fe.height];var ge=fe.width,Se=fe.height,Be=new sn;if(Be==null||_==null)var tt=2;else e(Be!=null),tt=Wa(_,C,k,Be.width,Be.height,Be.Pd,Be.Qd,Be.format,null);if(tt!=0?ge=0:(ge!=null&&(ge[0]=Be.width[0]),Se!=null&&(Se[0]=Be.height[0]),ge=1),ge){fe.width=fe.width[0],fe.height=fe.height[0],F!=null&&(F[0]=fe.width),te!=null&&(te[0]=fe.height);e:{if(F=new Ri,(te=new St).data=_,te.w=C,te.ha=k,te.kd=1,C=[0],e(te!=null),((_=Wa(te.data,te.w,te.ha,null,null,null,C,null,te))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(e(se!=null),F.data=te.data,F.w=te.w+te.offset,F.ha=te.ha-te.offset,F.put=ln,F.ac=ei,F.bc=Ti,F.ma=se,te.xa){if((_=Fi())==null){se=1;break e}if((function(Ee,qe){var Je=[0],dt=[0],et=[0];t:for(;;){if(Ee==null)return 0;if(qe==null)return Ee.a=2,0;if(Ee.l=qe,Ee.a=0,He(Ee.m,qe.data,qe.w,qe.ha),!zs(Ee.m,Je,dt,et)){Ee.a=3;break t}if(Ee.xb=Of,qe.width=Je[0],qe.height=dt[0],!pa(Je[0],dt[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(_,F)){if(F=(C=Oa(F.width,F.height,se.Oa,se.ba))==0){t:{F=_;n:for(;;){if(F==null){F=0;break t}if(e(F.s.yc!=null),e(F.s.Ya!=null),e(0<F.s.Wb),e((k=F.l)!=null),e((te=k.ma)!=null),F.xb!=0){if(F.ca=te.ba,F.tb=te.tb,e(F.ca!=null),!Xa(te.Oa,k,eo)){F.a=2;break n}if(!Cs(F,k.width)||k.da)break n;if((k.da||bn(F.ca.S))&&it(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&it()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!ae(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!Bi(F,F.V,F.Ba,F.c,F.i,k.o,ci))break n;te.Dc=F.Ma,F=1;break t}e(F.a!=0),F=0}F=!F}F&&(C=_.a)}else C=_.a}else{if((_=new ti)==null){se=1;break e}if(_.Fa=te.na,_.P=te.P,_.qc=te.Sa,$s(_,F)){if((C=Oa(F.width,F.height,se.Oa,se.ba))==0){if(_.Aa=0,k=se.Oa,e((te=_)!=null),k!=null){if(0<(ge=0>(ge=k.Md)?0:100<ge?255:255*ge/100)){for(Se=Be=0;4>Se;++Se)12>(tt=te.pb[Se]).lc&&(tt.ia=ge*Nu[0>tt.lc?0:tt.lc]>>3),Be|=tt.ia;Be&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=k.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}(function(Ee,qe){if(Ee==null)return 0;if(qe==null)return yn(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!$s(Ee,qe))return 0;if(e(Ee.cb),qe.ac==null||qe.ac(qe)){qe.ob&&(Ee.L=0);var Je=Nc[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=qe.v-Je>>4,Ee.zb=qe.j-Je>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=qe.o+15+Je>>4,Ee.Hb=qe.va+15+Je>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var dt=Ee.ed;for(Je=0;4>Je;++Je){var et;if(Ee.Qa.Cb){var ft=Ee.Qa.Lb[Je];Ee.Qa.Fb||(ft+=dt.Tb)}else ft=dt.Tb;for(et=0;1>=et;++et){var bt=Ee.gd[Je][et],Ot=ft;if(dt.Pc&&(Ot+=dt.vd[0],et&&(Ot+=dt.od[0])),0<(Ot=0>Ot?0:63<Ot?63:Ot)){var Ct=Ot;0<dt.wb&&(Ct=4<dt.wb?Ct>>2:Ct>>1)>9-dt.wb&&(Ct=9-dt.wb),1>Ct&&(Ct=1),bt.dd=Ct,bt.tc=2*Ot+Ct,bt.ld=40<=Ot?2:15<=Ot?1:0}else bt.tc=0;bt.La=et}}}Je=0}else yn(Ee,6,"Frame setup failed"),Je=Ee.a;if(Je=Je==0){if(Je){Ee.$c=0,0<Ee.Aa||(Ee.Ic=Tu);t:{Je=Ee.Ic,dt=4*(Ct=Ee.za);var an=32*Ct,Xt=Ct+1,jn=0<Ee.L?Ct*(0<Ee.Aa?2:1):0,tn=(Ee.Aa==2?2:1)*Ct;if((bt=dt+832+(et=3*(16*Je+Nc[Ee.L])/2*an)+(ft=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=bt)Je=0;else{if(bt>Ee.Vb){if(Ee.Vb=0,Ee.Ec=l(bt),Ee.Fc=0,Ee.Ec==null){Je=yn(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=bt}bt=Ee.Ec,Ot=Ee.Fc,Ee.Ac=bt,Ee.Bc=Ot,Ot+=dt,Ee.Gd=f(an,tr),Ee.Hd=0,Ee.rb=f(Xt+1,or),Ee.sb=1,Ee.wa=jn?f(jn,Ts):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=Ct),e(!0),Ee.oc=bt,Ee.pc=Ot,Ot+=832,Ee.ya=f(tn,yo),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=Ct),Ee.R=16*Ct,Ee.B=8*Ct,Ct=(an=Nc[Ee.L])*Ee.R,an=an/2*Ee.B,Ee.sa=bt,Ee.ta=Ot+Ct,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Je*Ee.R+an,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Je*Ee.B+an,Ee.$c=0,Ot+=et,Ee.mb=ft?bt:null,Ee.nb=ft?Ot:null,e(Ot+ft<=Ee.Fc+Ee.Vb),ps(Ee),a(Ee.Ac,Ee.Bc,0,dt),Je=1}}if(Je){if(qe.ka=0,qe.y=Ee.sa,qe.O=Ee.ta,qe.f=Ee.qa,qe.N=Ee.ra,qe.ea=Ee.Ha,qe.Vd=Ee.Ia,qe.fa=Ee.R,qe.Rc=Ee.B,qe.F=null,qe.J=0,!lh){for(Je=-255;255>=Je;++Je)jl[255+Je]=0>Je?-Je:Je;for(Je=-1020;1020>=Je;++Je)oh[1020+Je]=-128>Je?-128:127<Je?127:Je;for(Je=-112;112>=Je;++Je)wu[112+Je]=-16>Je?-16:15<Je?15:Je;for(Je=-255;510>=Je;++Je)_u[255+Je]=0>Je?0:255<Je?255:Je;lh=1}Le=Ui,je=ve,st=zt,mt=ri,xt=gi,Xe=$e,gt=ta,xn=va,Cn=Z,ii=we,vs=at,es=O,kr=Me,ts=We,sa=Ia,Ho=ea,Do=wo,vu=lr,Oi[0]=Qa,Oi[1]=Ji,Oi[2]=Os,Oi[3]=mn,Oi[4]=hn,Oi[5]=bo,Oi[6]=ir,Oi[7]=gr,Oi[8]=qs,Oi[9]=Ds,wa[0]=Is,wa[1]=Tr,wa[2]=vo,wa[3]=qa,wa[4]=ga,wa[5]=Rs,wa[6]=Ur,_o[0]=Hs,_o[1]=cn,_o[2]=ma,_o[3]=Ha,_o[4]=Yr,_o[5]=Ls,_o[6]=ks,Je=1}else Je=0}Je&&(Je=(function(cr,hi){for(cr.M=0;cr.M<cr.Va;++cr.M){var Yn,Yt=cr.Jc[cr.M&cr.Xb],jt=cr.m,wi=cr;for(Yn=0;Yn<wi.za;++Yn){var On=jt,er=wi,zr=er.Ac,bs=er.Bc+4*Yn,Zs=er.zc,si=er.ya[er.aa+Yn];if(er.Qa.Bb?si.$b=Ne(On,er.Pa.jb[0])?2+Ne(On,er.Pa.jb[2]):Ne(On,er.Pa.jb[1]):si.$b=0,er.kc&&(si.Ad=Ne(On,er.Bd)),si.Za=!Ne(On,145)+0,si.Za){var ns=si.Ob,la=0;for(er=0;4>er;++er){var rs,sr=Zs[0+er];for(rs=0;4>rs;++rs){sr=Xs[zr[bs+rs]][sr];for(var Ir=ph[Ne(On,sr[0])];0<Ir;)Ir=ph[2*Ir+Ne(On,sr[Ir])];sr=-Ir,zr[bs+rs]=sr}r(ns,la,zr,bs,4),la+=4,Zs[0+er]=sr}}else sr=Ne(On,156)?Ne(On,128)?1:3:Ne(On,163)?2:0,si.Ob[0]=sr,a(zr,bs,sr,4),a(Zs,0,sr,4);si.Dd=Ne(On,142)?Ne(On,114)?Ne(On,183)?1:3:2:0}if(wi.m.Ka)return yn(cr,7,"Premature end-of-partition0 encountered.");for(;cr.ja<cr.za;++cr.ja){if(wi=Yt,On=(jt=cr).rb[jt.sb-1],zr=jt.rb[jt.sb+jt.ja],Yn=jt.ya[jt.aa+jt.ja],bs=jt.kc?Yn.Ad:0)On.la=zr.la=0,Yn.Za||(On.Na=zr.Na=0),Yn.Hc=0,Yn.Gc=0,Yn.ia=0;else{var _i,Mr;if(On=zr,zr=wi,bs=jt.Pa.Xc,Zs=jt.ya[jt.aa+jt.ja],si=jt.pb[Zs.$b],er=Zs.ad,ns=0,la=jt.rb[jt.sb-1],sr=rs=0,a(er,ns,0,384),Zs.Za)var ws=0,Ai=bs[3];else{Ir=l(16);var Rr=On.Na+la.Na;if(Rr=Ka(zr,bs[1],Rr,si.Eb,0,Ir,0),On.Na=la.Na=(0<Rr)+0,1<Rr)Le(Ir,0,er,ns);else{var Gi=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)er[ns+Ir]=Gi}ws=1,Ai=bs[0]}var qr=15&On.la,is=15&la.la;for(Ir=0;4>Ir;++Ir){var ss=1&is;for(Gi=Mr=0;4>Gi;++Gi)qr=qr>>1|(ss=(Rr=Ka(zr,Ai,Rr=ss+(1&qr),si.Sc,ws,er,ns))>ws)<<7,Mr=Mr<<2|(3<Rr?3:1<Rr?2:er[ns+0]!=0),ns+=16;qr>>=4,is=is>>1|ss<<7,rs=(rs<<8|Mr)>>>0}for(Ai=qr,ws=is>>4,_i=0;4>_i;_i+=2){for(Mr=0,qr=On.la>>4+_i,is=la.la>>4+_i,Ir=0;2>Ir;++Ir){for(ss=1&is,Gi=0;2>Gi;++Gi)Rr=ss+(1&qr),qr=qr>>1|(ss=0<(Rr=Ka(zr,bs[2],Rr,si.Qc,0,er,ns)))<<3,Mr=Mr<<2|(3<Rr?3:1<Rr?2:er[ns+0]!=0),ns+=16;qr>>=2,is=is>>1|ss<<5}sr|=Mr<<4*_i,Ai|=qr<<4<<_i,ws|=(240&is)<<_i}On.la=Ai,la.la=ws,Zs.Hc=rs,Zs.Gc=sr,Zs.ia=43690&sr?0:si.ia,bs=!(rs|sr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[Yn.$b][Yn.Za],jt.wa[jt.Y+jt.ja].La|=!bs),wi.Ka)return yn(cr,7,"Premature end-of-file encountered.")}if(ps(cr),jt=hi,wi=1,Yn=(Yt=cr).D,On=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(Yn.M=Yt.M,Yn.uc=On,xi(Yt,Yn),wi=1,Yn=(Mr=Yt.D).Nb,On=(sr=Nc[Yt.L])*Yt.R,zr=sr/2*Yt.B,Ir=16*Yn*Yt.R,Gi=8*Yn*Yt.B,bs=Yt.sa,Zs=Yt.ta-On+Ir,si=Yt.qa,er=Yt.ra-zr+Gi,ns=Yt.Ha,la=Yt.Ia-zr+Gi,is=(qr=Mr.M)==0,rs=qr>=Yt.Va-1,Yt.Aa==2&&xi(Yt,Mr),Mr.uc)for(ss=(Rr=Yt).D.M,e(Rr.D.uc),Mr=Rr.yb;Mr<Rr.Hb;++Mr){ws=Mr,Ai=ss;var Kr=(Cr=(as=Rr).D).Nb;_i=as.R;var Cr=Cr.wa[Cr.Y+ws],ca=as.sa,Di=as.ta+16*Kr*_i+16*ws,En=Cr.dd,Nn=Cr.tc;if(Nn!=0)if(e(3<=Nn),as.L==1)0<ws&&Ho(ca,Di,_i,Nn+4),Cr.La&&vu(ca,Di,_i,Nn),0<Ai&&sa(ca,Di,_i,Nn+4),Cr.La&&Do(ca,Di,_i,Nn);else{var Or=as.B,La=as.qa,oo=as.ra+8*Kr*Or+8*ws,_a=as.Ha,as=as.Ia+8*Kr*Or+8*ws;Kr=Cr.ld,0<ws&&(xn(ca,Di,_i,Nn+4,En,Kr),ii(La,oo,_a,as,Or,Nn+4,En,Kr)),Cr.La&&(es(ca,Di,_i,Nn,En,Kr),ts(La,oo,_a,as,Or,Nn,En,Kr)),0<Ai&&(gt(ca,Di,_i,Nn+4,En,Kr),Cn(La,oo,_a,as,Or,Nn+4,En,Kr)),Cr.La&&(vs(ca,Di,_i,Nn,En,Kr),kr(La,oo,_a,as,Or,Nn,En,Kr))}}if(Yt.ia&&alert("todo:DitherRow"),jt.put!=null){if(Mr=16*qr,qr=16*(qr+1),is?(jt.y=Yt.sa,jt.O=Yt.ta+Ir,jt.f=Yt.qa,jt.N=Yt.ra+Gi,jt.ea=Yt.Ha,jt.W=Yt.Ia+Gi):(Mr-=sr,jt.y=bs,jt.O=Zs,jt.f=si,jt.N=er,jt.ea=ns,jt.W=la),rs||(qr-=sr),qr>jt.o&&(qr=jt.o),jt.F=null,jt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&Mr<qr&&(jt.J=w(Yt,jt,Mr,qr-Mr),jt.F=Yt.mb,jt.F==null&&jt.F.length==0)){wi=yn(Yt,3,"Could not decode alpha data.");break t}Mr<jt.j&&(sr=jt.j-Mr,Mr=jt.j,e(!(1&sr)),jt.O+=Yt.R*sr,jt.N+=Yt.B*(sr>>1),jt.W+=Yt.B*(sr>>1),jt.F!=null&&(jt.J+=jt.width*sr)),Mr<qr&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=Mr-jt.j,jt.U=jt.va-jt.v,jt.T=qr-Mr,wi=jt.put(jt))}Yn+1!=Yt.Ic||rs||(r(Yt.sa,Yt.ta-On,bs,Zs+16*Yt.R,On),r(Yt.qa,Yt.ra-zr,si,er+8*Yt.B,zr),r(Yt.Ha,Yt.Ia-zr,ns,la+8*Yt.B,zr))}if(!wi)return yn(cr,6,"Output aborted.")}return 1})(Ee,qe)),qe.bc!=null&&qe.bc(qe),Je&=1}return Je?(Ee.cb=0,Je):0})(_,F)||(C=_.a)}}else C=_.a}C==0&&se.Oa!=null&&se.Oa.fd&&(C=Pl(se.ba))}se=C}ie=se!=0?null:11>ie?fe.f.RGBA.eb:fe.f.kb.y}else ie=null;return ie};var yh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function m(P,re){for(var j="",U=0;U<4;U++)j+=String.fromCharCode(P[re++]);return j}function b(P,re){return P[re+0]|P[re+1]<<8}function T(P,re){return(P[re+0]|P[re+1]<<8|P[re+2]<<16)>>>0}function L(P,re){return(P[re+0]|P[re+1]<<8|P[re+2]<<16|P[re+3]<<24)>>>0}new y;var R=[0],X=[0],W=[],$=new y,K=n,oe=(function(P,re){var j={},U=0,H=!1,Ce=0,xe=0;if(j.frames=[],!(function(q,le){for(var ee=0;ee<4;ee++)if(q[le+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(P,re)){for(L(P,re+=4),re+=8;re<P.length;){var _e=m(P,re),Te=L(P,re+=4);re+=4;var De=Te+(1&Te);switch(_e){case"VP8 ":case"VP8L":j.frames[U]===void 0&&(j.frames[U]={}),(de=j.frames[U]).src_off=H?xe:re-8,de.src_size=Ce+Te+8,U++,H&&(H=!1,Ce=0,xe=0);break;case"VP8X":(de=j.header={}).feature_flags=P[re];var He=re+4;de.canvas_width=1+T(P,He),He+=3,de.canvas_height=1+T(P,He),He+=3;break;case"ALPH":H=!0,Ce=De+8,xe=re-8;break;case"ANIM":(de=j.header).bgcolor=L(P,re),He=re+4,de.loop_count=b(P,He),He+=2;break;case"ANMF":var lt,de;(de=j.frames[U]={}).offset_x=2*T(P,re),re+=3,de.offset_y=2*T(P,re),re+=3,de.width=1+T(P,re),re+=3,de.height=1+T(P,re),re+=3,de.duration=T(P,re),re+=3,lt=P[re++],de.dispose=1&lt,de.blend=lt>>1&1}_e!="ANMF"&&(re+=De)}return j}})(K,0);oe.response=K,oe.rgbaoutput=!0,oe.dataurl=!1;var ue=oe.header?oe.header:null,pe=oe.frames?oe.frames:null;if(ue){ue.loop_counter=ue.loop_count,R=[ue.canvas_height],X=[ue.canvas_width];for(var Ue=0;Ue<pe.length&&pe[Ue].blend!=0;Ue++);}var ze=pe[0],Y=$.WebPDecodeRGBA(K,ze.src_off,ze.src_size,X,R);ze.rgba=Y,ze.imgwidth=X[0],ze.imgheight=R[0];for(var G=0;G<X[0]*R[0]*4;G++)W[G]=Y[G];return this.width=X,this.height=R,this.data=W,this}function tM(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function nM(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,a,l,f,g,y,m,b=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new y,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new f,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new f,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new T(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,l=this.internal.getVerticalCoordinate,f=this.internal.Point,g=this.internal.Rectangle,y=this.internal.Matrix,m=new b}]);var T=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var le=q;Object.defineProperty(this,"pdf",{get:function(){return le}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ae){ee=!!ae}});var ye=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ye},set:function(ae){ye=!!ae}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(ae){isNaN(ae)||(me=ae)}});var Pe=0;Object.defineProperty(this,"posY",{get:function(){return Pe},set:function(ae){isNaN(ae)||(Pe=ae)}}),Object.defineProperty(this,"margin",{get:function(){return m.margin},set:function(ae){var It;typeof ae=="number"?It=[ae,ae,ae,ae]:((It=new Array(4))[0]=ae[0],It[1]=ae.length>=2?ae[1]:It[0],It[2]=ae.length>=3?ae[2]:It[0],It[3]=ae.length>=4?ae[3]:It[1]),m.margin=It}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(ae){Ie=ae}});var Fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Fe},set:function(ae){Fe=ae}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ae){Ne=ae}}),Object.defineProperty(this,"ctx",{get:function(){return m},set:function(ae){ae instanceof b&&(m=ae)}}),Object.defineProperty(this,"path",{get:function(){return m.path},set:function(ae){m.path=ae}});var Qe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Qe},set:function(ae){Qe=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var It;It=L(ae),this.ctx.fillStyle=It.style,this.ctx.isFillTransparent=It.a===0,this.ctx.fillOpacity=It.a,this.pdf.setFillColor(It.r,It.g,It.b,{a:It.a}),this.pdf.setTextColor(It.r,It.g,It.b,{a:It.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var It=L(ae);this.ctx.strokeStyle=It.style,this.ctx.isStrokeTransparent=It.a===0,this.ctx.strokeOpacity=It.a,It.a===0?this.pdf.setDrawColor(255,255,255):(It.a,this.pdf.setDrawColor(It.r,It.g,It.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var Oe=null,Ge=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(ae){Oe=null,Ge=null,vt=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var It;if(this.ctx.font=ae,(It=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ae))!==null){var Lt=It[1];It[2];var Tt=It[3],Ae=It[4];It[5];var ht=It[6],Ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Ye==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Ye==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Dt=(function(Qt){var $r,en,ut=[],Gt=Qt.trim();if(Gt==="")return H2;if(Gt in v3)return[v3[Gt]];for(;Gt!=="";){switch(en=null,$r=(Gt=w3(Gt)).charAt(0)){case'"':case"'":en=Kk(Gt.substring(1),$r);break;default:en=Zk(Gt)}if(en===null||(ut.push(en[0]),(Gt=w3(en[1]))!==""&&Gt.charAt(0)!==","))return H2;Gt=Gt.replace(/^,/,"")}return ut})(ht);if(this.fontFaces){var kt=(function(Qt,$r){var en=Qt.getFontList(),ut=JSON.stringify(en);if(Oe===null||Ge!==ut){var Gt=(function(qt){var Bt=[];return Object.keys(qt).forEach(function(ar){qt[ar].forEach(function(bn){var An=null;switch(bn){case"bold":An={family:ar,weight:"bold"};break;case"italic":An={family:ar,style:"italic"};break;case"bolditalic":An={family:ar,weight:"bold",style:"italic"};break;case"":case"normal":An={family:ar}}An!==null&&(An.ref={name:ar,style:bn},Bt.push(An))})}),Bt})(en);Oe=(function(qt){for(var Bt={},ar=0;ar<qt.length;++ar){var bn=q2(qt[ar]),An=bn.family,rn=bn.stretch,Jt=bn.style,sn=bn.weight;Bt[An]=Bt[An]||{},Bt[An][rn]=Bt[An][rn]||{},Bt[An][rn][Jt]=Bt[An][rn][Jt]||{},Bt[An][rn][Jt][sn]=bn}return Bt})(Gt.concat($r)),Ge=ut}return Oe})(this.pdf,this.fontFaces),Ut=Dt.map(function(Qt){return{family:Qt,stretch:"normal",weight:Tt,style:Lt}}),Sn=(function(Qt,$r,en){for(var ut=(en=en||{}).defaultFontFamily||"times",Gt=Object.assign({},Yk,en.genericFontFamilies||{}),qt=null,Bt=null,ar=0;ar<$r.length;++ar)if(Gt[(qt=q2($r[ar])).family]&&(qt.family=Gt[qt.family]),Qt.hasOwnProperty(qt.family)){Bt=Qt[qt.family];break}if(!(Bt=Bt||Qt[ut]))throw new Error("Could not find a font-family for the rule '"+b3(qt)+"' and default family '"+ut+"'.");if(Bt=(function(bn,An){if(An[bn])return An[bn];var rn=Um[bn],Jt=rn<=Um.normal?-1:1,sn=y3(An,LE,rn,Jt);if(!sn)throw new Error("Could not find a matching font-stretch value for "+bn);return sn})(qt.stretch,Bt),Bt=(function(bn,An){if(An[bn])return An[bn];for(var rn=DE[bn],Jt=0;Jt<rn.length;++Jt)if(An[rn[Jt]])return An[rn[Jt]];throw new Error("Could not find a matching font-style for "+bn)})(qt.style,Bt),!(Bt=(function(bn,An){if(An[bn])return An[bn];if(bn===400&&An[500])return An[500];if(bn===500&&An[400])return An[400];var rn=Xk[bn],Jt=y3(An,kE,rn,bn<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+bn);return Jt})(qt.weight,Bt)))throw new Error("Failed to resolve a font for the rule '"+b3(qt)+"'.");return Bt})(kt,Ut);this.pdf.setFont(Sn.ref.name,Sn.ref.style)}else{var Kt="";(Tt==="bold"||parseInt(Tt,10)>=700||Lt==="bold")&&(Kt="bold"),Lt==="italic"&&(Kt+="italic"),Kt.length===0&&(Kt="normal");for(var pn="",gn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vt=0;Vt<Dt.length;Vt++){if(this.pdf.internal.getFont(Dt[Vt],Kt,{noFallback:!0,disableWarning:!0})!==void 0){pn=Dt[Vt];break}if(Kt==="bolditalic"&&this.pdf.internal.getFont(Dt[Vt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pn=Dt[Vt],Kt="bold";else if(this.pdf.internal.getFont(Dt[Vt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pn=Dt[Vt],Kt="normal";break}}if(pn===""){for(var kn=0;kn<Dt.length;kn++)if(gn[Dt[kn]]){pn=gn[Dt[kn]];break}}pn=pn===""?"Times":pn,this.pdf.setFont(pn,Kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,de.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,de.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};T.prototype.setLineDash=function(q){this.lineDash=q},T.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},T.prototype.fill=function(){pe.call(this,"fill",!1)},T.prototype.stroke=function(){pe.call(this,"stroke",!1)},T.prototype.beginPath=function(){this.path=[{type:"begin"}]},T.prototype.moveTo=function(q,le){if(isNaN(q)||isNaN(le))throw di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new f(q,le));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new f(q,le)},T.prototype.closePath=function(){var q=new f(0,0),le=0;for(le=this.path.length-1;le!==-1;le--)if(this.path[le].type==="begin"&&Jr(this.path[le+1])==="object"&&typeof this.path[le+1].x=="number"){q=new f(this.path[le+1].x,this.path[le+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new f(q.x,q.y)},T.prototype.lineTo=function(q,le){if(isNaN(q)||isNaN(le))throw di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new f(q,le));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new f(ee.x,ee.y)},T.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),pe.call(this,null,!0)},T.prototype.quadraticCurveTo=function(q,le,ee,ye){if(isNaN(ee)||isNaN(ye)||isNaN(q)||isNaN(le))throw di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new f(ee,ye)),Pe=this.ctx.transform.applyToPoint(new f(q,le));this.path.push({type:"qct",x1:Pe.x,y1:Pe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new f(me.x,me.y)},T.prototype.bezierCurveTo=function(q,le,ee,ye,me,Pe){if(isNaN(me)||isNaN(Pe)||isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye))throw di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new f(me,Pe)),Fe=this.ctx.transform.applyToPoint(new f(q,le)),Ne=this.ctx.transform.applyToPoint(new f(ee,ye));this.path.push({type:"bct",x1:Fe.x,y1:Fe.y,x2:Ne.x,y2:Ne.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new f(Ie.x,Ie.y)},T.prototype.arc=function(q,le,ee,ye,me,Pe){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye)||isNaN(me))throw di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Pe=!!Pe,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new f(q,le));q=Ie.x,le=Ie.y;var Fe=this.ctx.transform.applyToPoint(new f(0,ee)),Ne=this.ctx.transform.applyToPoint(new f(0,0));ee=Math.sqrt(Math.pow(Fe.x-Ne.x,2)+Math.pow(Fe.y-Ne.y,2))}Math.abs(me-ye)>=2*Math.PI&&(ye=0,me=2*Math.PI),this.path.push({type:"arc",x:q,y:le,radius:ee,startAngle:ye,endAngle:me,counterclockwise:Pe})},T.prototype.arcTo=function(q,le,ee,ye,me){throw new Error("arcTo not implemented.")},T.prototype.rect=function(q,le,ee,ye){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye))throw di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,le),this.lineTo(q+ee,le),this.lineTo(q+ee,le+ye),this.lineTo(q,le+ye),this.lineTo(q,le),this.lineTo(q+ee,le),this.lineTo(q,le)},T.prototype.fillRect=function(q,le,ee,ye){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye))throw di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!R.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,le,ee,ye),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},T.prototype.strokeRect=function(q,le,ee,ye){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye))throw di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");X.call(this)||(this.beginPath(),this.rect(q,le,ee,ye),this.stroke())},T.prototype.clearRect=function(q,le,ee,ye){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye))throw di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,le,ee,ye))},T.prototype.save=function(q){q=typeof q!="boolean"||q;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(le),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var ye=new b(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ye}},T.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var le=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(le),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},T.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var L=function(q){var le,ee,ye,me;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))le=0,ee=0,ye=0,me=0;else{var Pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(Pe!==null)le=parseInt(Pe[1]),ee=parseInt(Pe[2]),ye=parseInt(Pe[3]),me=1;else if((Pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)le=parseInt(Pe[1]),ee=parseInt(Pe[2]),ye=parseInt(Pe[3]),me=parseFloat(Pe[4]);else{if(me=1,typeof q=="string"&&q.charAt(0)!=="#"){var Ie=new SE(q);q=Ie.ok?Ie.toHex():"#000000"}q.length===4?(le=q.substring(1,2),le+=le,ee=q.substring(2,3),ee+=ee,ye=q.substring(3,4),ye+=ye):(le=q.substring(1,3),ee=q.substring(3,5),ye=q.substring(5,7)),le=parseInt(le,16),ee=parseInt(ee,16),ye=parseInt(ye,16)}}return{r:le,g:ee,b:ye,a:me,style:q}},R=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},X=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};T.prototype.fillText=function(q,le,ee,ye){if(isNaN(le)||isNaN(ee)||typeof q!="string")throw di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ye=isNaN(ye)?void 0:ye,!R.call(this)){var me=De(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;U.call(this,{text:q,x:le,y:ee,scale:Pe,angle:me,align:this.textAlign,maxWidth:ye})}},T.prototype.strokeText=function(q,le,ee,ye){if(isNaN(le)||isNaN(ee)||typeof q!="string")throw di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!X.call(this)){ye=isNaN(ye)?void 0:ye;var me=De(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;U.call(this,{text:q,x:le,y:ee,scale:Pe,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:ye})}},T.prototype.measureText=function(q){if(typeof q!="string")throw di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var le=this.pdf,ee=this.pdf.internal.scaleFactor,ye=le.internal.getFontSize(),me=le.getStringUnitWidth(q)*ye/le.internal.scaleFactor;return new function(Pe){var Ie=(Pe=Pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this}({width:me*=Math.round(96*ee/72*1e4)/1e4})},T.prototype.scale=function(q,le){if(isNaN(q)||isNaN(le))throw di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new y(q,0,0,le,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},T.prototype.rotate=function(q){if(isNaN(q))throw di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var le=new y(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(le)},T.prototype.translate=function(q,le){if(isNaN(q)||isNaN(le))throw di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new y(1,0,0,1,q,le);this.ctx.transform=this.ctx.transform.multiply(ee)},T.prototype.transform=function(q,le,ee,ye,me,Pe){if(isNaN(q)||isNaN(le)||isNaN(ee)||isNaN(ye)||isNaN(me)||isNaN(Pe))throw di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new y(q,le,ee,ye,me,Pe);this.ctx.transform=this.ctx.transform.multiply(Ie)},T.prototype.setTransform=function(q,le,ee,ye,me,Pe){q=isNaN(q)?1:q,le=isNaN(le)?0:le,ee=isNaN(ee)?0:ee,ye=isNaN(ye)?1:ye,me=isNaN(me)?0:me,Pe=isNaN(Pe)?0:Pe,this.ctx.transform=new y(q,le,ee,ye,me,Pe)};var W=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};T.prototype.drawImage=function(q,le,ee,ye,me,Pe,Ie,Fe,Ne){var Qe=this.pdf.getImageProperties(q),Oe=1,Ge=1,vt=1,ae=1;ye!==void 0&&Fe!==void 0&&(vt=Fe/ye,ae=Ne/me,Oe=Qe.width/ye*Fe/ye,Ge=Qe.height/me*Ne/me),Pe===void 0&&(Pe=le,Ie=ee,le=0,ee=0),ye!==void 0&&Fe===void 0&&(Fe=ye,Ne=me),ye===void 0&&Fe===void 0&&(Fe=Qe.width,Ne=Qe.height);var It=this.ctx.transform.decompose(),Lt=De(It.rotate.shx),Tt=new y,Ae=(Tt=(Tt=(Tt=Tt.multiply(It.translate)).multiply(It.skew)).multiply(It.scale)).applyToRectangle(new g(Pe-le*vt,Ie-ee*ae,ye*Oe,me*Ge));if(this.autoPaging){for(var ht,Ye=$.call(this,Ae),Dt=[],kt=0;kt<Ye.length;kt+=1)Dt.indexOf(Ye[kt])===-1&&Dt.push(Ye[kt]);ue(Dt);for(var Ut=Dt[0],Sn=Dt[Dt.length-1],Kt=Ut;Kt<Sn+1;Kt++){this.pdf.setPage(Kt);var pn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],gn=Kt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qt=Kt===1?0:Vt+(Kt-2)*kn;if(this.ctx.clip_path.length!==0){var $r=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(ht,this.posX+this.margin[3],-Qt+gn+this.ctx.prevPageLastElemOffset),Ue.call(this,"fill",!0),this.path=$r}var en=JSON.parse(JSON.stringify(Ae));en=oe([en],this.posX+this.margin[3],-Qt+gn+this.ctx.prevPageLastElemOffset)[0];var ut=(Kt>Ut||Kt<Sn)&&W.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pn,kn,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",en.x,en.y,en.w,en.h,null,null,Lt),ut&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(q,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Lt)};var $=function(q,le,ee){var ye=[];le=le||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":ye.push(Math.floor((q.y+me)/ee)+1);break;case"arc":ye.push(Math.floor((q.y+me-q.radius)/ee)+1),ye.push(Math.floor((q.y+me+q.radius)/ee)+1);break;case"qct":var Pe=He(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);ye.push(Math.floor((Pe.y+me)/ee)+1),ye.push(Math.floor((Pe.y+Pe.h+me)/ee)+1);break;case"bct":var Ie=lt(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);ye.push(Math.floor((Ie.y+me)/ee)+1),ye.push(Math.floor((Ie.y+Ie.h+me)/ee)+1);break;case"rect":ye.push(Math.floor((q.y+me)/ee)+1),ye.push(Math.floor((q.y+q.h+me)/ee)+1)}for(var Fe=0;Fe<ye.length;Fe+=1)for(;this.pdf.internal.getNumberOfPages()<ye[Fe];)K.call(this);return ye},K=function(){var q=this.fillStyle,le=this.strokeStyle,ee=this.font,ye=this.lineCap,me=this.lineWidth,Pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=le,this.font=ee,this.lineCap=ye,this.lineWidth=me,this.lineJoin=Pe},oe=function(q,le,ee){for(var ye=0;ye<q.length;ye++)switch(q[ye].type){case"bct":q[ye].x2+=le,q[ye].y2+=ee;case"qct":q[ye].x1+=le,q[ye].y1+=ee;default:q[ye].x+=le,q[ye].y+=ee}return q},ue=function(q){return q.sort(function(le,ee){return le-ee})},pe=function(q,le){var ee=this.fillStyle,ye=this.strokeStyle,me=this.lineCap,Pe=this.lineWidth,Ie=Math.abs(Pe*this.ctx.transform.scaleX),Fe=this.lineJoin;if(this.autoPaging){for(var Ne,Qe,Oe=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),vt=[],ae=0;ae<Ge.length;ae++)if(Ge[ae].x!==void 0)for(var It=$.call(this,Ge[ae]),Lt=0;Lt<It.length;Lt+=1)vt.indexOf(It[Lt])===-1&&vt.push(It[Lt]);for(var Tt=0;Tt<vt.length;Tt++)for(;this.pdf.internal.getNumberOfPages()<vt[Tt];)K.call(this);ue(vt);for(var Ae=vt[0],ht=vt[vt.length-1],Ye=Ae;Ye<ht+1;Ye++){this.pdf.setPage(Ye),this.fillStyle=ee,this.strokeStyle=ye,this.lineCap=me,this.lineWidth=Ie,this.lineJoin=Fe;var Dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=Ye===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Kt=Ye===1?0:Ut+(Ye-2)*Sn;if(this.ctx.clip_path.length!==0){var pn=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(Ne,this.posX+this.margin[3],-Kt+kt+this.ctx.prevPageLastElemOffset),Ue.call(this,q,!0),this.path=pn}if(Qe=JSON.parse(JSON.stringify(Oe)),this.path=oe(Qe,this.posX+this.margin[3],-Kt+kt+this.ctx.prevPageLastElemOffset),le===!1||Ye===0){var gn=(Ye>Ae||Ye<ht)&&W.call(this);gn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Dt,Sn,null).clip().discardPath()),Ue.call(this,q,le),gn&&this.pdf.restoreGraphicsState()}this.lineWidth=Pe}this.path=Oe}else this.lineWidth=Ie,Ue.call(this,q,le),this.lineWidth=Pe},Ue=function(q,le){if((q!=="stroke"||le||!X.call(this))&&(q==="stroke"||le||!R.call(this))){for(var ee,ye,me=[],Pe=this.path,Ie=0;Ie<Pe.length;Ie++){var Fe=Pe[Ie];switch(Fe.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:Fe,deltas:[],abs:[]});break;case"lt":var Ne=me.length;if(Pe[Ie-1]&&!isNaN(Pe[Ie-1].x)&&(ee=[Fe.x-Pe[Ie-1].x,Fe.y-Pe[Ie-1].y],Ne>0)){for(;Ne>=0;Ne--)if(me[Ne-1].close!==!0&&me[Ne-1].begin!==!0){me[Ne-1].deltas.push(ee),me[Ne-1].abs.push(Fe);break}}break;case"bct":ee=[Fe.x1-Pe[Ie-1].x,Fe.y1-Pe[Ie-1].y,Fe.x2-Pe[Ie-1].x,Fe.y2-Pe[Ie-1].y,Fe.x-Pe[Ie-1].x,Fe.y-Pe[Ie-1].y],me[me.length-1].deltas.push(ee);break;case"qct":var Qe=Pe[Ie-1].x+2/3*(Fe.x1-Pe[Ie-1].x),Oe=Pe[Ie-1].y+2/3*(Fe.y1-Pe[Ie-1].y),Ge=Fe.x+2/3*(Fe.x1-Fe.x),vt=Fe.y+2/3*(Fe.y1-Fe.y),ae=Fe.x,It=Fe.y;ee=[Qe-Pe[Ie-1].x,Oe-Pe[Ie-1].y,Ge-Pe[Ie-1].x,vt-Pe[Ie-1].y,ae-Pe[Ie-1].x,It-Pe[Ie-1].y],me[me.length-1].deltas.push(ee);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(Fe)}}ye=le?null:q==="stroke"?"stroke":"fill";for(var Lt=!1,Tt=0;Tt<me.length;Tt++)if(me[Tt].arc)for(var Ae=me[Tt].abs,ht=0;ht<Ae.length;ht++){var Ye=Ae[ht];Ye.type==="arc"?G.call(this,Ye.x,Ye.y,Ye.radius,Ye.startAngle,Ye.endAngle,Ye.counterclockwise,void 0,le,!Lt):H.call(this,Ye.x,Ye.y),Lt=!0}else if(me[Tt].close===!0)this.pdf.internal.out("h"),Lt=!1;else if(me[Tt].begin!==!0){var Dt=me[Tt].start.x,kt=me[Tt].start.y;Ce.call(this,me[Tt].deltas,Dt,kt),Lt=!0}ye&&P.call(this,ye),le&&re.call(this)}},ze=function(q){var le=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=le*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-ee;case"top":return q+le-ee;case"hanging":return q+le-2*ee;case"middle":return q+le/2-ee;default:return q}},Y=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};T.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(le,ee){this.colorStops.push([le,ee])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},T.prototype.createPattern=function(){return this.createLinearGradient()},T.prototype.createRadialGradient=function(){return this.createLinearGradient()};var G=function(q,le,ee,ye,me,Pe,Ie,Fe,Ne){for(var Qe=_e.call(this,ee,ye,me,Pe),Oe=0;Oe<Qe.length;Oe++){var Ge=Qe[Oe];Oe===0&&(Ne?j.call(this,Ge.x1+q,Ge.y1+le):H.call(this,Ge.x1+q,Ge.y1+le)),xe.call(this,q,le,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}Fe?re.call(this):P.call(this,Ie)},P=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(q,le){this.pdf.internal.out(t(q)+" "+r(le)+" m")},U=function(q){var le;switch(q.align){case"right":case"end":le="right";break;case"center":le="center";break;default:le="left"}var ee,ye,me,Pe=this.pdf.getTextDimensions(q.text),Ie=ze.call(this,q.y),Fe=Y.call(this,Ie)-Pe.h,Ne=this.ctx.transform.applyToPoint(new f(q.x,Ie));if(this.autoPaging){var Qe=this.ctx.transform.decompose(),Oe=new y;Oe=(Oe=(Oe=Oe.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale);for(var Ge=this.ctx.transform.applyToRectangle(new g(q.x,Ie,Pe.w,Pe.h)),vt=Oe.applyToRectangle(new g(q.x,Fe,Pe.w,Pe.h)),ae=$.call(this,vt),It=[],Lt=0;Lt<ae.length;Lt+=1)It.indexOf(ae[Lt])===-1&&It.push(ae[Lt]);ue(It);for(var Tt=It[0],Ae=It[It.length-1],ht=Tt;ht<Ae+1;ht++){this.pdf.setPage(ht);var Ye=ht===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Ut=kt-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],Kt=Sn-this.margin[3],pn=ht===1?0:Dt+(ht-2)*Ut;if(this.ctx.clip_path.length!==0){var gn=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=oe(ee,this.posX+this.margin[3],-1*pn+Ye),Ue.call(this,"fill",!0),this.path=gn}var Vt=oe([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-pn+Ye+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*q.scale),me=this.lineWidth,this.lineWidth=me*q.scale);var kn=this.autoPaging!=="text";if(kn||Vt.y+Vt.h<=kt){if(kn||Vt.y>=Ye&&Vt.x<=Sn){var Qt=kn?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Sn-Vt.x)[0],$r=oe([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-pn+Ye+this.ctx.prevPageLastElemOffset)[0],en=kn&&(ht>Tt||ht<Ae)&&W.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,Ut,null).clip().discardPath()),this.pdf.text(Qt,$r.x,$r.y,{angle:q.angle,align:le,renderingMode:q.renderingMode}),en&&this.pdf.restoreGraphicsState()}}else Vt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-Vt.y);q.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=me)}}else q.scale>=.01&&(ye=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ye*q.scale),me=this.lineWidth,this.lineWidth=me*q.scale),this.pdf.text(q.text,Ne.x+this.posX,Ne.y+this.posY,{angle:q.angle,align:le,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(ye),this.lineWidth=me)},H=function(q,le,ee,ye){ee=ee||0,ye=ye||0,this.pdf.internal.out(t(q+ee)+" "+r(le+ye)+" l")},Ce=function(q,le,ee){return this.pdf.lines(q,le,ee,null,null)},xe=function(q,le,ee,ye,me,Pe,Ie,Fe){this.pdf.internal.out([e(a(ee+q)),e(l(ye+le)),e(a(me+q)),e(l(Pe+le)),e(a(Ie+q)),e(l(Fe+le)),"c"].join(" "))},_e=function(q,le,ee,ye){for(var me=2*Math.PI,Pe=Math.PI/2;le>ee;)le-=me;var Ie=Math.abs(ee-le);Ie<me&&ye&&(Ie=me-Ie);for(var Fe=[],Ne=ye?-1:1,Qe=le;Ie>1e-5;){var Oe=Qe+Ne*Math.min(Ie,Pe);Fe.push(Te.call(this,q,Qe,Oe)),Ie-=Math.abs(Oe-Qe),Qe=Oe}return Fe},Te=function(q,le,ee){var ye=(ee-le)/2,me=q*Math.cos(ye),Pe=q*Math.sin(ye),Ie=me,Fe=-Pe,Ne=Ie*Ie+Fe*Fe,Qe=Ne+Ie*me+Fe*Pe,Oe=4/3*(Math.sqrt(2*Ne*Qe)-Qe)/(Ie*Pe-Fe*me),Ge=Ie-Oe*Fe,vt=Fe+Oe*Ie,ae=Ge,It=-vt,Lt=ye+le,Tt=Math.cos(Lt),Ae=Math.sin(Lt);return{x1:q*Math.cos(le),y1:q*Math.sin(le),x2:Ge*Tt-vt*Ae,y2:Ge*Ae+vt*Tt,x3:ae*Tt-It*Ae,y3:ae*Ae+It*Tt,x4:q*Math.cos(ee),y4:q*Math.sin(ee)}},De=function(q){return 180*q/Math.PI},He=function(q,le,ee,ye,me,Pe){var Ie=q+.5*(ee-q),Fe=le+.5*(ye-le),Ne=me+.5*(ee-me),Qe=Pe+.5*(ye-Pe),Oe=Math.min(q,me,Ie,Ne),Ge=Math.max(q,me,Ie,Ne),vt=Math.min(le,Pe,Fe,Qe),ae=Math.max(le,Pe,Fe,Qe);return new g(Oe,vt,Ge-Oe,ae-vt)},lt=function(q,le,ee,ye,me,Pe,Ie,Fe){var Ne,Qe,Oe,Ge,vt,ae,It,Lt,Tt,Ae,ht,Ye,Dt,kt,Ut=ee-q,Sn=ye-le,Kt=me-ee,pn=Pe-ye,gn=Ie-me,Vt=Fe-Pe;for(Qe=0;Qe<41;Qe++)Tt=(It=(Oe=q+(Ne=Qe/40)*Ut)+Ne*((vt=ee+Ne*Kt)-Oe))+Ne*(vt+Ne*(me+Ne*gn-vt)-It),Ae=(Lt=(Ge=le+Ne*Sn)+Ne*((ae=ye+Ne*pn)-Ge))+Ne*(ae+Ne*(Pe+Ne*Vt-ae)-Lt),Qe==0?(ht=Tt,Ye=Ae,Dt=Tt,kt=Ae):(ht=Math.min(ht,Tt),Ye=Math.min(Ye,Ae),Dt=Math.max(Dt,Tt),kt=Math.max(kt,Ae));return new g(Math.round(ht),Math.round(Ye),Math.round(Dt-ht),Math.round(kt-Ye))},de=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,le,ee=(q=this.ctx.lineDash,le=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:le}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(dn.API),(function(n){var e=function(f){var g,y,m,b,T,L,R,X,W,$;for(y=[],m=0,b=(f+=g="\0\0\0\0".slice(f.length%4||4)).length;b>m;m+=4)(T=(f.charCodeAt(m)<<24)+(f.charCodeAt(m+1)<<16)+(f.charCodeAt(m+2)<<8)+f.charCodeAt(m+3))!==0?(L=(T=((T=((T=((T=(T-($=T%85))/85)-(W=T%85))/85)-(X=T%85))/85)-(R=T%85))/85)%85,y.push(L+33,R+33,X+33,W+33,$+33)):y.push(122);return(function(K,oe){for(var ue=oe;ue>0;ue--)K.pop()})(y,g.length),String.fromCharCode.apply(String,y)+"~>"},t=function(f){var g,y,m,b,T,L=String,R="length",X=255,W="charCodeAt",$="slice",K="replace";for(f[$](-2),f=f[$](0,-2)[K](/\s/g,"")[K]("z","!!!!!"),m=[],b=0,T=(f+=g="uuuuu"[$](f[R]%5||5))[R];T>b;b+=5)y=52200625*(f[W](b)-33)+614125*(f[W](b+1)-33)+7225*(f[W](b+2)-33)+85*(f[W](b+3)-33)+(f[W](b+4)-33),m.push(X&y>>24,X&y>>16,X&y>>8,X&y);return(function(oe,ue){for(var pe=ue;pe>0;pe--)oe.pop()})(m,g[R]),L.fromCharCode.apply(L,m)},r=function(f){return f.split("").map(function(g){return("0"+g.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(f){var g=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((f=f.replace(/\s/g,"")).indexOf(">")!==-1&&(f=f.substr(0,f.indexOf(">"))),f.length%2&&(f+="0"),g.test(f)===!1)return"";for(var y="",m=0;m<f.length;m+=2)y+=String.fromCharCode("0x"+(f[m]+f[m+1]));return y},l=function(f){for(var g=new Uint8Array(f.length),y=f.length;y--;)g[y]=f.charCodeAt(y);return(g=Lm(g)).reduce(function(m,b){return m+String.fromCharCode(b)},"")};n.processDataByFilters=function(f,g){var y=0,m=f||"",b=[];for(typeof(g=g||[])=="string"&&(g=[g]),y=0;y<g.length;y+=1)switch(g[y]){case"ASCII85Decode":case"/ASCII85Decode":m=t(m),b.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":m=e(m),b.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":m=a(m),b.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":m=r(m),b.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":m=l(m),b.push("/FlateDecode");break;default:throw new Error('The filter: "'+g[y]+'" is not implemented')}return{data:m,reverseChain:b.reverse().join(" ")}}})(dn.API),(function(n){n.loadFile=function(e,t,r){return(function(a,l,f){l=l!==!1,f=typeof f=="function"?f:function(){};var g=void 0;try{g=(function(y,m,b){var T=new XMLHttpRequest,L=0,R=function(X){var W=X.length,$=[],K=String.fromCharCode;for(L=0;L<W;L+=1)$.push(K(255&X.charCodeAt(L)));return $.join("")};if(T.open("GET",y,!m),T.overrideMimeType("text/plain; charset=x-user-defined"),m===!1&&(T.onload=function(){T.status===200?b(R(this.responseText)):b(void 0)}),T.send(null),m&&T.status===200)return R(T.responseText)})(a,l,f)}catch{}return g})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(dn.API),(function(n){function e(){return(Bn.html2canvas?Promise.resolve(Bn.html2canvas):S2(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load html2canvas: "+g))}).then(function(g){return g.default?g.default:g})}function t(){return(Bn.DOMPurify?Promise.resolve(Bn.DOMPurify):S2(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load dompurify: "+g))}).then(function(g){return g.default?g.default:g})}var r=function(g){var y=Jr(g);return y==="undefined"?"undefined":y==="string"||g instanceof String?"string":y==="number"||g instanceof Number?"number":y==="function"||g instanceof Function?"function":g&&g.constructor===Array?"array":g&&g.nodeType===1?"element":y==="object"?"object":"unknown"},a=function(g,y){var m=document.createElement(g);for(var b in y.className&&(m.className=y.className),y.innerHTML&&y.dompurify&&(m.innerHTML=y.dompurify.sanitize(y.innerHTML)),y.style)m.style[b]=y.style[b];return m},l=function g(y,m){for(var b=y.nodeType===3?document.createTextNode(y.nodeValue):y.cloneNode(!1),T=y.firstChild;T;T=T.nextSibling)m!==!0&&T.nodeType===1&&T.nodeName==="SCRIPT"||b.appendChild(g(T,m));return y.nodeType===1&&(y.nodeName==="CANVAS"?(b.width=y.width,b.height=y.height,b.getContext("2d").drawImage(y,0,0)):y.nodeName!=="TEXTAREA"&&y.nodeName!=="SELECT"||(b.value=y.value),b.addEventListener("load",function(){b.scrollTop=y.scrollTop,b.scrollLeft=y.scrollLeft},!0)),b},f=function g(y){var m=Object.assign(g.convert(Promise.resolve()),JSON.parse(JSON.stringify(g.template))),b=g.convert(Promise.resolve(),m);return(b=b.setProgress(1,g,1,[g])).set(y)};(f.prototype=Object.create(Promise.prototype)).constructor=f,f.convert=function(g,y){return g.__proto__=y||f.prototype,g},f.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},f.prototype.from=function(g,y){return this.then(function(){switch(y=y||(function(m){switch(r(m)){case"string":return"string";case"element":return m.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(g),y){case"string":return this.then(t).then(function(m){return this.set({src:a("div",{innerHTML:g,dompurify:m})})});case"element":return this.set({src:g});case"canvas":return this.set({canvas:g});case"img":return this.set({img:g});default:return this.error("Unknown source type.")}})},f.prototype.to=function(g){switch(g){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},f.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var g={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},y=l(this.prop.src,this.opt.html2canvas.javascriptEnabled);y.tagName==="BODY"&&(g.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:g}),this.prop.container.appendChild(y),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},f.prototype.toCanvas=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(e).then(function(y){var m=Object.assign({},this.opt.html2canvas);return delete m.onrendered,y(this.prop.container,m)}).then(function(y){(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toContext2d=function(){var g=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(g).then(e).then(function(y){var m=this.opt.jsPDF,b=this.opt.fontFaces,T=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,L=Object.assign({async:!0,allowTaint:!0,scale:T,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete L.onrendered,m.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,m.context2d.posX=this.opt.x,m.context2d.posY=this.opt.y,m.context2d.margin=this.opt.margin,m.context2d.fontFaces=b,b)for(var R=0;R<b.length;++R){var X=b[R],W=X.src.find(function($){return $.format==="truetype"});W&&m.addFont(W.url,X.ref.name,X.ref.style)}return L.windowHeight=L.windowHeight||0,L.windowHeight=L.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):L.windowHeight,m.context2d.save(!0),y(this.prop.container,L)}).then(function(y){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(y),this.prop.canvas=y,document.body.removeChild(this.prop.overlay)})},f.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var g=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=g})},f.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},f.prototype.output=function(g,y,m){return(m=m||"pdf").toLowerCase()==="img"||m.toLowerCase()==="image"?this.outputImg(g,y):this.outputPdf(g,y)},f.prototype.outputPdf=function(g,y){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(g,y)})},f.prototype.outputImg=function(g){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(g){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+g+'" is not supported.'}})},f.prototype.save=function(g){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(g?{filename:g}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},f.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},f.prototype.set=function(g){if(r(g)!=="object")return this;var y=Object.keys(g||{}).map(function(m){if(m in f.template.prop)return function(){this.prop[m]=g[m]};switch(m){case"margin":return this.setMargin.bind(this,g.margin);case"jsPDF":return function(){return this.opt.jsPDF=g.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,g.pageSize);default:return function(){this.opt[m]=g[m]}}},this);return this.then(function(){return this.thenList(y)})},f.prototype.get=function(g,y){return this.then(function(){var m=g in f.template.prop?this.prop[g]:this.opt[g];return y?y(m):m})},f.prototype.setMargin=function(g){return this.then(function(){switch(r(g)){case"number":g=[g,g,g,g];case"array":if(g.length===2&&(g=[g[0],g[1],g[0],g[1]]),g.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=g}).then(this.setPageSize)},f.prototype.setPageSize=function(g){function y(m,b){return Math.floor(m*b/72*96)}return this.then(function(){(g=g||dn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(g.inner={width:g.width-this.opt.margin[1]-this.opt.margin[3],height:g.height-this.opt.margin[0]-this.opt.margin[2]},g.inner.px={width:y(g.inner.width,g.k),height:y(g.inner.height,g.k)},g.inner.ratio=g.inner.height/g.inner.width),this.prop.pageSize=g})},f.prototype.setProgress=function(g,y,m,b){return g!=null&&(this.progress.val=g),y!=null&&(this.progress.state=y),m!=null&&(this.progress.n=m),b!=null&&(this.progress.stack=b),this.progress.ratio=this.progress.val/this.progress.state,this},f.prototype.updateProgress=function(g,y,m,b){return this.setProgress(g?this.progress.val+g:null,y||null,m?this.progress.n+m:null,b?this.progress.stack.concat(b):null)},f.prototype.then=function(g,y){var m=this;return this.thenCore(g,y,function(b,T){return m.updateProgress(null,null,1,[b]),Promise.prototype.then.call(this,function(L){return m.updateProgress(null,b),L}).then(b,T).then(function(L){return m.updateProgress(1),L})})},f.prototype.thenCore=function(g,y,m){m=m||Promise.prototype.then;var b=this;g&&(g=g.bind(b)),y&&(y=y.bind(b));var T=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?b:f.convert(Object.assign({},b),Promise.prototype),L=m.call(T,g,y);return f.convert(L,b.__proto__)},f.prototype.thenExternal=function(g,y){return Promise.prototype.then.call(this,g,y)},f.prototype.thenList=function(g){var y=this;return g.forEach(function(m){y=y.thenCore(m)}),y},f.prototype.catch=function(g){g&&(g=g.bind(this));var y=Promise.prototype.catch.call(this,g);return f.convert(y,this)},f.prototype.catchExternal=function(g){return Promise.prototype.catch.call(this,g)},f.prototype.error=function(g){return this.then(function(){throw new Error(g)})},f.prototype.using=f.prototype.set,f.prototype.saveAs=f.prototype.save,f.prototype.export=f.prototype.output,f.prototype.run=f.prototype.then,dn.getPageSize=function(g,y,m){if(Jr(g)==="object"){var b=g;g=b.orientation,y=b.unit||y,m=b.format||m}y=y||"mm",m=m||"a4",g=(""+(g||"P")).toLowerCase();var T,L=(""+m).toLowerCase(),R={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(y){case"pt":T=1;break;case"mm":T=72/25.4;break;case"cm":T=72/2.54;break;case"in":T=72;break;case"px":T=.75;break;case"pc":case"em":T=12;break;case"ex":T=6;break;default:throw"Invalid unit: "+y}var X,W=0,$=0;if(R.hasOwnProperty(L))W=R[L][1]/T,$=R[L][0]/T;else try{W=m[1],$=m[0]}catch{throw new Error("Invalid format: "+m)}if(g==="p"||g==="portrait")g="p",$>W&&(X=$,$=W,W=X);else{if(g!=="l"&&g!=="landscape")throw"Invalid orientation: "+g;g="l",W>$&&(X=$,$=W,W=X)}return{width:$,height:W,unit:y,k:T,orientation:g}},n.html=function(g,y){(y=y||{}).callback=y.callback||function(){},y.html2canvas=y.html2canvas||{},y.html2canvas.canvas=y.html2canvas.canvas||this.canvas,y.jsPDF=y.jsPDF||this,y.fontFaces=y.fontFaces?y.fontFaces.map(q2):null;var m=new f(y);return y.worker?m:m.from(g).doCallback()}})(dn.API),dn.API.addJS=function(n){var e,t,r=(function(a){for(var l="",f=0;f<a.length;f++){var g=a[f];if(g==="("||g===")"){for(var y=0,m=f-1;m>=0&&a[m]==="\\";m--)y++;l+=y%2==0?"\\"+g:g}else l+=g}return l})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),l=0;l<a.length;l++){var f=a[l],g=r.exec(f);if(g!=null){var y=g[1];t.internal.newObjectDeferredBegin(y,!1)}t.internal.write(f)}if(this.outline.createNamedDestinations){var m=this.internal.pages.length,b=[];for(l=0;l<m;l++){var T=t.internal.newObject();b.push(T);var L=t.internal.getPageInfo(l+1);t.internal.write("<< /D["+L.objId+" 0 R /XYZ null null null]>> endobj")}var R=t.internal.newObject();for(t.internal.write("<< /Names [ "),l=0;l<b.length;l++)t.internal.write("(page_"+(l+1)+")"+b[l]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+R+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,a,l){var f={title:a,options:l,children:[]};return r==null&&(r=this.root),r.children.push(f),f},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,l=0;l<r.children.length;l++){var f=r.children[l];this.objStart(f),this.line("/Title "+this.makeString(f.title)),this.line("/Parent "+this.makeRef(r)),l>0&&this.line("/Prev "+this.makeRef(r.children[l-1])),l<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[l+1])),f.children.length>0&&(this.line("/First "+this.makeRef(f.children[0])),this.line("/Last "+this.makeRef(f.children[f.children.length-1])));var g=this.count=this.count_r({count:0},f);if(g>0&&this.line("/Count "+g),f.options&&f.options.pageNumber){var y=t.internal.getPageInfo(f.options.pageNumber);this.line("/Dest ["+y.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var m=0;m<r.children.length;m++)this.renderItems(r.children[m])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,a){for(var l=0;l<a.children.length;l++)r.count++,this.count_r(r,a.children[l]);return r.count}}])})(dn.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,a,l,f,g){var y,m=this.decode.DCT_DECODE,b=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=f||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,y=(function(T){for(var L,R=256*T.charCodeAt(4)+T.charCodeAt(5),X=T.length,W={width:0,height:0,numcomponents:1},$=4;$<X;$+=2){if($+=R,e.indexOf(T.charCodeAt($+1))!==-1){L=256*T.charCodeAt($+5)+T.charCodeAt($+6),W={width:256*T.charCodeAt($+7)+T.charCodeAt($+8),height:L,numcomponents:T.charCodeAt($+9)};break}R=256*T.charCodeAt($+2)+T.charCodeAt($+3)}return W})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),y.numcomponents){case 1:g=this.color_spaces.DEVICE_GRAY;break;case 4:g=this.color_spaces.DEVICE_CMYK;break;case 3:g=this.color_spaces.DEVICE_RGB}b={data:t,width:y.width,height:y.height,colorSpace:g,bitsPerComponent:8,filter:m,index:r,alias:a}}return b}})(dn.API),dn.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var a,l=Lk(n,{checkCrc:!0}),f=l.width,g=l.height,y=l.channels,m=l.palette,b=l.depth;a=m&&y===1?(function(G){for(var P=G.width,re=G.height,j=G.data,U=G.palette,H=G.depth,Ce=!1,xe=[],_e=[],Te=void 0,De=!1,He=0,lt=0;lt<U.length;lt++){var de=Nw(U[lt],4),q=de[0],le=de[1],ee=de[2],ye=de[3];xe.push(q,le,ee),ye!=null&&(ye===0?(He++,_e.length<1&&_e.push(lt)):ye<255&&(De=!0))}if(De||He>1){Ce=!0,_e=void 0;var me=P*re;Te=new Uint8Array(me);for(var Pe=new DataView(j.buffer),Ie=0;Ie<me;Ie++){var Fe=G2(Pe,Ie,H),Ne=Nw(U[Fe],4)[3];Te[Ie]=Ne}}else He===0&&(_e=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Ce?8:void 0,colorBytes:j,alphaBytes:Te,needSMask:Ce,palette:xe,mask:_e}})(l):y===2||y===4?(function(G){for(var P=G.data,re=G.width,j=G.height,U=G.channels,H=G.depth,Ce=U===2?"DeviceGray":"DeviceRGB",xe=U-1,_e=re*j,Te=xe,De=_e*Te,He=1*_e,lt=Math.ceil(De*H/8),de=Math.ceil(He*H/8),q=new Uint8Array(lt),le=new Uint8Array(de),ee=new DataView(P.buffer),ye=new DataView(q.buffer),me=new DataView(le.buffer),Pe=!1,Ie=0;Ie<_e;Ie++){for(var Fe=Ie*U,Ne=0;Ne<Te;Ne++)R3(ye,G2(ee,Fe+Ne,H),Ie*Te+Ne,H);var Qe=G2(ee,Fe+Te,H);Qe<(1<<H)-1&&(Pe=!0),R3(me,Qe,1*Ie,H)}return{colorSpace:Ce,colorsPerPixel:xe,sMaskBitsPerComponent:Pe?H:void 0,colorBytes:q,alphaBytes:le,needSMask:Pe}})(l):(function(G){var P=G.data,re=G.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:re,colorsPerPixel:re==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(j){for(var U=j.length,H=new Uint8Array(2*U),Ce=new DataView(H.buffer,H.byteOffset,H.byteLength),xe=0;xe<U;xe++)Ce.setUint16(2*xe,j[xe],!1);return H})(P):P,needSMask:!1}})(l);var T,L,R,X=a,W=X.colorSpace,$=X.colorsPerPixel,K=X.sMaskBitsPerComponent,oe=X.colorBytes,ue=X.alphaBytes,pe=X.needSMask,Ue=X.palette,ze=X.mask,Y=null;return r!==dn.API.image_compression.NONE&&typeof Lm=="function"?(Y=(function(G){var P;switch(G){case dn.API.image_compression.FAST:P=11;break;case dn.API.image_compression.MEDIUM:P=13;break;case dn.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),T=this.decode.FLATE_DECODE,L="/Predictor ".concat(Y," /Colors ").concat($," /BitsPerComponent ").concat(b," /Columns ").concat(f),n=S3(oe,Math.ceil(f*$*b/8),$,b,r),pe&&(R=S3(ue,Math.ceil(f*K/8),1,K,r))):(T=void 0,L=void 0,n=oe,pe&&(R=ue)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(R&&this.__addimage__.isArrayBuffer(R)||this.__addimage__.isArrayBufferView(R))&&(R=this.__addimage__.arrayBufferToBinaryString(R)),{alias:t,data:n,index:e,filter:T,decodeParameters:L,transparency:ze,palette:Ue,sMask:R,predictor:Y,width:f,height:g,bitsPerComponent:b,sMaskBitsPerComponent:K,colorSpace:W}}},(function(n){n.processGIF89A=function(e,t,r,a){var l=new eM(e),f=l.width,g=l.height,y=[];l.decodeAndBlitFrameRGBA(0,y);var m={data:y,width:f,height:g},b=new W2(100).encode(m,100);return n.processJPEG.call(this,b,t,r,a)},n.processGIF87A=n.processGIF89A})(dn.API),el.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:r,blue:t,quad:l}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},el.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){di.log("bit decode error:"+t)}},el.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++)for(var l=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+8*a*4,g=0;g<8&&8*a+g<this.width;g++){var y=this.palette[l>>7-g&1];this.data[f+4*g]=y.blue,this.data[f+4*g+1]=y.green,this.data[f+4*g+2]=y.red,this.data[f+4*g+3]=255}t!==0&&(this.pos+=4-t)}},el.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<n;a++){var l=this.datav.getUint8(this.pos++,!0),f=r*this.width*4+2*a*4,g=l>>4,y=15&l,m=this.palette[g];if(this.data[f]=m.blue,this.data[f+1]=m.green,this.data[f+2]=m.red,this.data[f+3]=255,2*a+1>=this.width)break;m=this.palette[y],this.data[f+4]=m.blue,this.data[f+4+1]=m.green,this.data[f+4+2]=m.red,this.data[f+4+3]=255}e!==0&&(this.pos+=4-e)}},el.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;if(a<this.palette.length){var f=this.palette[a];this.data[l]=f.red,this.data[l+1]=f.green,this.data[l+2]=f.blue,this.data[l+3]=255}else this.data[l]=255,this.data[l+1]=255,this.data[l+2]=255,this.data[l+3]=255}n!==0&&(this.pos+=4-n)}},el.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var f=(l&e)/e*255|0,g=(l>>5&e)/e*255|0,y=(l>>10&e)/e*255|0,m=l>>15?255:0,b=r*this.width*4+4*a;this.data[b]=y,this.data[b+1]=g,this.data[b+2]=f,this.data[b+3]=m}this.pos+=n}},el.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,l=0;l<this.width;l++){var f=this.datav.getUint16(this.pos,!0);this.pos+=2;var g=(f&e)/e*255|0,y=(f>>5&t)/t*255|0,m=(f>>11)/e*255|0,b=a*this.width*4+4*l;this.data[b]=m,this.data[b+1]=y,this.data[b+2]=g,this.data[b+3]=255}this.pos+=n}},el.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=e*this.width*4+4*t;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=r,this.data[f+3]=255}this.pos+=this.width%4}},el.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),f=this.datav.getUint8(this.pos++,!0),g=e*this.width*4+4*t;this.data[g]=l,this.data[g+1]=a,this.data[g+2]=r,this.data[g+3]=f}},el.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,a){var l=new el(e,!1),f=l.width,g=l.height,y={data:l.getData(),width:f,height:g},m=new W2(100).encode(y,100);return n.processJPEG.call(this,m,t,r,a)}})(dn.API),D3.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,a){var l=new D3(e),f=l.width,g=l.height,y={data:l.getData(),width:f,height:g},m=new W2(100).encode(y,100);return n.processJPEG.call(this,m,t,r,a)}})(dn.API),dn.API.processRGBA=function(n,e,t){for(var r=n.data,a=r.length,l=new Uint8Array(a/4*3),f=new Uint8Array(a/4),g=0,y=0,m=0;m<a;m+=4){var b=r[m],T=r[m+1],L=r[m+2],R=r[m+3];l[g++]=b,l[g++]=T,l[g++]=L,f[y++]=R}var X=this.__addimage__.arrayBufferToBinaryString(l);return{alpha:this.__addimage__.arrayBufferToBinaryString(f),data:X,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},dn.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zh=dn.API,f1=zh.getCharWidthsArray=function(n,e){var t,r,a=(e=e||{}).font||this.internal.getFont(),l=e.fontSize||this.internal.getFontSize(),f=e.charSpace||this.internal.getCharSpace(),g=e.widths?e.widths:a.metadata.Unicode.widths,y=g.fof?g.fof:1,m=e.kerning?e.kerning:a.metadata.Unicode.kerning,b=m.fof?m.fof:1,T=e.doKerning!==!1,L=0,R=n.length,X=0,W=g[0]||y,$=[];for(t=0;t<R;t++)r=n.charCodeAt(t),typeof a.metadata.widthOfString=="function"?$.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+f*(1e3/l)||0)/1e3):(L=T&&Jr(m[r])==="object"&&!isNaN(parseInt(m[r][X],10))?m[r][X]/b:0,$.push((g[r]||W)/y+L)),X=r;return $},_3=zh.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return zh.processArabic&&(n=zh.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,a)/t:f1.apply(this,arguments).reduce(function(l,f){return l+f},0)},A3=function(n,e,t,r){for(var a=[],l=0,f=n.length,g=0;l!==f&&g+e[l]<t;)g+=e[l],l++;a.push(n.slice(0,l));var y=l;for(g=0;l!==f;)g+e[l]>r&&(a.push(n.slice(y,l)),g=0,y=l),g+=e[l],l++;return y!==l&&a.push(n.slice(y,l)),a},E3=function(n,e,t){t||(t={});var r,a,l,f,g,y,m,b=[],T=[b],L=t.textIndent||0,R=0,X=0,W=n.split(" "),$=f1.apply(this,[" ",t])[0];if(y=t.lineIndent===-1?W[0].length+2:t.lineIndent||0){var K=Array(y).join(" "),oe=[];W.map(function(pe){(pe=pe.split(/\s*\n/)).length>1?oe=oe.concat(pe.map(function(Ue,ze){return(ze&&Ue.length?`
`:"")+Ue})):oe.push(pe[0])}),W=oe,y=_3.apply(this,[K,t])}for(l=0,f=W.length;l<f;l++){var ue=0;if(r=W[l],y&&r[0]==`
`&&(r=r.substr(1),ue=1),L+R+(X=(a=f1.apply(this,[r,t])).reduce(function(pe,Ue){return pe+Ue},0))>e||ue){if(X>e){for(g=A3.apply(this,[r,a,e-(L+R),e]),b.push(g.shift()),b=[g.pop()];g.length;)T.push([g.shift()]);X=a.slice(r.length-(b[0]?b[0].length:0)).reduce(function(pe,Ue){return pe+Ue},0)}else b=[r];T.push(b),L=X+y,R=$}else b.push(r),L+=R+X,R=$}return m=y?function(pe,Ue){return(Ue?K:"")+pe.join(" ")}:function(pe){return pe.join(" ")},T.map(m)},zh.splitTextToSize=function(n,e,t){var r,a=(t=t||{}).fontSize||this.internal.getFontSize(),l=(function(b){if(b.widths&&b.kerning)return{widths:b.widths,kerning:b.kerning};var T=this.internal.getFont(b.fontName,b.fontStyle),L="Unicode";return T.metadata[L]?{widths:T.metadata[L].widths||{0:1},kerning:T.metadata[L].kerning||{}}:{font:T.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var f=1*this.internal.scaleFactor*e/a;l.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,l.lineIndent=t.lineIndent;var g,y,m=[];for(g=0,y=r.length;g<y;g++)m=m.concat(E3.apply(this,[r[g],f,l]));return m},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},a={},l=0;l<16;l++)r[t[l]]=e[l],a[e[l]]=t[l];var f=function(L){return"0x"+parseInt(L,10).toString(16)},g=n.__fontmetrics__.compress=function(L){var R,X,W,$,K=["{"];for(var oe in L){if(R=L[oe],isNaN(parseInt(oe,10))?X="'"+oe+"'":(oe=parseInt(oe,10),X=(X=f(oe).slice(2)).slice(0,-1)+a[X.slice(-1)]),typeof R=="number")R<0?(W=f(R).slice(3),$="-"):(W=f(R).slice(2),$=""),W=$+W.slice(0,-1)+a[W.slice(-1)];else{if(Jr(R)!=="object")throw new Error("Don't know what to do with value type "+Jr(R)+".");W=g(R)}K.push(X+W)}return K.push("}"),K.join("")},y=n.__fontmetrics__.uncompress=function(L){if(typeof L!="string")throw new Error("Invalid argument passed to uncompress.");for(var R,X,W,$,K={},oe=1,ue=K,pe=[],Ue="",ze="",Y=L.length-1,G=1;G<Y;G+=1)($=L[G])=="'"?R?(W=R.join(""),R=void 0):R=[]:R?R.push($):$=="{"?(pe.push([ue,W]),ue={},W=void 0):$=="}"?((X=pe.pop())[0][X[1]]=ue,W=void 0,ue=X[0]):$=="-"?oe=-1:W===void 0?r.hasOwnProperty($)?(Ue+=r[$],W=parseInt(Ue,16)*oe,oe=1,Ue=""):Ue+=$:r.hasOwnProperty($)?(ze+=r[$],ue[W]=parseInt(ze,16)*oe,oe=1,W=void 0,ze=""):ze+=$;return K},m={codePages:["WinAnsiEncoding"],WinAnsiEncoding:y("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},b={Unicode:{Courier:m,"Courier-Bold":m,"Courier-BoldOblique":m,"Courier-Oblique":m,Helvetica:m,"Helvetica-Bold":m,"Helvetica-BoldOblique":m,"Helvetica-Oblique":m,"Times-Roman":m,"Times-Bold":m,"Times-BoldItalic":m,"Times-Italic":m}},T={Unicode:{"Courier-Oblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":y("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":y("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:y("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":y("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:y("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":y("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":y("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":y("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":y("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(L){var R=L.font,X=T.Unicode[R.postScriptName];X&&(R.metadata.Unicode={},R.metadata.Unicode.widths=X.widths,R.metadata.Unicode.kerning=X.kerning);var W=b.Unicode[R.postScriptName];W&&(R.metadata.Unicode.encoding=W,R.encoding=W.codePages[0])}])})(dn.API),(function(n){var e=function(t){for(var r=t.length,a=new Uint8Array(r),l=0;l<r;l++)a[l]=t.charCodeAt(l);return a};n.API.events.push(["addFont",function(t){var r=void 0,a=t.font,l=t.instance;if(!a.isStandardFont){if(l===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=l.existsFileInVFS(a.postScriptName)===!1?l.loadFile(a.postScriptName):l.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(f,g){g=/^\x00\x01\x00\x00/.test(g)?e(g):e(N1(g)),f.metadata=n.API.TTFFont.open(g),f.metadata.Unicode=f.metadata.Unicode||{encoding:{},kerning:{},widths:[]},f.metadata.glyIdsUsed=[0]})(a,r)}}])})(dn),dn.API.addSvgAsImage=function(n,e,t,r,a,l,f,g){if(isNaN(e)||isNaN(t))throw di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=r,y.height=a;var m=y.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,y.width,y.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},T=this;return(Bn.canvg?Promise.resolve(Bn.canvg):S2(()=>import("./index.es-DgY0xIer.js"),[])).catch(function(L){return Promise.reject(new Error("Could not load canvg: "+L))}).then(function(L){return L.default?L.default:L}).then(function(L){return L.fromString(m,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(L){return L.render(b)}).then(function(){T.addImage(y.toDataURL("image/jpeg",1),e,t,r,a,f,g)})},dn.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(e,t);return this},dn.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,a,l,f={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},g=Object.keys(f),y=[],m=0,b=0,T=0;function L(X,W){var $,K=!1;for($=0;$<X.length;$+=1)X[$]===W&&(K=!0);return K}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(f)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var R=g.length;for(T=0;T<R;T+=1)t[g[T]].value=t[g[T]].defaultValue,t[g[T]].explicitSet=!1}if(Jr(n)==="object"){for(a in n)if(l=n[a],L(g,a)&&l!==void 0){if(t[a].type==="boolean"&&typeof l=="boolean")t[a].value=l;else if(t[a].type==="name"&&L(t[a].valueSet,l))t[a].value=l;else if(t[a].type==="integer"&&Number.isInteger(l))t[a].value=l;else if(t[a].type==="array"){for(m=0;m<l.length;m+=1)if(r=!0,l[m].length===1&&typeof l[m][0]=="number")y.push(String(l[m]-1));else if(l[m].length>1){for(b=0;b<l[m].length;b+=1)typeof l[m][b]!="number"&&(r=!1);r===!0&&y.push([l[m][0]-1,l[m][1]-1].join(" "))}t[a].value="["+y.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var X,W=[];for(X in t)t[X].explicitSet===!0&&(t[X].type==="name"?W.push("/"+X+" /"+t[X].value):W.push("/"+X+" "+t[X].value));W.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+W.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},dn.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",nM),this.internal.events.subscribe("postPutResources",tM)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(l,f){for(var g,y=f.metadata.Unicode.widths,m=["","0","00","000","0000"],b=[""],T=0,L=l.length;T<L;++T){if(g=f.metadata.characterToGlyph(l.charCodeAt(T)),f.metadata.glyIdsUsed.push(g),f.metadata.toUnicode[g]=l.charCodeAt(T),y.indexOf(g)==-1&&(y.push(g),y.push([parseInt(f.metadata.widthOfGlyph(g),10)])),g=="0")return b.join("");g=g.toString(16),b.push(m[4-g.length],g)}return b.join("")},r=function(l){var f,g,y,m,b,T,L;for(b=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,y=[],T=0,L=(g=Object.keys(l).sort(function(R,X){return R-X})).length;T<L;T++)f=g[T],y.length>=100&&(b+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar`,y=[]),l[f]!==void 0&&l[f]!==null&&typeof l[f].toString=="function"&&(m=("0000"+l[f].toString(16)).slice(-4),f=("0000"+(+f).toString(16)).slice(-4),y.push("<"+f+"><"+m+">"));return y.length&&(b+=`
`+y.length+` beginbfchar
`+y.join(`
`)+`
endbfchar
`),b+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(l){(function(f){var g=f.font,y=f.out,m=f.newObject,b=f.putStream;if(g.metadata instanceof n.API.TTFFont&&g.encoding==="Identity-H"){for(var T=g.metadata.Unicode.widths,L=g.metadata.subset.encode(g.metadata.glyIdsUsed,1),R="",X=0;X<L.length;X++)R+=String.fromCharCode(L[X]);var W=m();b({data:R,addLength1:!0,objectId:W}),y("endobj");var $=m();b({data:r(g.metadata.toUnicode),addLength1:!0,objectId:$}),y("endobj");var K=m();y("<<"),y("/Type /FontDescriptor"),y("/FontName /"+Kh(g.fontName)),y("/FontFile2 "+W+" 0 R"),y("/FontBBox "+n.API.PDFObject.convert(g.metadata.bbox)),y("/Flags "+g.metadata.flags),y("/StemV "+g.metadata.stemV),y("/ItalicAngle "+g.metadata.italicAngle),y("/Ascent "+g.metadata.ascender),y("/Descent "+g.metadata.decender),y("/CapHeight "+g.metadata.capHeight),y(">>"),y("endobj");var oe=m();y("<<"),y("/Type /Font"),y("/BaseFont /"+Kh(g.fontName)),y("/FontDescriptor "+K+" 0 R"),y("/W "+n.API.PDFObject.convert(T)),y("/CIDToGIDMap /Identity"),y("/DW 1000"),y("/Subtype /CIDFontType2"),y("/CIDSystemInfo"),y("<<"),y("/Supplement 0"),y("/Registry (Adobe)"),y("/Ordering ("+g.encoding+")"),y(">>"),y(">>"),y("endobj"),g.objectNumber=m(),y("<<"),y("/Type /Font"),y("/Subtype /Type0"),y("/ToUnicode "+$+" 0 R"),y("/BaseFont /"+Kh(g.fontName)),y("/Encoding /"+g.encoding),y("/DescendantFonts ["+oe+" 0 R]"),y(">>"),y("endobj"),g.isAlreadyPutted=!0}})(l)}]),e.events.push(["putFont",function(l){(function(f){var g=f.font,y=f.out,m=f.newObject,b=f.putStream;if(g.metadata instanceof n.API.TTFFont&&g.encoding==="WinAnsiEncoding"){for(var T=g.metadata.rawData,L="",R=0;R<T.length;R++)L+=String.fromCharCode(T[R]);var X=m();b({data:L,addLength1:!0,objectId:X}),y("endobj");var W=m();b({data:r(g.metadata.toUnicode),addLength1:!0,objectId:W}),y("endobj");var $=m();y("<<"),y("/Descent "+g.metadata.decender),y("/CapHeight "+g.metadata.capHeight),y("/StemV "+g.metadata.stemV),y("/Type /FontDescriptor"),y("/FontFile2 "+X+" 0 R"),y("/Flags 96"),y("/FontBBox "+n.API.PDFObject.convert(g.metadata.bbox)),y("/FontName /"+Kh(g.fontName)),y("/ItalicAngle "+g.metadata.italicAngle),y("/Ascent "+g.metadata.ascender),y(">>"),y("endobj"),g.objectNumber=m();for(var K=0;K<g.metadata.hmtx.widths.length;K++)g.metadata.hmtx.widths[K]=parseInt(g.metadata.hmtx.widths[K]*(1e3/g.metadata.head.unitsPerEm));y("<</Subtype/TrueType/Type/Font/ToUnicode "+W+" 0 R/BaseFont/"+Kh(g.fontName)+"/FontDescriptor "+$+" 0 R/Encoding/"+g.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(g.metadata.hmtx.widths)+">>"),y("endobj"),g.isAlreadyPutted=!0}})(l)}]);var a=function(l){var f,g=l.text||"",y=l.x,m=l.y,b=l.options||{},T=l.mutex||{},L=T.pdfEscape,R=T.activeFontKey,X=T.fonts,W=R,$="",K=0,oe="",ue=X[W].encoding;if(X[W].encoding!=="Identity-H")return{text:g,x:y,y:m,options:b,mutex:T};for(oe=g,W=R,Array.isArray(g)&&(oe=g[0]),K=0;K<oe.length;K+=1)X[W].metadata.hasOwnProperty("cmap")&&(f=X[W].metadata.cmap.unicode.codeMap[oe[K].charCodeAt(0)]),f||oe[K].charCodeAt(0)<256&&X[W].metadata.hasOwnProperty("Unicode")?$+=oe[K]:$+="";var pe="";return parseInt(W.slice(1))<14||ue==="WinAnsiEncoding"?pe=L($,W).split("").map(function(Ue){return Ue.charCodeAt(0).toString(16)}).join(""):ue==="Identity-H"&&(pe=t($,X[W])),T.isHex=!0,{text:pe,x:y,y:m,options:b,mutex:T}};e.events.push(["postProcessText",function(l){var f=l.text||"",g=[],y={text:f,x:l.x,y:l.y,options:l.options,mutex:l.mutex};if(Array.isArray(f)){var m=0;for(m=0;m<f.length;m+=1)Array.isArray(f[m])&&f[m].length===3?g.push([a(Object.assign({},y,{text:f[m][0]})).text,f[m][1],f[m][2]]):g.push(a(Object.assign({},y,{text:f[m]})).text);l.text=g}else l.text=a(Object.assign({},y,{text:f})).text}])})(dn),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(dn.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,l,f,g,y,m,b,T=e,L=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],R=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],X={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},W={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],K=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),oe=!1,ue=0;this.__bidiEngine__={};var pe=function(j){var U=j.charCodeAt(),H=U>>8,Ce=W[H];return Ce!==void 0?T[256*Ce+(255&U)]:H===252||H===253?"AL":K.test(H)?"L":H===8?"R":"N"},Ue=function(j){for(var U,H=0;H<j.length;H++){if((U=pe(j.charAt(H)))==="L")return!1;if(U==="R")return!0}return!1},ze=function(j,U,H,Ce){var xe,_e,Te,De,He=U[Ce];switch(He){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":oe=!1;break;case"N":case"AN":break;case"EN":oe&&(He="AN");break;case"AL":oe=!0,He="R";break;case"WS":case"BN":He="N";break;case"CS":Ce<1||Ce+1>=U.length||(xe=H[Ce-1])!=="EN"&&xe!=="AN"||(_e=U[Ce+1])!=="EN"&&_e!=="AN"?He="N":oe&&(_e="AN"),He=_e===xe?_e:"N";break;case"ES":He=(xe=Ce>0?H[Ce-1]:"B")==="EN"&&Ce+1<U.length&&U[Ce+1]==="EN"?"EN":"N";break;case"ET":if(Ce>0&&H[Ce-1]==="EN"){He="EN";break}if(oe){He="N";break}for(Te=Ce+1,De=U.length;Te<De&&U[Te]==="ET";)Te++;He=Te<De&&U[Te]==="EN"?"EN":"N";break;case"NSM":if(f&&!g){for(De=U.length,Te=Ce+1;Te<De&&U[Te]==="NSM";)Te++;if(Te<De){var lt=j[Ce],de=lt>=1425&&lt<=2303||lt===64286;if(xe=U[Te],de&&(xe==="R"||xe==="AL")){He="R";break}}}He=Ce<1||(xe=U[Ce-1])==="B"?"N":H[Ce-1];break;case"B":oe=!1,a=!0,He=ue;break;case"S":l=!0,He="N"}return He},Y=function(j,U,H){var Ce=j.split("");return H&&G(Ce,H,{hiLevel:ue}),Ce.reverse(),U&&U.reverse(),Ce.join("")},G=function(j,U,H){var Ce,xe,_e,Te,De,He=-1,lt=j.length,de=0,q=[],le=ue?R:L,ee=[];for(oe=!1,a=!1,l=!1,xe=0;xe<lt;xe++)ee[xe]=pe(j[xe]);for(_e=0;_e<lt;_e++){if(De=de,q[_e]=ze(j,ee,q,_e),Ce=240&(de=le[De][X[q[_e]]]),de&=15,U[_e]=Te=le[de][5],Ce>0)if(Ce===16){for(xe=He;xe<_e;xe++)U[xe]=1;He=-1}else He=-1;if(le[de][6])He===-1&&(He=_e);else if(He>-1){for(xe=He;xe<_e;xe++)U[xe]=Te;He=-1}ee[_e]==="B"&&(U[_e]=0),H.hiLevel|=Te}l&&(function(ye,me,Pe){for(var Ie=0;Ie<Pe;Ie++)if(ye[Ie]==="S"){me[Ie]=ue;for(var Fe=Ie-1;Fe>=0&&ye[Fe]==="WS";Fe--)me[Fe]=ue}})(ee,U,lt)},P=function(j,U,H,Ce,xe){if(!(xe.hiLevel<j)){if(j===1&&ue===1&&!a)return U.reverse(),void(H&&H.reverse());for(var _e,Te,De,He,lt=U.length,de=0;de<lt;){if(Ce[de]>=j){for(De=de+1;De<lt&&Ce[De]>=j;)De++;for(He=de,Te=De-1;He<Te;He++,Te--)_e=U[He],U[He]=U[Te],U[Te]=_e,H&&(_e=H[He],H[He]=H[Te],H[Te]=_e);de=De}de++}}},re=function(j,U,H){var Ce=j.split(""),xe={hiLevel:ue};return H||(H=[]),G(Ce,H,xe),(function(_e,Te,De){if(De.hiLevel!==0&&b)for(var He,lt=0;lt<_e.length;lt++)Te[lt]===1&&(He=$.indexOf(_e[lt]))>=0&&(_e[lt]=$[He+1])})(Ce,H,xe),P(2,Ce,U,H,xe),P(1,Ce,U,H,xe),Ce.join("")};return this.__bidiEngine__.doBidiReorder=function(j,U,H){if((function(xe,_e){if(_e)for(var Te=0;Te<xe.length;Te++)_e[Te]=Te;g===void 0&&(g=Ue(xe)),m===void 0&&(m=Ue(xe))})(j,U),f||!y||m)if(f&&y&&g^m)ue=g?1:0,j=Y(j,U,H);else if(!f&&y&&m)ue=g?1:0,j=re(j,U,H),j=Y(j,U);else if(!f||g||y||m){if(f&&!y&&g^m)j=Y(j,U),g?(ue=0,j=re(j,U,H)):(ue=1,j=re(j,U,H),j=Y(j,U));else if(f&&g&&!y&&m)ue=1,j=re(j,U,H),j=Y(j,U);else if(!f&&!y&&g^m){var Ce=b;g?(ue=1,j=re(j,U,H),ue=0,b=!1,j=re(j,U,H),b=Ce):(ue=0,j=re(j,U,H),j=Y(j,U),ue=1,b=!1,j=re(j,U,H),b=Ce,j=Y(j,U))}}else ue=0,j=re(j,U,H);else ue=g?1:0,j=re(j,U,H);return j},this.__bidiEngine__.setOptions=function(j){j&&(f=j.isInputVisual,y=j.isOutputVisual,g=j.isInputRtl,m=j.isOutputRtl,b=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var l=r.options||{};r.mutex,l.lang;var f=[];if(l.isInputVisual=typeof l.isInputVisual!="boolean"||l.isInputVisual,t.setOptions(l),Object.prototype.toString.call(a)==="[object Array]"){var g=0;for(f=[],g=0;g<a.length;g+=1)Object.prototype.toString.call(a[g])==="[object Array]"?f.push([t.doBidiReorder(a[g][0]),a[g][1],a[g][2]]):f.push([t.doBidiReorder(a[g])]);r.text=f}else r.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])})(dn),dn.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new pu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new xM(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new rM(this.contents),this.head=new sM(this),this.name=new uM(this),this.cmap=new PE(this),this.toUnicode={},this.hhea=new aM(this),this.maxp=new hM(this),this.hmtx=new fM(this),this.post=new lM(this),this.os2=new oM(this),this.loca=new mM(this),this.glyf=new dM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,a,l;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var f,g,y,m;for(m=[],f=0,g=(y=this.bbox).length;f<g;f++)e=y[f],m.push(Math.round(e*this.scaleFactor));return m}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(t=a>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(l=this.familyClass)===1||l===2||l===3||l===4||l===5||l===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var a,l,f,g;for(f=0,l=0,g=(e=""+e).length;0<=g?l<g:l>g;l=0<=g?++l:--l)a=e.charCodeAt(l),f+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/t)||0;return f*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var ll,pu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,a;for(a=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)a.push(this.writeByte(e.charCodeAt(t)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,a,l,f,g,y;return e=this.readByte(),t=this.readByte(),r=this.readByte(),a=this.readByte(),l=this.readByte(),f=this.readByte(),g=this.readByte(),y=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^l)+65536*(255^f)+256*(255^g)+(255^y)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*a+16777216*l+65536*f+256*g+y},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,a,l;for(l=[],r=0,a=e.length;r<a;r++)t=e[r],l.push(this.writeByte(t));return l},n})(),rM=(function(){var n;function e(t){var r,a,l;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,l=this.tableCount;0<=l?a<l:a>l;a=0<=l?++a:--a)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,a,l,f,g,y,m,b,T,L,R,X,W;for(W in R=Object.keys(t).length,y=Math.log(2),T=16*Math.floor(Math.log(R)/y),f=Math.floor(T/y),b=16*R-T,(a=new pu).writeInt(this.scalarType),a.writeShort(R),a.writeShort(T),a.writeShort(f),a.writeShort(b),l=16*R,m=a.pos+l,g=null,X=[],t)for(L=t[W],a.writeString(W),a.writeInt(n(L)),a.writeInt(m),a.writeInt(L.length),X=X.concat(L),W==="head"&&(g=m),m+=L.length;m%4;)X.push(0),m++;return a.write(X),r=2981146554-n(a.data),a.pos=g+8,a.writeUInt32(r),a.data},n=function(t){var r,a,l,f;for(t=jE.call(t);t.length%4;)t.push(0);for(l=new pu(t),a=0,r=0,f=t.length;r<f;r=r+=4)a+=l.readUInt32();return 4294967295&a},e})(),iM={}.hasOwnProperty,Ml=function(n,e){for(var t in e)iM.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};ll=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var sM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new pu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),L3=(function(){function n(e,t){var r,a,l,f,g,y,m,b,T,L,R,X,W,$,K,oe,ue;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),T=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(y=0;y<256;++y)this.codeMap[y]=e.readByte();break;case 4:for(R=e.readUInt16(),L=R/2,e.pos+=6,l=(function(){var pe,Ue;for(Ue=[],y=pe=0;0<=L?pe<L:pe>L;y=0<=L?++pe:--pe)Ue.push(e.readUInt16());return Ue})(),e.pos+=2,W=(function(){var pe,Ue;for(Ue=[],y=pe=0;0<=L?pe<L:pe>L;y=0<=L?++pe:--pe)Ue.push(e.readUInt16());return Ue})(),m=(function(){var pe,Ue;for(Ue=[],y=pe=0;0<=L?pe<L:pe>L;y=0<=L?++pe:--pe)Ue.push(e.readUInt16());return Ue})(),b=(function(){var pe,Ue;for(Ue=[],y=pe=0;0<=L?pe<L:pe>L;y=0<=L?++pe:--pe)Ue.push(e.readUInt16());return Ue})(),a=(this.length-e.pos+this.offset)/2,g=(function(){var pe,Ue;for(Ue=[],y=pe=0;0<=a?pe<a:pe>a;y=0<=a?++pe:--pe)Ue.push(e.readUInt16());return Ue})(),y=K=0,ue=l.length;K<ue;y=++K)for($=l[y],r=oe=X=W[y];X<=$?oe<=$:oe>=$;r=X<=$?++oe:--oe)b[y]===0?f=r+m[y]:(f=g[b[y]/2+(r-X)-(L-y)]||0)!==0&&(f+=m[y]),this.codeMap[r]=65535&f}e.pos=T}return n.encode=function(e,t){var r,a,l,f,g,y,m,b,T,L,R,X,W,$,K,oe,ue,pe,Ue,ze,Y,G,P,re,j,U,H,Ce,xe,_e,Te,De,He,lt,de,q,le,ee,ye,me,Pe,Ie,Fe,Ne,Qe,Oe;switch(Ce=new pu,f=Object.keys(e).sort(function(Ge,vt){return Ge-vt}),t){case"macroman":for(W=0,$=(function(){var Ge=[];for(X=0;X<256;++X)Ge.push(0);return Ge})(),oe={0:0},l={},xe=0,He=f.length;xe<He;xe++)oe[Fe=e[a=f[xe]]]==null&&(oe[Fe]=++W),l[a]={old:e[a],new:oe[e[a]]},$[a]=oe[e[a]];return Ce.writeUInt16(1),Ce.writeUInt16(0),Ce.writeUInt32(12),Ce.writeUInt16(0),Ce.writeUInt16(262),Ce.writeUInt16(0),Ce.write($),{charMap:l,subtable:Ce.data,maxGlyphID:W+1};case"unicode":for(U=[],T=[],ue=0,oe={},r={},K=m=null,_e=0,lt=f.length;_e<lt;_e++)oe[Ue=e[a=f[_e]]]==null&&(oe[Ue]=++ue),r[a]={old:Ue,new:oe[Ue]},g=oe[Ue]-a,K!=null&&g===m||(K&&T.push(K),U.push(a),m=g),K=a;for(K&&T.push(K),T.push(65535),U.push(65535),re=2*(P=U.length),G=2*Math.pow(Math.log(P)/Math.LN2,2),L=Math.log(G/2)/Math.LN2,Y=2*P-G,y=[],ze=[],R=[],X=Te=0,de=U.length;Te<de;X=++Te){if(j=U[X],b=T[X],j===65535){y.push(0),ze.push(0);break}if(j-(H=r[j].new)>=32768)for(y.push(0),ze.push(2*(R.length+P-X)),a=De=j;j<=b?De<=b:De>=b;a=j<=b?++De:--De)R.push(r[a].new);else y.push(H-j),ze.push(0)}for(Ce.writeUInt16(3),Ce.writeUInt16(1),Ce.writeUInt32(12),Ce.writeUInt16(4),Ce.writeUInt16(16+8*P+2*R.length),Ce.writeUInt16(0),Ce.writeUInt16(re),Ce.writeUInt16(G),Ce.writeUInt16(L),Ce.writeUInt16(Y),Pe=0,q=T.length;Pe<q;Pe++)a=T[Pe],Ce.writeUInt16(a);for(Ce.writeUInt16(0),Ie=0,le=U.length;Ie<le;Ie++)a=U[Ie],Ce.writeUInt16(a);for(Ne=0,ee=y.length;Ne<ee;Ne++)g=y[Ne],Ce.writeUInt16(g);for(Qe=0,ye=ze.length;Qe<ye;Qe++)pe=ze[Qe],Ce.writeUInt16(pe);for(Oe=0,me=R.length;Oe<me;Oe++)W=R[Oe],Ce.writeUInt16(W);return{charMap:r,subtable:Ce.data,maxGlyphID:ue+1}}},n})(),PE=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)t=new L3(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,a;return t==null&&(t="macroman"),r=L3.encode(e,t),(a=new pu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},n})(),aM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),oM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),lM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var l;for(r=e.readUInt16(),this.glyphNameIndex=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)t=e.readByte(),a.push(this.names.push(e.readString(t)));return a;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var f,g,y;for(y=[],l=f=0,g=this.file.maxp.numGlyphs;0<=g?f<g:f>g;l=0<=g?++f:--f)y.push(e.readUInt32());return y}).call(this)}},n})(),cM=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},uM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,a,l,f,g,y,m,b,T,L;for(e.pos=this.offset,e.readShort(),t=e.readShort(),g=e.readShort(),r=[],l=0;0<=t?l<t:l>t;l=0<=t?++l:--l)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+g+e.readShort()});for(y={},l=b=0,T=r.length;b<T;l=++b)a=r[l],e.pos=a.offset,m=e.readString(a.length),f=new cM(m,a),y[L=a.nameID]==null&&(y[L]=[]),y[a.nameID].push(f);this.strings=y,this.copyright=y[0],this.fontFamily=y[1],this.fontSubfamily=y[2],this.uniqueSubfamily=y[3],this.fontName=y[4],this.version=y[5];try{this.postscriptName=y[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=y[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=y[7],this.manufacturer=y[8],this.designer=y[9],this.description=y[10],this.vendorUrl=y[11],this.designerUrl=y[12],this.license=y[13],this.licenseUrl=y[14],this.preferredFamily=y[15],this.preferredSubfamily=y[17],this.compatibleFull=y[18],this.sampleText=y[19]},n})(),hM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),fM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,a,l,f,g,y;for(e.pos=this.offset,this.metrics=[],t=0,g=this.file.hhea.numberOfMetrics;0<=g?t<g:t>g;t=0<=g?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var m,b;for(b=[],t=m=0;0<=a?m<a:m>a;t=0<=a?++m:--m)b.push(e.readInt16());return b})(),this.widths=(function(){var m,b,T,L;for(L=[],m=0,b=(T=this.metrics).length;m<b;m++)l=T[m],L.push(l.advance);return L}).call(this),r=this.widths[this.widths.length-1],y=[],t=f=0;0<=a?f<a:f>a;t=0<=a?++f:--f)y.push(this.widths.push(r));return y},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),jE=[].slice,dM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,a,l,f,g,y,m,b,T;return e in this.cache?this.cache[e]:(l=this.file.loca,t=this.file.contents,r=l.indexOf(e),(a=l.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,f=(g=new pu(t.read(a))).readShort(),m=g.readShort(),T=g.readShort(),y=g.readShort(),b=g.readShort(),this.cache[e]=f===-1?new gM(g,m,T,y,b):new pM(g,f,m,T,y,b),this.cache[e]))},n.prototype.encode=function(e,t,r){var a,l,f,g,y;for(f=[],l=[],g=0,y=t.length;g<y;g++)a=e[t[g]],l.push(f.length),a&&(f=f.concat(a.encode(r)));return l.push(f.length),{table:f,offsets:l}},n})(),pM=(function(){function n(e,t,r,a,l,f){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=a,this.xMax=l,this.yMax=f,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),gM=(function(){function n(e,t,r,a,l){var f,g;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=a,this.yMax=l,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],f=this.raw;g=f.readShort(),this.glyphOffsets.push(f.pos),this.glyphIDs.push(f.readUInt16()),32&g;)f.pos+=1&g?4:2,128&g?f.pos+=8:64&g?f.pos+=4:8&g&&(f.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new pu(jE.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),mM=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Ml(n,ll),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=2)l.push(2*e.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],r=0,a=this.length;r<a;r+=4)l.push(e.readUInt32());return l}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),a=0,l=0,f=0;f<r.length;++f)if(r[f]=a,l<t.length&&t[l]==f){++l,r[f]=a;var g=this.offsets[f],y=this.offsets[f+1]-g;y>0&&(a+=y)}for(var m=new Array(4*r.length),b=0;b<r.length;++b)m[4*b+3]=255&r[b],m[4*b+2]=(65280&r[b])>>8,m[4*b+1]=(16711680&r[b])>>16,m[4*b]=(4278190080&r[b])>>24;return m},n})(),xM=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,a,l;for(t in a=this.font.cmap.tables[0].codeMap,e={},l=this.subset)r=l[t],e[t]=a[r];return e},n.prototype.glyphsFor=function(e){var t,r,a,l,f,g,y;for(a={},f=0,g=e.length;f<g;f++)a[l=e[f]]=this.font.glyf.glyphFor(l);for(l in t=[],a)(r=a[l])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(l in y=this.glyphsFor(t))r=y[l],a[l]=r;return a},n.prototype.encode=function(e,t){var r,a,l,f,g,y,m,b,T,L,R,X,W,$,K;for(a in r=PE.encode(this.generateCmap(),"unicode"),f=this.glyphsFor(e),R={0:0},K=r.charMap)R[(y=K[a]).old]=y.new;for(X in L=r.maxGlyphID,f)X in R||(R[X]=L++);return b=(function(oe){var ue,pe;for(ue in pe={},oe)pe[oe[ue]]=ue;return pe})(R),T=Object.keys(b).sort(function(oe,ue){return oe-ue}),W=(function(){var oe,ue,pe;for(pe=[],oe=0,ue=T.length;oe<ue;oe++)g=T[oe],pe.push(b[g]);return pe})(),l=this.font.glyf.encode(f,W,R),m=this.font.loca.encode(l.offsets,W),$={cmap:this.font.cmap.raw(),glyf:l.table,loca:m,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&($["OS/2"]=this.font.os2.raw()),this.font.directory.encode($)},n})();dn.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,a,l,f;if(Array.isArray(t))return"["+(function(){var g,y,m;for(m=[],g=0,y=t.length;g<y;g++)r=t[g],m.push(e.convert(r));return m})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in l=["<<"],t)f=t[a],l.push("/"+a+" "+e.convert(f));return l.push(">>"),l.join(`
`)}return""+t},e})();function BE(n,e,t,r,a){r=r||{};var l=1.15,f=a.internal.scaleFactor,g=a.internal.getFontSize()/f,y=a.getLineHeightFactor?a.getLineHeightFactor():l,m=g*y,b=/\r\n|\r|\n/g,T="",L=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(T=typeof n=="string"?n.split(b):n,L=T.length||1),t+=g*(2-l),r.valign==="middle"?t-=L/2*m:r.valign==="bottom"&&(t-=L*m),r.halign==="center"||r.halign==="right"){var R=g;if(r.halign==="center"&&(R*=.5),T&&L>=1){for(var X=0;X<T.length;X++)a.text(T[X],e-a.getStringUnitWidth(T[X])*R,t),t+=m;return a}e-=a.getStringUnitWidth(n)*R}return r.halign==="justify"?a.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(n,e,t),a}var k3={},cf=(function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:k3=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,a,l;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var f=this.jsPDFDocument.internal.getFont(),g=f.fontStyle,y=f.fontName;if(e.font&&(y=e.font),e.fontStyle){g=e.fontStyle;var m=this.getFontList()[y];m&&m.indexOf(g)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(m[0]),g=m[0])}if(this.jsPDFDocument.setFont(y,g),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var b=n.unifyColor(e.fillColor);b&&(r=this.jsPDFDocument).setFillColor.apply(r,b),b=n.unifyColor(e.textColor),b&&(a=this.jsPDFDocument).setTextColor.apply(a,b),b=n.unifyColor(e.lineColor),b&&(l=this.jsPDFDocument).setDrawColor.apply(l,b),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,a,l){return this.jsPDFDocument.rect(e,t,r,a,l)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return k3||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n})(),Vm=function(n,e){return Vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])},Vm(n,e)};function FE(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vm(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var UE=(function(n){FE(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e})(Array);function yM(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function vM(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function ap(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],a=r.map(function(l){return t.getTextWidth(l)}).reduce(function(l,f){return Math.max(l,f)},0);return a}function VE(n,e,t,r){var a=e.settings.tableLineWidth,l=e.settings.tableLineColor;n.applyStyles({lineWidth:a,lineColor:l});var f=zE(a,!1);f&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,f)}function zE(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function Hp(n,e){var t,r,a,l;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(a=n.right)!==null&&a!==void 0?a:e,bottom:(l=n.bottom)!==null&&l!==void 0?l:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function qE(n,e){var t=Hp(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function bM(n,e,t,r,a){var l={},f=1.3333333333333333,g=X2(e,function(ue){return a.getComputedStyle(ue).backgroundColor});g!=null&&(l.fillColor=g);var y=X2(e,function(ue){return a.getComputedStyle(ue).color});y!=null&&(l.textColor=y);var m=_M(r,t);m&&(l.cellPadding=m);var b="borderTopColor",T=f*t,L=r.borderTopWidth;if(r.borderBottomWidth===L&&r.borderRightWidth===L&&r.borderLeftWidth===L){var R=(parseFloat(L)||0)/T;R&&(l.lineWidth=R)}else l.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/T,right:(parseFloat(r.borderRightWidth)||0)/T,bottom:(parseFloat(r.borderBottomWidth)||0)/T,left:(parseFloat(r.borderLeftWidth)||0)/T},l.lineWidth.top||(l.lineWidth.right?b="borderRightColor":l.lineWidth.bottom?b="borderBottomColor":l.lineWidth.left&&(b="borderLeftColor"));var X=X2(e,function(ue){return a.getComputedStyle(ue)[b]});X!=null&&(l.lineColor=X);var W=["left","right","center","justify"];W.indexOf(r.textAlign)!==-1&&(l.halign=r.textAlign),W=["middle","bottom","top"],W.indexOf(r.verticalAlign)!==-1&&(l.valign=r.verticalAlign);var $=parseInt(r.fontSize||"");isNaN($)||(l.fontSize=$/f);var K=wM(r);K&&(l.fontStyle=K);var oe=(r.fontFamily||"").toLowerCase();return n.indexOf(oe)!==-1&&(l.font=oe),l}function wM(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function X2(n,e){var t=HE(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],l=parseInt(r[4]);return l===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function HE(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:HE(n.parentElement,e):t}function _M(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),a=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,l=t.map(function(g){return parseInt(g||"0")/r}),f=Hp(l,0);return a>f.top&&(f.top=a),a>f.bottom&&(f.bottom=a),f}function GE(n,e,t,r,a){var l,f;r===void 0&&(r=!1),a===void 0&&(a=!1);var g;typeof e=="string"?g=t.document.querySelector(e):g=e;var y=Object.keys(n.getFontList()),m=n.scaleFactor(),b=[],T=[],L=[];if(!g)return console.error("Html table could not be found with input: ",e),{head:b,body:T,foot:L};for(var R=0;R<g.rows.length;R++){var X=g.rows[R],W=(f=(l=X?.parentElement)===null||l===void 0?void 0:l.tagName)===null||f===void 0?void 0:f.toLowerCase(),$=AM(y,m,t,X,r,a);$&&(W==="thead"?b.push($):W==="tfoot"?L.push($):T.push($))}return{head:b,body:T,foot:L}}function AM(n,e,t,r,a,l){for(var f=new UE(r),g=0;g<r.cells.length;g++){var y=r.cells[g],m=t.getComputedStyle(y);if(a||m.display!=="none"){var b=void 0;l&&(b=bM(n,y,e,m,t)),f.push({rowSpan:y.rowSpan,colSpan:y.colSpan,styles:b,_element:y,content:EM(y)})}}var T=t.getComputedStyle(r);if(f.length>0&&(a||T.display!=="none"))return f}function EM(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function SM(n,e,t){for(var r=0,a=[n,e,t];r<a.length;r++){var l=a[r];l&&typeof l!="object"&&console.error("The options parameter should be of type object, is: "+typeof l),l.startY&&typeof l.startY!="number"&&(console.error("Invalid value for startY option",l.startY),delete l.startY)}}function sc(n,e,t,r,a){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(n),f=1;f<arguments.length;f++){var g=arguments[f];if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(l[y]=g[y])}return l}function WE(n,e){var t=new cf(n),r=t.getDocumentOptions(),a=t.getGlobalOptions();SM(a,r,e);var l=sc({},a,r,e),f;typeof window<"u"&&(f=window);var g=CM(a,r,e),y=NM(a,r,e),m=TM(t,l),b=RM(t,l,f);return{id:e.tableId,content:b,hooks:y,styles:g,settings:m}}function CM(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(y){if(y==="columnStyles"){var m=n[y],b=e[y],T=t[y];r.columnStyles=sc({},m,b,T)}else{var L=[n,e,t],R=L.map(function(X){return X[y]||{}});r[y]=sc({},R[0],R[1],R[2])}},l=0,f=Object.keys(r);l<f.length;l++){var g=f[l];a(g)}return r}function NM(n,e,t){for(var r=[n,e,t],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},l=0,f=r;l<f.length;l++){var g=f[l];g.didParseCell&&a.didParseCell.push(g.didParseCell),g.willDrawCell&&a.willDrawCell.push(g.willDrawCell),g.didDrawCell&&a.didDrawCell.push(g.didDrawCell),g.willDrawPage&&a.willDrawPage.push(g.willDrawPage),g.didDrawPage&&a.didDrawPage.push(g.didDrawPage)}return a}function TM(n,e){var t,r,a,l,f,g,y,m,b,T,L,R,X=Hp(e.margin,40/n.scaleFactor()),W=(t=IM(n,e.startY))!==null&&t!==void 0?t:X.top,$;e.showFoot===!0?$="everyPage":e.showFoot===!1?$="never":$=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var K;e.showHead===!0?K="everyPage":e.showHead===!1?K="never":K=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var oe=(l=e.useCss)!==null&&l!==void 0?l:!1,ue=e.theme||(oe?"plain":"striped"),pe=!!e.horizontalPageBreak,Ue=(f=e.horizontalPageBreakRepeat)!==null&&f!==void 0?f:null;return{includeHiddenHtml:(g=e.includeHiddenHtml)!==null&&g!==void 0?g:!1,useCss:oe,theme:ue,startY:W,margin:X,pageBreak:(y=e.pageBreak)!==null&&y!==void 0?y:"auto",rowPageBreak:(m=e.rowPageBreak)!==null&&m!==void 0?m:"auto",tableWidth:(b=e.tableWidth)!==null&&b!==void 0?b:"auto",showHead:K,showFoot:$,tableLineWidth:(T=e.tableLineWidth)!==null&&T!==void 0?T:0,tableLineColor:(L=e.tableLineColor)!==null&&L!==void 0?L:200,horizontalPageBreak:pe,horizontalPageBreakRepeat:Ue,horizontalPageBreakBehaviour:(R=e.horizontalPageBreakBehaviour)!==null&&R!==void 0?R:"afterAllRows"}}function IM(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),a=n.pageNumber(),l=!1;if(t&&t.startPageNumber){var f=t.startPageNumber+t.pageNumber-1;l=f===a}return typeof e=="number"?e:(e==null||e===!1)&&l&&t?.finalY!=null?t.finalY+20/r:null}function RM(n,e,t){var r=e.head||[],a=e.body||[],l=e.foot||[];if(e.html){var f=e.includeHiddenHtml;if(t){var g=GE(n,e.html,t,f,e.useCss)||{};r=g.head||r,a=g.body||r,l=g.foot||r}else console.error("Cannot parse html in non browser environment")}var y=e.columns||OM(r,a,l);return{columns:y,head:r,body:a,foot:l}}function OM(n,e,t){var r=n[0]||e[0]||t[0]||[],a=[];return Object.keys(r).filter(function(l){return l!=="_element"}).forEach(function(l){var f=1,g;Array.isArray(r)?g=r[parseInt(l)]:g=r[l],typeof g=="object"&&!Array.isArray(g)&&(f=g?.colSpan||1);for(var y=0;y<f;y++){var m=void 0;Array.isArray(r)?m=a.length:m=l+(y>0?"_".concat(y):"");var b={dataKey:m};a.push(b)}}),a}var zm=(function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n})(),DM=(function(n){FE(e,n);function e(t,r,a,l,f,g){var y=n.call(this,t,r,g)||this;return y.cell=a,y.row=l,y.column=f,y.section=l.section,y}return e})(zm),LM=(function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,a,l,f){for(var g=0,y=t;g<y.length;g++){var m=y[g],b=new DM(e,this,r,a,l,f),T=m(b)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],T)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var l=a[r];l(new zm(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var l=a[r];l(new zm(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(a,l){return a+l.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n})(),XE=(function(){function n(e,t,r,a,l){l===void 0&&(l=!1),this.height=0,this.raw=e,e instanceof UE&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=a,this.spansMultiplePages=l}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,a){var l;return Math.max(r,((l=t.cells[a.index])===null||l===void 0?void 0:l.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var a=t.cells[r.index];return a?a.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(a,l){var f=r.cells[l.index];if(!f)return 0;var g=t.getLineHeight(f.styles.fontSize),y=f.padding("vertical"),m=y+g;return m>a?m:a},0)},n})(),YE=(function(){function n(e,t,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var l=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,l=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var f=l!=null?""+l:"",g=/\r\n|\r|\n/g;this.text=f.split(g)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*t,l=r*a+this.padding("vertical");return Math.max(l,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=Hp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n})(),kM=(function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,a=e.allRows();r<a.length;r++){var l=a[r],f=l.cells[this.index];f&&typeof f.styles.cellWidth=="number"&&(t=Math.max(t,f.styles.cellWidth))}return t},n})();function MM(n,e){PM(n,e);var t=[],r=0;e.columns.forEach(function(l){var f=l.getMaxCustomCellWidth(e);f?l.width=f:(l.width=l.wrappedWidth,t.push(l)),r+=l.width});var a=e.getWidth(n.pageSize().width)-r;a&&(a=qm(t,a,function(l){return Math.max(l.minReadableWidth,l.minWidth)})),a&&(a=qm(t,a,function(l){return l.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/n.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),BM(e),FM(e,n),jM(e)}function PM(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,a=qE(n,e);e.allRows().forEach(function(l){for(var f=0,g=e.columns;f<g.length;f++){var y=g[f],m=l.cells[y.index];if(m){var b=e.hooks.didParseCell;e.callCellHooks(n,b,m,l,y,null);var T=m.padding("horizontal");m.contentWidth=ap(m.text,m.styles,n)+T;var L=ap(m.text.join(" ").split(/[^\S\u00A0]+/),m.styles,n);if(m.minReadableWidth=L+m.padding("horizontal"),typeof m.styles.cellWidth=="number")m.minWidth=m.styles.cellWidth,m.wrappedWidth=m.styles.cellWidth;else if(m.styles.cellWidth==="wrap"||r===!0)m.contentWidth>a?(m.minWidth=a,m.wrappedWidth=a):(m.minWidth=m.contentWidth,m.wrappedWidth=m.contentWidth);else{var R=10/t;m.minWidth=m.styles.minCellWidth||R,m.wrappedWidth=m.contentWidth,m.minWidth>m.wrappedWidth&&(m.wrappedWidth=m.minWidth)}}}}),e.allRows().forEach(function(l){for(var f=0,g=e.columns;f<g.length;f++){var y=g[f],m=l.cells[y.index];if(m&&m.colSpan===1)y.wrappedWidth=Math.max(y.wrappedWidth,m.wrappedWidth),y.minWidth=Math.max(y.minWidth,m.minWidth),y.minReadableWidth=Math.max(y.minReadableWidth,m.minReadableWidth);else{var b=e.styles.columnStyles[y.dataKey]||e.styles.columnStyles[y.index]||{},T=b.cellWidth||b.minCellWidth;T&&typeof T=="number"&&(y.minWidth=T,y.wrappedWidth=T)}m&&(m.colSpan>1&&!y.minWidth&&(y.minWidth=m.minWidth),m.colSpan>1&&!y.wrappedWidth&&(y.wrappedWidth=m.minWidth))}})}function qm(n,e,t){for(var r=e,a=n.reduce(function(R,X){return R+X.wrappedWidth},0),l=0;l<n.length;l++){var f=n[l],g=f.wrappedWidth/a,y=r*g,m=f.width+y,b=t(f),T=m<b?b:m;e-=T-f.width,f.width=T}if(e=Math.round(e*1e10)/1e10,e){var L=n.filter(function(R){return e<0?R.width>t(R):!0});L.length&&(e=qm(L,e,t))}return e}function jM(n){for(var e={},t=1,r=n.allRows(),a=0;a<r.length;a++)for(var l=r[a],f=0,g=n.columns;f<g.length;f++){var y=g[f],m=e[y.index];if(t>1)t--,delete l.cells[y.index];else if(m)m.cell.height+=l.height,t=m.cell.colSpan,delete l.cells[y.index],m.left--,m.left<=1&&delete e[y.index];else{var b=l.cells[y.index];if(!b)continue;if(b.height=l.height,b.rowSpan>1){var T=r.length-a,L=b.rowSpan>T?T:b.rowSpan;e[y.index]={cell:b,left:L,row:l}}}}}function BM(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],a=null,l=0,f=0,g=0;g<n.columns.length;g++){var y=n.columns[g];if(f-=1,f>1&&n.columns[g+1])l+=y.width,delete r.cells[y.index];else if(a){var m=a;delete r.cells[y.index],a=null,m.width=y.width+l}else{var m=r.cells[y.index];if(!m)continue;if(f=m.colSpan,l=0,m.colSpan>1){a=m,l+=y.width;continue}m.width=y.width+l}}}function FM(n,e){for(var t={count:0,height:0},r=0,a=n.allRows();r<a.length;r++){for(var l=a[r],f=0,g=n.columns;f<g.length;f++){var y=g[f],m=l.cells[y.index];if(m){e.applyStyles(m.styles,!0);var b=m.width-m.padding("horizontal");if(m.styles.overflow==="linebreak")m.text=e.splitTextToSize(m.text,b+1/e.scaleFactor(),{fontSize:m.styles.fontSize});else if(m.styles.overflow==="ellipsize")m.text=M3(m.text,b,m.styles,e,"...");else if(m.styles.overflow==="hidden")m.text=M3(m.text,b,m.styles,e,"");else if(typeof m.styles.overflow=="function"){var T=m.styles.overflow(m.text,b);typeof T=="string"?m.text=[T]:m.text=T}m.contentHeight=m.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var L=m.contentHeight/m.rowSpan;m.rowSpan>1&&t.count*t.height<L*m.rowSpan?t={height:L,count:m.rowSpan}:t&&t.count>0&&t.height>L&&(L=t.height),L>l.height&&(l.height=L)}}t.count--}}function M3(n,e,t,r,a){return n.map(function(l){return UM(l,e,t,r,a)})}function UM(n,e,t,r,a){var l=1e4*r.scaleFactor();if(e=Math.ceil(e*l)/l,e>=ap(n,t,r))return n;for(;e<ap(n+a,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+a}function KE(n,e){var t=new cf(n),r=VM(e,t.scaleFactor()),a=new LM(e,r);return MM(t,a),t.applyStyles(t.userStyles),a}function VM(n,e){var t=n.content,r=qM(t.columns);if(t.head.length===0){var a=P3(r,"head");a&&t.head.push(a)}if(t.foot.length===0){var a=P3(r,"foot");a&&t.foot.push(a)}var l=n.settings.theme,f=n.styles;return{columns:r,head:Y2("head",t.head,r,f,l,e),body:Y2("body",t.body,r,f,l,e),foot:Y2("foot",t.foot,r,f,l,e)}}function Y2(n,e,t,r,a,l){var f={},g=e.map(function(y,m){for(var b=0,T={},L=0,R=0,X=0,W=t;X<W.length;X++){var $=W[X];if(f[$.index]==null||f[$.index].left===0)if(R===0){var K=void 0;Array.isArray(y)?K=y[$.index-L-b]:K=y[$.dataKey];var oe={};typeof K=="object"&&!Array.isArray(K)&&(oe=K?.styles||{});var ue=HM(n,$,m,a,r,l,oe),pe=new YE(K,ue,n);T[$.dataKey]=pe,T[$.index]=pe,R=pe.colSpan-1,f[$.index]={left:pe.rowSpan-1,times:R}}else R--,L++;else f[$.index].left--,R=f[$.index].times,b++}return new XE(y,m,n,T)});return g}function P3(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var a=zM(e,r.raw);a!=null&&(t[r.dataKey]=a)}}),Object.keys(t).length>0?t:null}function zM(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function qM(n){return n.map(function(e,t){var r,a;return typeof e=="object"?a=(r=e.dataKey)!==null&&r!==void 0?r:t:a=t,new kM(a,e,t)})}function HM(n,e,t,r,a,l,f){var g=vM(r),y;n==="head"?y=a.headStyles:n==="body"?y=a.bodyStyles:n==="foot"&&(y=a.footStyles);var m=sc({},g.table,g[n],a.styles,y),b=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},T=n==="body"?b:{},L=n==="body"&&t%2===0?sc({},g.alternateRow,a.alternateRowStyles):{},R=yM(l),X=sc({},R,m,L,T);return sc(X,f)}function GM(n,e,t){var r;t===void 0&&(t={});var a=qE(n,e),l=new Map,f=[],g=[],y=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?y=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(y=[e.settings.horizontalPageBreakRepeat]),y.forEach(function(L){var R=e.columns.find(function(X){return X.dataKey===L||X.index===L});R&&!l.has(R.index)&&(l.set(R.index,!0),f.push(R.index),g.push(e.columns[R.index]),a-=R.wrappedWidth)});for(var m=!0,b=(r=t?.start)!==null&&r!==void 0?r:0;b<e.columns.length;){if(l.has(b)){b++;continue}var T=e.columns[b].wrappedWidth;if(m||a>=T)m=!1,f.push(b),g.push(e.columns[b]),a-=T;else break;b++}return{colIndexes:f,columns:g,lastIndex:b-1}}function WM(n,e){for(var t=[],r=0;r<e.columns.length;r++){var a=GM(n,e,{start:r});a.columns.length&&(t.push(a),r=a.lastIndex)}return t}function ZE(n,e){var t=e.settings,r=t.startY,a=t.margin,l={x:a.left,y:r},f=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),g=r+a.bottom+f;if(t.pageBreak==="avoid"){var y=e.body,m=y.reduce(function(L,R){return L+R.height},0);g+=m}var b=new cf(n);(t.pageBreak==="always"||t.startY!=null&&g>b.pageSize().height)&&(JE(b),l.y=a.top),e.callWillDrawPageHooks(b,l);var T=sc({},l);e.startPageNumber=b.pageNumber(),t.horizontalPageBreak?XM(b,e,T,l):(b.applyStyles(b.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(L){return yc(b,e,L,l,e.columns)}),b.applyStyles(b.userStyles),e.body.forEach(function(L,R){var X=R===e.body.length-1;op(b,e,L,X,T,l,e.columns)}),b.applyStyles(b.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(L){return yc(b,e,L,l,e.columns)})),VE(b,e,T,l),e.callEndPageHooks(b,l),e.finalY=l.y,n.lastAutoTable=e,b.applyStyles(b.userStyles)}function XM(n,e,t,r){var a=WM(n,e),l=e.settings;if(l.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(m,b){n.applyStyles(n.userStyles),b>0?Dd(n,e,t,r,m.columns,!0):j3(n,e,r,m.columns),YM(n,e,t,r,m.columns),K2(n,e,r,m.columns)});else for(var f=-1,g=a[0],y=function(){var m=f;if(g){n.applyStyles(n.userStyles);var b=g.columns;f>=0?Dd(n,e,t,r,b,!0):j3(n,e,r,b),m=B3(n,e,f+1,r,b),K2(n,e,r,b)}var T=m-f;a.slice(1).forEach(function(L){n.applyStyles(n.userStyles),Dd(n,e,t,r,L.columns,!0),B3(n,e,f+1,r,L.columns,T),K2(n,e,r,L.columns)}),f=m};f<e.body.length-1;)y()}function j3(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(l){return yc(n,e,l,t,r)})}function YM(n,e,t,r,a){n.applyStyles(n.userStyles),e.body.forEach(function(l,f){var g=f===e.body.length-1;op(n,e,l,g,t,r,a)})}function B3(n,e,t,r,a,l){n.applyStyles(n.userStyles),l=l??e.body.length;var f=Math.min(t+l,e.body.length),g=-1;return e.body.slice(t,f).forEach(function(y,m){var b=t+m===e.body.length-1,T=QE(n,e,b,r);y.canEntireRowFit(T,a)&&(yc(n,e,y,r,a),g=t+m)}),g}function K2(n,e,t,r){var a=e.settings;n.applyStyles(n.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(l){return yc(n,e,l,t,r)})}function KM(n,e,t){var r=t.getLineHeight(n.styles.fontSize),a=n.padding("vertical"),l=Math.floor((e-a)/r);return Math.max(0,l)}function ZM(n,e,t,r){var a={};n.spansMultiplePages=!0,n.height=0;for(var l=0,f=0,g=t.columns;f<g.length;f++){var y=g[f],m=n.cells[y.index];if(m){Array.isArray(m.text)||(m.text=[m.text]);var b=new YE(m.raw,m.styles,m.section);b=sc(b,m),b.text=[];var T=KM(m,e,r);m.text.length>T&&(b.text=m.text.splice(T,m.text.length));var L=r.scaleFactor(),R=r.getLineHeightFactor();m.contentHeight=m.getContentHeight(L,R),m.contentHeight>=e&&(m.contentHeight=e,b.styles.minCellHeight-=e),m.contentHeight>n.height&&(n.height=m.contentHeight),b.contentHeight=b.getContentHeight(L,R),b.contentHeight>l&&(l=b.contentHeight),a[y.index]=b}}var X=new XE(n.raw,-1,n.section,a,!0);X.height=l;for(var W=0,$=t.columns;W<$.length;W++){var y=$[W],b=X.cells[y.index];b&&(b.height=X.height);var m=n.cells[y.index];m&&(m.height=n.height)}return X}function QM(n,e,t,r){var a=n.pageSize().height,l=r.settings.margin,f=l.top+l.bottom,g=a-f;e.section==="body"&&(g-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var y=e.getMinimumRowHeight(r.columns,n),m=y<t;if(y>g)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!m)return!1;var b=e.hasRowSpan(r.columns),T=e.getMaxCellHeight(r.columns)>g;return T?(b&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(b||r.settings.rowPageBreak==="avoid")}function op(n,e,t,r,a,l,f){var g=QE(n,e,r,l);if(t.canEntireRowFit(g,f))yc(n,e,t,l,f);else if(QM(n,t,g,e)){var y=ZM(t,g,e,n);yc(n,e,t,l,f),Dd(n,e,a,l,f),op(n,e,y,r,a,l,f)}else Dd(n,e,a,l,f),op(n,e,t,r,a,l,f)}function yc(n,e,t,r,a){r.x=e.settings.margin.left;for(var l=0,f=a;l<f.length;l++){var g=f[l],y=t.cells[g.index];if(!y){r.x+=g.width;continue}n.applyStyles(y.styles),y.x=r.x,y.y=r.y;var m=e.callCellHooks(n,e.hooks.willDrawCell,y,t,g,r);if(m===!1){r.x+=g.width;continue}JM(n,y,r);var b=y.getTextPos();BE(y.text,b.x,b.y,{halign:y.styles.halign,valign:y.styles.valign,maxWidth:Math.ceil(y.width-y.padding("left")-y.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,y,t,g,r),r.x+=g.width}r.y+=t.height}function JM(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=zE(r.lineWidth,r.fillColor);a&&n.rect(e.x,t.y,e.width,e.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),$M(n,e,t,r.lineWidth))}function $M(n,e,t,r){var a,l,f,g;r.top&&(a=t.x,l=t.y,f=t.x+e.width,g=t.y,r.right&&(f+=.5*r.right),r.left&&(a-=.5*r.left),y(r.top,a,l,f,g)),r.bottom&&(a=t.x,l=t.y+e.height,f=t.x+e.width,g=t.y+e.height,r.right&&(f+=.5*r.right),r.left&&(a-=.5*r.left),y(r.bottom,a,l,f,g)),r.left&&(a=t.x,l=t.y,f=t.x,g=t.y+e.height,r.top&&(l-=.5*r.top),r.bottom&&(g+=.5*r.bottom),y(r.left,a,l,f,g)),r.right&&(a=t.x+e.width,l=t.y,f=t.x+e.width,g=t.y+e.height,r.top&&(l-=.5*r.top),r.bottom&&(g+=.5*r.bottom),y(r.right,a,l,f,g));function y(m,b,T,L,R){n.getDocument().setLineWidth(m),n.getDocument().line(b,T,L,R,"S")}}function QE(n,e,t,r){var a=e.settings.margin.bottom,l=e.settings.showFoot;return(l==="everyPage"||l==="lastPage"&&t)&&(a+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-a}function Dd(n,e,t,r,a,l){a===void 0&&(a=[]),l===void 0&&(l=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!l&&e.foot.forEach(function(g){return yc(n,e,g,r,a)}),e.callEndPageHooks(n,r);var f=e.settings.margin;VE(n,e,t,r),JE(n),e.pageNumber++,r.x=f.left,r.y=f.top,t.y=f.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(g){return yc(n,e,g,r,a)}),n.applyStyles(n.userStyles))}function JE(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function eP(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],a=WE(this,r),l=KE(this,a);return ZE(this,l),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,a){BE(e,t,r,a,this)},n.API.autoTableSetDefaults=function(e){return cf.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){cf.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new cf(this),l=GE(a,e,window,t,!1),f=l.head,g=l.body,y=((r=f[0])===null||r===void 0?void 0:r.map(function(m){return m.content}))||[];return{columns:y,rows:g,data:g}}}var Z2;function Gp(n,e){var t=WE(n,e),r=KE(n,t);ZE(n,r)}try{if(typeof window<"u"&&window){var F3=window,U3=F3.jsPDF||((Z2=F3.jspdf)===null||Z2===void 0?void 0:Z2.jsPDF);U3&&eP(U3)}}catch(n){console.error("Could not apply autoTable plugin",n)}var $t;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($t||($t={}));var V3=new Map([[$t.QR_CODE,"QR_CODE"],[$t.AZTEC,"AZTEC"],[$t.CODABAR,"CODABAR"],[$t.CODE_39,"CODE_39"],[$t.CODE_93,"CODE_93"],[$t.CODE_128,"CODE_128"],[$t.DATA_MATRIX,"DATA_MATRIX"],[$t.MAXICODE,"MAXICODE"],[$t.ITF,"ITF"],[$t.EAN_13,"EAN_13"],[$t.EAN_8,"EAN_8"],[$t.PDF_417,"PDF_417"],[$t.RSS_14,"RSS_14"],[$t.RSS_EXPANDED,"RSS_EXPANDED"],[$t.UPC_A,"UPC_A"],[$t.UPC_E,"UPC_E"],[$t.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),z3;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(z3||(z3={}));function tP(n){return Object.values($t).includes(n)}var lp;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(lp||(lp={}));var nP=(function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[lp.SCAN_TYPE_CAMERA,lp.SCAN_TYPE_FILE],n})(),$E=(function(){function n(e,t){this.format=e,this.formatName=t}return n.prototype.toString=function(){return this.formatName},n.create=function(e){if(!V3.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new n(e,V3.get(e))},n})(),q3=(function(){function n(){}return n.createFromText=function(e){var t={text:e};return{decodedText:e,result:t}},n.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},n})(),Hm;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Hm||(Hm={}));var rP=(function(){function n(){}return n.createFrom=function(e){return{errorMessage:e,type:Hm.UNKWOWN_ERROR}},n})(),iP=(function(){function n(e){this.verbose=e}return n.prototype.log=function(e){this.verbose&&console.log(e)},n.prototype.warn=function(e){this.verbose&&console.warn(e)},n.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},n.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},n})();function tc(n){return typeof n>"u"||n===null}var Jh=(function(){function n(){}return n.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},n.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n})(),e6=(function(){function n(){}return n.isMediaStreamConstraintsValid=function(e,t){if(typeof e!="object"){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),f=Object.keys(e),g=0,y=f;g<y.length;g++){var m=y[g];if(l.has(m))return t.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},n})(),wd={exports:{}},sP=wd.exports,H3;function aP(){return H3||(H3=1,(function(n,e){(function(t,r){r(e)})(sP,(function(t){function r(Q){return Q==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,s){Q.__proto__=s}||function(Q,s){for(var c in s)s.hasOwnProperty(c)&&(Q[c]=s[c])};function l(Q,s){a(Q,s);function c(){this.constructor=Q}Q.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}function f(Q,s){var c=Object.setPrototypeOf;c?c(Q,s):Q.__proto__=s}function g(Q,s){s===void 0&&(s=Q.constructor);var c=Error.captureStackTrace;c&&c(Q,s)}var y=(function(Q){l(s,Q);function s(c){var u=this.constructor,d=Q.call(this,c)||this;return Object.defineProperty(d,"name",{value:u.name,enumerable:!1}),f(d,u.prototype),g(d),d}return s})(Error);class m extends y{constructor(s=void 0){super(s),this.message=s}getKind(){return this.constructor.kind}}m.kind="Exception";class b extends m{}b.kind="ArgumentException";class T extends m{}T.kind="IllegalArgumentException";class L{constructor(s){if(this.binarizer=s,s===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,c){return this.binarizer.getBlackRow(s,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,c,u,d){const p=this.binarizer.getLuminanceSource().crop(s,c,u,d);return new L(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new L(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new L(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends m{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class X{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class W{static arraycopy(s,c,u,d,p){for(;p--;)u[d++]=s[c++]}static currentTimeMillis(){return Date.now()}}class $ extends m{}$.kind="IndexOutOfBoundsException";class K extends ${constructor(s=void 0,c=void 0){super(c),this.index=s,this.message=c}}K.kind="ArrayIndexOutOfBoundsException";class oe{static fill(s,c){for(let u=0,d=s.length;u<d;u++)s[u]=c}static fillWithin(s,c,u,d){oe.rangeCheck(s.length,c,u);for(let p=c;p<u;p++)s[p]=d}static rangeCheck(s,c,u){if(c>u)throw new T("fromIndex("+c+") > toIndex("+u+")");if(c<0)throw new K(c);if(u>s)throw new K(u)}static asList(...s){return s}static create(s,c,u){return Array.from({length:s}).map(p=>Array.from({length:c}).fill(u))}static createInt32Array(s,c,u){return Array.from({length:s}).map(p=>Int32Array.from({length:c}).fill(u))}static equals(s,c){if(!s||!c||!s.length||!c.length||s.length!==c.length)return!1;for(let u=0,d=s.length;u<d;u++)if(s[u]!==c[u])return!1;return!0}static hashCode(s){if(s===null)return 0;let c=1;for(const u of s)c=31*c+u;return c}static fillUint8Array(s,c){for(let u=0;u!==s.length;u++)s[u]=c}static copyOf(s,c){return s.slice(0,c)}static copyOfUint8Array(s,c){if(s.length<=c){const u=new Uint8Array(c);return u.set(s),u}return s.slice(0,c)}static copyOfRange(s,c,u){const d=u-c,p=new Int32Array(d);return W.arraycopy(s,c,p,0,d),p}static binarySearch(s,c,u){u===void 0&&(u=oe.numberComparator);let d=0,p=s.length-1;for(;d<=p;){const v=p+d>>1,A=u(c,s[v]);if(A>0)d=v+1;else if(A<0)p=v-1;else return v}return-d-1}static numberComparator(s,c){return s-c}}class ue{static numberOfTrailingZeros(s){let c;if(s===0)return 32;let u=31;return c=s<<16,c!==0&&(u-=16,s=c),c=s<<8,c!==0&&(u-=8,s=c),c=s<<4,c!==0&&(u-=4,s=c),c=s<<2,c!==0&&(u-=2,s=c),u-(s<<1>>>31)}static numberOfLeadingZeros(s){if(s===0)return 32;let c=1;return s>>>16||(c+=16,s<<=16),s>>>24||(c+=8,s<<=8),s>>>28||(c+=4,s<<=4),s>>>30||(c+=2,s<<=2),c-=s>>>31,c}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=s-(s>>>1&1431655765),s=(s&858993459)+(s>>>2&858993459),s=s+(s>>>4)&252645135,s=s+(s>>>8),s=s+(s>>>16),s&63}static truncDivision(s,c){return Math.trunc(s/c)}static parseInt(s,c=void 0){return parseInt(s,c)}}ue.MIN_VALUE_32_BITS=-2147483648,ue.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(s,c){s===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,c==null?this.bits=pe.makeArray(s):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>this.bits.length*32){const c=pe.makeArray(s);W.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(s){return(this.bits[Math.floor(s/32)]&1<<(s&31))!==0}set(s){this.bits[Math.floor(s/32)]|=1<<(s&31)}flip(s){this.bits[Math.floor(s/32)]^=1<<(s&31)}getNextSet(s){const c=this.size;if(s>=c)return c;const u=this.bits;let d=Math.floor(s/32),p=u[d];p&=~((1<<(s&31))-1);const v=u.length;for(;p===0;){if(++d===v)return c;p=u[d]}const A=d*32+ue.numberOfTrailingZeros(p);return A>c?c:A}getNextUnset(s){const c=this.size;if(s>=c)return c;const u=this.bits;let d=Math.floor(s/32),p=~u[d];p&=~((1<<(s&31))-1);const v=u.length;for(;p===0;){if(++d===v)return c;p=~u[d]}const A=d*32+ue.numberOfTrailingZeros(p);return A>c?c:A}setBulk(s,c){this.bits[Math.floor(s/32)]=c}setRange(s,c){if(c<s||s<0||c>this.size)throw new T;if(c===s)return;c--;const u=Math.floor(s/32),d=Math.floor(c/32),p=this.bits;for(let v=u;v<=d;v++){const A=v>u?0:s&31,D=(2<<(v<d?31:c&31))-(1<<A);p[v]|=D}}clear(){const s=this.bits.length,c=this.bits;for(let u=0;u<s;u++)c[u]=0}isRange(s,c,u){if(c<s||s<0||c>this.size)throw new T;if(c===s)return!0;c--;const d=Math.floor(s/32),p=Math.floor(c/32),v=this.bits;for(let A=d;A<=p;A++){const N=A>d?0:s&31,B=(2<<(A<p?31:c&31))-(1<<N)&4294967295;if((v[A]&B)!==(u?B:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(s,c){if(c<0||c>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let u=c;u>0;u--)this.appendBit((s>>u-1&1)===1)}appendBitArray(s){const c=s.size;this.ensureCapacity(this.size+c);for(let u=0;u<c;u++)this.appendBit(s.get(u))}xor(s){if(this.size!==s.size)throw new T("Sizes don't match");const c=this.bits;for(let u=0,d=c.length;u<d;u++)c[u]^=s.bits[u]}toBytes(s,c,u,d){for(let p=0;p<d;p++){let v=0;for(let A=0;A<8;A++)this.get(s)&&(v|=1<<7-A),s++;c[u+p]=v}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),u=c+1,d=this.bits;for(let p=0;p<u;p++){let v=d[p];v=v>>1&1431655765|(v&1431655765)<<1,v=v>>2&858993459|(v&858993459)<<2,v=v>>4&252645135|(v&252645135)<<4,v=v>>8&16711935|(v&16711935)<<8,v=v>>16&65535|(v&65535)<<16,s[c-p]=v}if(this.size!==u*32){const p=u*32-this.size;let v=s[0]>>>p;for(let A=1;A<u;A++){const N=s[A];v|=N<<32-p,s[A-1]=v,v=N>>>p}s[u-1]=v}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){if(!(s instanceof pe))return!1;const c=s;return this.size===c.size&&oe.equals(this.bits,c.bits)}hashCode(){return 31*this.size+oe.hashCode(this.bits)}toString(){let s="";for(let c=0,u=this.size;c<u;c++)(c&7)===0&&(s+=" "),s+=this.get(c)?"X":".";return s}clone(){return new pe(this.size,this.bits.slice())}}var Ue;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.PURE_BARCODE=1]="PURE_BARCODE",Q[Q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Q[Q.TRY_HARDER=3]="TRY_HARDER",Q[Q.CHARACTER_SET=4]="CHARACTER_SET",Q[Q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Q[Q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Q[Q.ASSUME_GS1=7]="ASSUME_GS1",Q[Q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Q[Q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Q[Q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Ue||(Ue={}));var ze=Ue;class Y extends m{static getFormatInstance(){return new Y}}Y.kind="FormatException";var G;(function(Q){Q[Q.Cp437=0]="Cp437",Q[Q.ISO8859_1=1]="ISO8859_1",Q[Q.ISO8859_2=2]="ISO8859_2",Q[Q.ISO8859_3=3]="ISO8859_3",Q[Q.ISO8859_4=4]="ISO8859_4",Q[Q.ISO8859_5=5]="ISO8859_5",Q[Q.ISO8859_6=6]="ISO8859_6",Q[Q.ISO8859_7=7]="ISO8859_7",Q[Q.ISO8859_8=8]="ISO8859_8",Q[Q.ISO8859_9=9]="ISO8859_9",Q[Q.ISO8859_10=10]="ISO8859_10",Q[Q.ISO8859_11=11]="ISO8859_11",Q[Q.ISO8859_13=12]="ISO8859_13",Q[Q.ISO8859_14=13]="ISO8859_14",Q[Q.ISO8859_15=14]="ISO8859_15",Q[Q.ISO8859_16=15]="ISO8859_16",Q[Q.SJIS=16]="SJIS",Q[Q.Cp1250=17]="Cp1250",Q[Q.Cp1251=18]="Cp1251",Q[Q.Cp1252=19]="Cp1252",Q[Q.Cp1256=20]="Cp1256",Q[Q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Q[Q.UTF8=22]="UTF8",Q[Q.ASCII=23]="ASCII",Q[Q.Big5=24]="Big5",Q[Q.GB18030=25]="GB18030",Q[Q.EUC_KR=26]="EUC_KR"})(G||(G={}));class P{constructor(s,c,u,...d){this.valueIdentifier=s,this.name=u,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=d,P.VALUE_IDENTIFIER_TO_ECI.set(s,this),P.NAME_TO_ECI.set(u,this);const p=this.values;for(let v=0,A=p.length;v!==A;v++){const N=p[v];P.VALUES_TO_ECI.set(N,this)}for(const v of d)P.NAME_TO_ECI.set(v,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new Y("incorect value");const c=P.VALUES_TO_ECI.get(s);if(c===void 0)throw new Y("incorect value");return c}static getCharacterSetECIByName(s){const c=P.NAME_TO_ECI.get(s);if(c===void 0)throw new Y("incorect value");return c}equals(s){if(!(s instanceof P))return!1;const c=s;return this.getName()===c.getName()}}P.VALUE_IDENTIFIER_TO_ECI=new Map,P.VALUES_TO_ECI=new Map,P.NAME_TO_ECI=new Map,P.Cp437=new P(G.Cp437,Int32Array.from([0,2]),"Cp437"),P.ISO8859_1=new P(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),P.ISO8859_2=new P(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),P.ISO8859_3=new P(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),P.ISO8859_4=new P(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),P.ISO8859_5=new P(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),P.ISO8859_6=new P(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),P.ISO8859_7=new P(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),P.ISO8859_8=new P(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),P.ISO8859_9=new P(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),P.ISO8859_10=new P(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),P.ISO8859_11=new P(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),P.ISO8859_13=new P(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),P.ISO8859_14=new P(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),P.ISO8859_15=new P(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),P.ISO8859_16=new P(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),P.SJIS=new P(G.SJIS,20,"SJIS","Shift_JIS"),P.Cp1250=new P(G.Cp1250,21,"Cp1250","windows-1250"),P.Cp1251=new P(G.Cp1251,22,"Cp1251","windows-1251"),P.Cp1252=new P(G.Cp1252,23,"Cp1252","windows-1252"),P.Cp1256=new P(G.Cp1256,24,"Cp1256","windows-1256"),P.UnicodeBigUnmarked=new P(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),P.UTF8=new P(G.UTF8,26,"UTF8","UTF-8"),P.ASCII=new P(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),P.Big5=new P(G.Big5,28,"Big5"),P.GB18030=new P(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),P.EUC_KR=new P(G.EUC_KR,30,"EUC_KR","EUC-KR");class re extends m{}re.kind="UnsupportedOperationException";class j{static decode(s,c){const u=this.encodingName(c);return this.customDecoder?this.customDecoder(s,u):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(u)?this.decodeFallback(s,u):new TextDecoder(u).decode(s)}static shouldDecodeOnFallback(s){return!j.isBrowser()&&s==="ISO-8859-1"}static encode(s,c){const u=this.encodingName(c);return this.customEncoder?this.customEncoder(s,u):typeof TextEncoder>"u"?this.encodeFallback(s):new TextEncoder().encode(s)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(s){return typeof s=="string"?s:s.getName()}static encodingCharacterSet(s){return s instanceof P?s:P.getCharacterSetECIByName(s)}static decodeFallback(s,c){const u=this.encodingCharacterSet(c);if(j.isDecodeFallbackSupported(u)){let d="";for(let p=0,v=s.length;p<v;p++){let A=s[p].toString(16);A.length<2&&(A="0"+A),d+="%"+A}return decodeURIComponent(d)}if(u.equals(P.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new re(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(P.UTF8)||s.equals(P.ISO8859_1)||s.equals(P.ASCII)}static encodeFallback(s){const u=btoa(unescape(encodeURIComponent(s))).split(""),d=[];for(let p=0;p<u.length;p++)d.push(u[p].charCodeAt(0));return new Uint8Array(d)}}class U{static castAsNonUtf8Char(s,c=null){const u=c?c.getName():this.ISO88591;return j.decode(new Uint8Array([s]),u)}static guessEncoding(s,c){if(c!=null&&c.get(ze.CHARACTER_SET)!==void 0)return c.get(ze.CHARACTER_SET).toString();const u=s.length;let d=!0,p=!0,v=!0,A=0,N=0,D=0,B=0,J=0,ne=0,be=0,Le=0,je=0,Xe=0,st=0;const mt=s.length>3&&s[0]===239&&s[1]===187&&s[2]===191;for(let xt=0;xt<u&&(d||p||v);xt++){const gt=s[xt]&255;v&&(A>0?(gt&128)===0?v=!1:A--:(gt&128)!==0&&((gt&64)===0?v=!1:(A++,(gt&32)===0?N++:(A++,(gt&16)===0?D++:(A++,(gt&8)===0?B++:v=!1))))),d&&(gt>127&&gt<160?d=!1:gt>159&&(gt<192||gt===215||gt===247)&&st++),p&&(J>0?gt<64||gt===127||gt>252?p=!1:J--:gt===128||gt===160||gt>239?p=!1:gt>160&&gt<224?(ne++,Le=0,be++,be>je&&(je=be)):gt>127?(J++,be=0,Le++,Le>Xe&&(Xe=Le)):(be=0,Le=0))}return v&&A>0&&(v=!1),p&&J>0&&(p=!1),v&&(mt||N+D+B>0)?U.UTF8:p&&(U.ASSUME_SHIFT_JIS||je>=3||Xe>=3)?U.SHIFT_JIS:d&&p?je===2&&ne===2||st*10>=u?U.SHIFT_JIS:U.ISO88591:d?U.ISO88591:p?U.SHIFT_JIS:v?U.UTF8:U.PLATFORM_DEFAULT_ENCODING}static format(s,...c){let u=-1;function d(v,A,N,D,B,J){if(v==="%%")return"%";if(c[++u]===void 0)return;v=D?parseInt(D.substr(1)):void 0;let ne=B?parseInt(B.substr(1)):void 0,be;switch(J){case"s":be=c[u];break;case"c":be=c[u][0];break;case"f":be=parseFloat(c[u]).toFixed(v);break;case"p":be=parseFloat(c[u]).toPrecision(v);break;case"e":be=parseFloat(c[u]).toExponential(v);break;case"x":be=parseInt(c[u]).toString(ne||16);break;case"d":be=parseFloat(parseInt(c[u],ne||10).toPrecision(v)).toFixed(0);break}be=typeof be=="object"?JSON.stringify(be):(+be).toString(ne);let Le=parseInt(N),je=N&&N[0]+""=="0"?"0":" ";for(;be.length<Le;)be=A!==void 0?be+je:je+be;return be}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(p,d)}static getBytes(s,c){return j.encode(s,c)}static getCharCode(s,c=0){return s.charCodeAt(c)}static getCharAt(s){return String.fromCharCode(s)}}U.SHIFT_JIS=P.SJIS.getName(),U.GB2312="GB2312",U.ISO88591=P.ISO8859_1.getName(),U.EUC_JP="EUC_JP",U.UTF8=P.UTF8.getName(),U.PLATFORM_DEFAULT_ENCODING=U.UTF8,U.ASSUME_SHIFT_JIS=!1;class H{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return typeof s=="string"?this.value+=s.toString():this.encoding?this.value+=U.castAsNonUtf8Char(s,this.encoding):this.value+=String.fromCharCode(s),this}appendChars(s,c,u){for(let d=c;c<c+u;d++)this.append(s[d]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+1)}substring(s,c){return this.value.substring(s,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,c){this.value=this.value.substr(0,s)+c+this.value.substr(s+c.length)}}class Ce{constructor(s,c,u,d){if(this.width=s,this.height=c,this.rowSize=u,this.bits=d,c==null&&(c=s),this.height=c,s<1||c<1)throw new T("Both dimensions must be greater than 0");u==null&&(u=Math.floor((s+31)/32)),this.rowSize=u,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const c=s.length,u=s[0].length,d=new Ce(u,c);for(let p=0;p<c;p++){const v=s[p];for(let A=0;A<u;A++)v[A]&&d.set(A,p)}return d}static parseFromString(s,c,u){if(s===null)throw new T("stringRepresentation cannot be null");const d=new Array(s.length);let p=0,v=0,A=-1,N=0,D=0;for(;D<s.length;)if(s.charAt(D)===`
`||s.charAt(D)==="\r"){if(p>v){if(A===-1)A=p-v;else if(p-v!==A)throw new T("row lengths do not match");v=p,N++}D++}else if(s.substring(D,D+c.length)===c)D+=c.length,d[p]=!0,p++;else if(s.substring(D,D+u.length)===u)D+=u.length,d[p]=!1,p++;else throw new T("illegal character encountered: "+s.substring(D));if(p>v){if(A===-1)A=p-v;else if(p-v!==A)throw new T("row lengths do not match");N++}const B=new Ce(A,N);for(let J=0;J<p;J++)d[J]&&B.set(Math.floor(J%A),Math.floor(J/A));return B}get(s,c){const u=c*this.rowSize+Math.floor(s/32);return(this.bits[u]>>>(s&31)&1)!==0}set(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]|=1<<(s&31)&4294967295}unset(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]&=~(1<<(s&31)&4294967295)}flip(s,c){const u=c*this.rowSize+Math.floor(s/32);this.bits[u]^=1<<(s&31)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new T("input matrix dimensions do not match");const c=new pe(Math.floor(this.width/32)+1),u=this.rowSize,d=this.bits;for(let p=0,v=this.height;p<v;p++){const A=p*u,N=s.getRow(p,c).getBitArray();for(let D=0;D<u;D++)d[A+D]^=N[D]}}clear(){const s=this.bits,c=s.length;for(let u=0;u<c;u++)s[u]=0}setRegion(s,c,u,d){if(c<0||s<0)throw new T("Left and top must be nonnegative");if(d<1||u<1)throw new T("Height and width must be at least 1");const p=s+u,v=c+d;if(v>this.height||p>this.width)throw new T("The region must fit inside the matrix");const A=this.rowSize,N=this.bits;for(let D=c;D<v;D++){const B=D*A;for(let J=s;J<p;J++)N[B+Math.floor(J/32)]|=1<<(J&31)&4294967295}}getRow(s,c){c==null||c.getSize()<this.width?c=new pe(this.width):c.clear();const u=this.rowSize,d=this.bits,p=s*u;for(let v=0;v<u;v++)c.setBulk(v*32,d[p+v]);return c}setRow(s,c){W.arraycopy(c.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),c=this.getHeight();let u=new pe(s),d=new pe(s);for(let p=0,v=Math.floor((c+1)/2);p<v;p++)u=this.getRow(p,u),d=this.getRow(c-1-p,d),u.reverse(),d.reverse(),this.setRow(p,d),this.setRow(c-1-p,u)}getEnclosingRectangle(){const s=this.width,c=this.height,u=this.rowSize,d=this.bits;let p=s,v=c,A=-1,N=-1;for(let D=0;D<c;D++)for(let B=0;B<u;B++){const J=d[D*u+B];if(J!==0){if(D<v&&(v=D),D>N&&(N=D),B*32<p){let ne=0;for(;(J<<31-ne&4294967295)===0;)ne++;B*32+ne<p&&(p=B*32+ne)}if(B*32+31>A){let ne=31;for(;!(J>>>ne);)ne--;B*32+ne>A&&(A=B*32+ne)}}}return A<p||N<v?null:Int32Array.from([p,v,A-p+1,N-v+1])}getTopLeftOnBit(){const s=this.rowSize,c=this.bits;let u=0;for(;u<c.length&&c[u]===0;)u++;if(u===c.length)return null;const d=u/s;let p=u%s*32;const v=c[u];let A=0;for(;(v<<31-A&4294967295)===0;)A++;return p+=A,Int32Array.from([p,d])}getBottomRightOnBit(){const s=this.rowSize,c=this.bits;let u=c.length-1;for(;u>=0&&c[u]===0;)u--;if(u<0)return null;const d=Math.floor(u/s);let p=Math.floor(u%s)*32;const v=c[u];let A=31;for(;!(v>>>A);)A--;return p+=A,Int32Array.from([p,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){if(!(s instanceof Ce))return!1;const c=s;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&oe.equals(this.bits,c.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+oe.hashCode(this.bits),s}toString(s="X ",c="  ",u=`
`){return this.buildToString(s,c,u)}buildToString(s,c,u){let d=new H;for(let p=0,v=this.height;p<v;p++){for(let A=0,N=this.width;A<N;A++)d.append(this.get(A,p)?s:c);d.append(u)}return d.toString()}clone(){return new Ce(this.width,this.height,this.rowSize,this.bits.slice())}}class xe extends m{static getNotFoundInstance(){return new xe}}xe.kind="NotFoundException";class _e extends X{constructor(s){super(s),this.luminances=_e.EMPTY,this.buckets=new Int32Array(_e.LUMINANCE_BUCKETS)}getBlackRow(s,c){const u=this.getLuminanceSource(),d=u.getWidth();c==null||c.getSize()<d?c=new pe(d):c.clear(),this.initArrays(d);const p=u.getRow(s,this.luminances),v=this.buckets;for(let N=0;N<d;N++)v[(p[N]&255)>>_e.LUMINANCE_SHIFT]++;const A=_e.estimateBlackPoint(v);if(d<3)for(let N=0;N<d;N++)(p[N]&255)<A&&c.set(N);else{let N=p[0]&255,D=p[1]&255;for(let B=1;B<d-1;B++){const J=p[B+1]&255;(D*4-N-J)/2<A&&c.set(B),N=D,D=J}}return c}getBlackMatrix(){const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight(),d=new Ce(c,u);this.initArrays(c);const p=this.buckets;for(let N=1;N<5;N++){const D=Math.floor(u*N/5),B=s.getRow(D,this.luminances),J=Math.floor(c*4/5);for(let ne=Math.floor(c/5);ne<J;ne++){const be=B[ne]&255;p[be>>_e.LUMINANCE_SHIFT]++}}const v=_e.estimateBlackPoint(p),A=s.getMatrix();for(let N=0;N<u;N++){const D=N*c;for(let B=0;B<c;B++)(A[D+B]&255)<v&&d.set(B,N)}return d}createBinarizer(s){return new _e(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const c=this.buckets;for(let u=0;u<_e.LUMINANCE_BUCKETS;u++)c[u]=0}static estimateBlackPoint(s){const c=s.length;let u=0,d=0,p=0;for(let B=0;B<c;B++)s[B]>p&&(d=B,p=s[B]),s[B]>u&&(u=s[B]);let v=0,A=0;for(let B=0;B<c;B++){const J=B-d,ne=s[B]*J*J;ne>A&&(v=B,A=ne)}if(d>v){const B=d;d=v,v=B}if(v-d<=c/16)throw new xe;let N=v-1,D=-1;for(let B=v-1;B>d;B--){const J=B-d,ne=J*J*(v-B)*(u-s[B]);ne>D&&(N=B,D=ne)}return N<<_e.LUMINANCE_SHIFT}}_e.LUMINANCE_BITS=5,_e.LUMINANCE_SHIFT=8-_e.LUMINANCE_BITS,_e.LUMINANCE_BUCKETS=1<<_e.LUMINANCE_BITS,_e.EMPTY=Uint8ClampedArray.from([0]);class Te extends _e{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const s=this.getLuminanceSource(),c=s.getWidth(),u=s.getHeight();if(c>=Te.MINIMUM_DIMENSION&&u>=Te.MINIMUM_DIMENSION){const d=s.getMatrix();let p=c>>Te.BLOCK_SIZE_POWER;(c&Te.BLOCK_SIZE_MASK)!==0&&p++;let v=u>>Te.BLOCK_SIZE_POWER;(u&Te.BLOCK_SIZE_MASK)!==0&&v++;const A=Te.calculateBlackPoints(d,p,v,c,u),N=new Ce(c,u);Te.calculateThresholdForBlock(d,p,v,c,u,A,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Te(s)}static calculateThresholdForBlock(s,c,u,d,p,v,A){const N=p-Te.BLOCK_SIZE,D=d-Te.BLOCK_SIZE;for(let B=0;B<u;B++){let J=B<<Te.BLOCK_SIZE_POWER;J>N&&(J=N);const ne=Te.cap(B,2,u-3);for(let be=0;be<c;be++){let Le=be<<Te.BLOCK_SIZE_POWER;Le>D&&(Le=D);const je=Te.cap(be,2,c-3);let Xe=0;for(let mt=-2;mt<=2;mt++){const xt=v[ne+mt];Xe+=xt[je-2]+xt[je-1]+xt[je]+xt[je+1]+xt[je+2]}const st=Xe/25;Te.thresholdBlock(s,Le,J,st,d,A)}}}static cap(s,c,u){return s<c?c:s>u?u:s}static thresholdBlock(s,c,u,d,p,v){for(let A=0,N=u*p+c;A<Te.BLOCK_SIZE;A++,N+=p)for(let D=0;D<Te.BLOCK_SIZE;D++)(s[N+D]&255)<=d&&v.set(c+D,u+A)}static calculateBlackPoints(s,c,u,d,p){const v=p-Te.BLOCK_SIZE,A=d-Te.BLOCK_SIZE,N=new Array(u);for(let D=0;D<u;D++){N[D]=new Int32Array(c);let B=D<<Te.BLOCK_SIZE_POWER;B>v&&(B=v);for(let J=0;J<c;J++){let ne=J<<Te.BLOCK_SIZE_POWER;ne>A&&(ne=A);let be=0,Le=255,je=0;for(let st=0,mt=B*d+ne;st<Te.BLOCK_SIZE;st++,mt+=d){for(let xt=0;xt<Te.BLOCK_SIZE;xt++){const gt=s[mt+xt]&255;be+=gt,gt<Le&&(Le=gt),gt>je&&(je=gt)}if(je-Le>Te.MIN_DYNAMIC_RANGE)for(st++,mt+=d;st<Te.BLOCK_SIZE;st++,mt+=d)for(let xt=0;xt<Te.BLOCK_SIZE;xt++)be+=s[mt+xt]&255}let Xe=be>>Te.BLOCK_SIZE_POWER*2;if(je-Le<=Te.MIN_DYNAMIC_RANGE&&(Xe=Le/2,D>0&&J>0)){const st=(N[D-1][J]+2*N[D][J-1]+N[D-1][J-1])/4;Le<st&&(Xe=st)}N[D][J]=Xe}}return N}}Te.BLOCK_SIZE_POWER=3,Te.BLOCK_SIZE=1<<Te.BLOCK_SIZE_POWER,Te.BLOCK_SIZE_MASK=Te.BLOCK_SIZE-1,Te.MINIMUM_DIMENSION=Te.BLOCK_SIZE*5,Te.MIN_DYNAMIC_RANGE=24;class De{constructor(s,c){this.width=s,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,c,u,d){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let c=new H;for(let u=0;u<this.height;u++){const d=this.getRow(u,s);for(let p=0;p<this.width;p++){const v=d[p]&255;let A;v<64?A="#":v<128?A="+":v<192?A=".":A=" ",c.append(A)}c.append(`
`)}return c.toString()}}class He extends De{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,c){const u=this.delegate.getRow(s,c),d=this.getWidth();for(let p=0;p<d;p++)u[p]=255-(u[p]&255);return u}getMatrix(){const s=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),u=new Uint8ClampedArray(c);for(let d=0;d<c;d++)u[d]=255-(s[d]&255);return u}isCropSupported(){return this.delegate.isCropSupported()}crop(s,c,u,d){return new He(this.delegate.crop(s,c,u,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new He(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new He(this.delegate.rotateCounterClockwise45())}}class lt extends De{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=lt.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const c=s.getContext("2d").getImageData(0,0,s.width,s.height);return lt.toGrayscaleBuffer(c.data,s.width,s.height)}static toGrayscaleBuffer(s,c,u){const d=new Uint8ClampedArray(c*u);for(let p=0,v=0,A=s.length;p<A;p+=4,v++){let N;if(s[p+3]===0)N=255;else{const B=s[p],J=s[p+1],ne=s[p+2];N=306*B+601*J+117*ne+512>>10}d[v]=N}return d}getRow(s,c){if(s<0||s>=this.getHeight())throw new T("Requested row is outside the image: "+s);const u=this.getWidth(),d=s*u;return c===null?c=this.buffer.slice(d,d+u):(c.length<u&&(c=new Uint8ClampedArray(u)),c.set(this.buffer.slice(d,d+u))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,c,u,d){return super.crop(s,c,u,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const c=this.getTempCanvasElement(),u=c.getContext("2d"),d=s*lt.DEGREE_TO_RADIANS,p=this.canvas.width,v=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(d))*p+Math.abs(Math.sin(d))*v),N=Math.ceil(Math.abs(Math.sin(d))*p+Math.abs(Math.cos(d))*v);return c.width=A,c.height=N,u.translate(A/2,N/2),u.rotate(d),u.drawImage(this.canvas,p/-2,v/-2),this.buffer=lt.makeBufferFromCanvasImageData(c),this}invert(){return new He(this)}}lt.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(s,c,u){this.deviceId=s,this.label=c,this.kind="videoinput",this.groupId=u||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var q=(globalThis||Q0||self||window||void 0)&&(globalThis||Q0||self||window||void 0).__awaiter||function(Q,s,c,u){function d(p){return p instanceof c?p:new c(function(v){v(p)})}return new(c||(c=Promise))(function(p,v){function A(B){try{D(u.next(B))}catch(J){v(J)}}function N(B){try{D(u.throw(B))}catch(J){v(J)}}function D(B){B.done?p(B.value):d(B.value).then(A,N)}D((u=u.apply(Q,s||[])).next())})};class le{constructor(s,c=500,u){this.reader=s,this.timeBetweenScansMillis=c,this._hints=u,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return q(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const u of s){const d=u.kind==="video"?"videoinput":u.kind;if(d!=="videoinput")continue;const p=u.deviceId||u.id,v=u.label||`Video device ${c.length+1}`,A=u.groupId,N={deviceId:p,label:v,kind:d,groupId:A};c.push(N)}return c})}getVideoInputDevices(){return q(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new de(c.deviceId,c.label))})}findDeviceById(s){return q(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(u=>u.deviceId===s):null})}decodeFromInputVideoDevice(s,c){return q(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,c)})}decodeOnceFromVideoDevice(s,c){return q(this,void 0,void 0,function*(){this.reset();let u;s?u={deviceId:{exact:s}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeOnceFromConstraints(d,c)})}decodeOnceFromConstraints(s,c){return q(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(u,c)})}decodeOnceFromStream(s,c){return q(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,c);return yield this.decodeOnce(u)})}decodeFromInputVideoDeviceContinuously(s,c,u){return q(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,c,u)})}decodeFromVideoDevice(s,c,u){return q(this,void 0,void 0,function*(){let d;s?d={deviceId:{exact:s}}:d={facingMode:"environment"};const p={video:d};return yield this.decodeFromConstraints(p,c,u)})}decodeFromConstraints(s,c,u){return q(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(d,c,u)})}decodeFromStream(s,c,u){return q(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(s,c);return yield this.decodeContinuously(d,u)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,c){return q(this,void 0,void 0,function*(){const u=this.prepareVideoElement(c);return this.addVideoSource(u,s),this.videoElement=u,this.stream=s,yield this.playVideoOnLoadAsync(u),u})}playVideoOnLoadAsync(s){return new Promise((c,u)=>this.playVideoOnLoad(s,()=>c()))}playVideoOnLoad(s,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",c),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return q(this,void 0,void 0,function*(){if(this.isVideoPlaying(s)){console.warn("Trying to play video that is already playing.");return}try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,c){const u=document.getElementById(s);if(!u)throw new b(`element with id '${s}' not found`);if(u.nodeName.toLowerCase()!==c.toLowerCase())throw new b(`element with id '${s}' must be an ${c} element`);return u}decodeFromImage(s,c){if(!s&&!c)throw new b("either imageElement with a src set or an url must be provided");return c&&!s?this.decodeFromImageUrl(c):this.decodeFromImageElement(s)}decodeFromVideo(s,c){if(!s&&!c)throw new b("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,c,u){if(s===void 0&&c===void 0)throw new b("Either an element with a src set or an URL must be provided");return c&&!s?this.decodeFromVideoUrlContinuously(c,u):this.decodeFromVideoElementContinuously(s,u)}decodeFromImageElement(s){if(!s)throw new b("An image element must be provided.");this.reset();const c=this.prepareImageElement(s);this.imageElement=c;let u;return this.isImageLoaded(c)?u=this.decodeOnce(c,!1,!0):u=this._decodeOnLoadImage(c),u}decodeFromVideoElement(s){const c=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(s,c){const u=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(u,c)}_decodeFromVideoElementSetup(s){if(!s)throw new b("A video element must be provided.");this.reset();const c=this.prepareVideoElement(s);return this.videoElement=c,c}decodeFromImageUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const u=this._decodeOnLoadImage(c);return c.src=s,u}decodeFromVideoUrl(s){if(!s)throw new b("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),u=this.decodeFromVideoElement(c);return c.src=s,u}decodeFromVideoUrlContinuously(s,c){if(!s)throw new b("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(u,c);return u.src=s,d}_decodeOnLoadImage(s){return new Promise((c,u)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(c,u),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return q(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,c){return q(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,c)})}isImageLoaded(s){return!(!s.complete||s.naturalWidth===0)}prepareImageElement(s){let c;return typeof s>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(c=s),c}prepareVideoElement(s){let c;return!s&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof s=="string"&&(c=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(c=s),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(s,c=!0,u=!0){this._stopAsyncDecode=!1;const d=(p,v)=>{if(this._stopAsyncDecode){v(new xe("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const A=this.decode(s);p(A)}catch(A){const N=c&&A instanceof xe,B=(A instanceof R||A instanceof Y)&&u;if(N||B)return setTimeout(d,this._timeBetweenDecodingAttempts,p,v);v(A)}};return new Promise((p,v)=>d(p,v))}decodeContinuously(s,c){this._stopContinuousDecode=!1;const u=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(s);c(d,null),setTimeout(u,this.timeBetweenScansMillis)}catch(d){c(null,d);const p=d instanceof R||d instanceof Y,v=d instanceof xe;(p||v)&&setTimeout(u,this._timeBetweenDecodingAttempts)}};u()}decode(s){const c=this.createBinaryBitmap(s);return this.decodeBitmap(c)}_isHTMLVideoElement(s){return s.videoWidth!==0}drawFrameOnCanvas(s,c,u){c||(c={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(s,c,u=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),u||(u=this.captureCanvasContext),u.drawImage(s,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const c=this.getCaptureCanvas(s),u=new lt(c),d=new Te(u);return new L(d)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const u=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=u}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const c=this.createCaptureCanvas(s);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let u,d;return typeof s<"u"&&(s instanceof HTMLVideoElement?(u=s.videoWidth,d=s.videoHeight):s instanceof HTMLImageElement&&(u=s.naturalWidth||s.width,d=s.naturalHeight||s.height)),c.style.width=u+"px",c.style.height=d+"px",c.width=u,c.height=d,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,c){try{s.srcObject=c}catch{s.src=URL.createObjectURL(c)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(s,c,u=c==null?0:8*c.length,d,p,v=W.currentTimeMillis()){this.text=s,this.rawBytes=c,this.numBits=u,this.resultPoints=d,this.format=p,this.timestamp=v,this.text=s,this.rawBytes=c,u==null?this.numBits=c==null?0:8*c.length:this.numBits=u,this.resultPoints=d,this.format=p,this.resultMetadata=null,v==null?this.timestamp=W.currentTimeMillis():this.timestamp=v}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(s,c)}putAllMetadata(s){s!==null&&(this.resultMetadata===null?this.resultMetadata=s:this.resultMetadata=new Map(s))}addResultPoints(s){const c=this.resultPoints;if(c===null)this.resultPoints=s;else if(s!==null&&s.length>0){const u=new Array(c.length+s.length);W.arraycopy(c,0,u,0,c.length),W.arraycopy(s,0,u,c.length,s.length),this.resultPoints=u}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ye;(function(Q){Q[Q.AZTEC=0]="AZTEC",Q[Q.CODABAR=1]="CODABAR",Q[Q.CODE_39=2]="CODE_39",Q[Q.CODE_93=3]="CODE_93",Q[Q.CODE_128=4]="CODE_128",Q[Q.DATA_MATRIX=5]="DATA_MATRIX",Q[Q.EAN_8=6]="EAN_8",Q[Q.EAN_13=7]="EAN_13",Q[Q.ITF=8]="ITF",Q[Q.MAXICODE=9]="MAXICODE",Q[Q.PDF_417=10]="PDF_417",Q[Q.QR_CODE=11]="QR_CODE",Q[Q.RSS_14=12]="RSS_14",Q[Q.RSS_EXPANDED=13]="RSS_EXPANDED",Q[Q.UPC_A=14]="UPC_A",Q[Q.UPC_E=15]="UPC_E",Q[Q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ye||(ye={}));var me=ye,Pe;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.ORIENTATION=1]="ORIENTATION",Q[Q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Q[Q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Q[Q.ISSUE_NUMBER=4]="ISSUE_NUMBER",Q[Q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Q[Q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Q[Q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Q[Q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Q[Q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Q[Q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var Ie=Pe;class Fe{constructor(s,c,u,d,p=-1,v=-1){this.rawBytes=s,this.text=c,this.byteSegments=u,this.ecLevel=d,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=v,this.numBits=s==null?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ne{exp(s){return this.expTable[s]}log(s){if(s===0)throw new T;return this.logTable[s]}static addOrSubtract(s,c){return s^c}}class Qe{constructor(s,c){if(c.length===0)throw new T;this.field=s;const u=c.length;if(u>1&&c[0]===0){let d=1;for(;d<u&&c[d]===0;)d++;d===u?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(u-d),W.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);const c=this.coefficients;let u;if(s===1){u=0;for(let v=0,A=c.length;v!==A;v++){const N=c[v];u=Ne.addOrSubtract(u,N)}return u}u=c[0];const d=c.length,p=this.field;for(let v=1;v<d;v++)u=Ne.addOrSubtract(p.multiply(s,u),c[v]);return u}addOrSubtract(s){if(!this.field.equals(s.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){const v=c;c=u,u=v}let d=new Int32Array(u.length);const p=u.length-c.length;W.arraycopy(u,0,d,0,p);for(let v=p;v<u.length;v++)d[v]=Ne.addOrSubtract(c[v-p],u[v]);return new Qe(this.field,d)}multiply(s){if(!this.field.equals(s.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const c=this.coefficients,u=c.length,d=s.coefficients,p=d.length,v=new Int32Array(u+p-1),A=this.field;for(let N=0;N<u;N++){const D=c[N];for(let B=0;B<p;B++)v[N+B]=Ne.addOrSubtract(v[N+B],A.multiply(D,d[B]))}return new Qe(A,v)}multiplyScalar(s){if(s===0)return this.field.getZero();if(s===1)return this;const c=this.coefficients.length,u=this.field,d=new Int32Array(c),p=this.coefficients;for(let v=0;v<c;v++)d[v]=u.multiply(p[v],s);return new Qe(u,d)}multiplyByMonomial(s,c){if(s<0)throw new T;if(c===0)return this.field.getZero();const u=this.coefficients,d=u.length,p=new Int32Array(d+s),v=this.field;for(let A=0;A<d;A++)p[A]=v.multiply(u[A],c);return new Qe(v,p)}divide(s){if(!this.field.equals(s.field))throw new T("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new T("Divide by 0");const c=this.field;let u=c.getZero(),d=this;const p=s.getCoefficient(s.getDegree()),v=c.inverse(p);for(;d.getDegree()>=s.getDegree()&&!d.isZero();){const A=d.getDegree()-s.getDegree(),N=c.multiply(d.getCoefficient(d.getDegree()),v),D=s.multiplyByMonomial(A,N),B=c.buildMonomial(A,N);u=u.addOrSubtract(B),d=d.addOrSubtract(D)}return[u,d]}toString(){let s="";for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);if(u!==0){if(u<0?(s+=" - ",u=-u):s.length>0&&(s+=" + "),c===0||u!==1){const d=this.field.log(u);d===0?s+="1":d===1?s+="a":(s+="a^",s+=d)}c!==0&&(c===1?s+="x":(s+="x^",s+=c))}}return s}}class Oe extends m{}Oe.kind="ArithmeticException";class Ge extends Ne{constructor(s,c,u){super(),this.primitive=s,this.size=c,this.generatorBase=u;const d=new Int32Array(c);let p=1;for(let A=0;A<c;A++)d[A]=p,p*=2,p>=c&&(p^=s,p&=c-1);this.expTable=d;const v=new Int32Array(c);for(let A=0;A<c-1;A++)v[d[A]]=A;this.logTable=v,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new T;if(c===0)return this.zero;const u=new Int32Array(s+1);return u[0]=c,new Qe(this,u)}inverse(s){if(s===0)throw new Oe;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ue.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}Ge.AZTEC_DATA_12=new Ge(4201,4096,1),Ge.AZTEC_DATA_10=new Ge(1033,1024,1),Ge.AZTEC_DATA_6=new Ge(67,64,1),Ge.AZTEC_PARAM=new Ge(19,16,1),Ge.QR_CODE_FIELD_256=new Ge(285,256,0),Ge.DATA_MATRIX_FIELD_256=new Ge(301,256,1),Ge.AZTEC_DATA_8=Ge.DATA_MATRIX_FIELD_256,Ge.MAXICODE_FIELD_64=Ge.AZTEC_DATA_6;class vt extends m{}vt.kind="ReedSolomonException";class ae extends m{}ae.kind="IllegalStateException";class It{constructor(s){this.field=s}decode(s,c){const u=this.field,d=new Qe(u,s),p=new Int32Array(c);let v=!0;for(let be=0;be<c;be++){const Le=d.evaluateAt(u.exp(be+u.getGeneratorBase()));p[p.length-1-be]=Le,Le!==0&&(v=!1)}if(v)return;const A=new Qe(u,p),N=this.runEuclideanAlgorithm(u.buildMonomial(c,1),A,c),D=N[0],B=N[1],J=this.findErrorLocations(D),ne=this.findErrorMagnitudes(B,J);for(let be=0;be<J.length;be++){const Le=s.length-1-u.log(J[be]);if(Le<0)throw new vt("Bad error location");s[Le]=Ge.addOrSubtract(s[Le],ne[be])}}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){const be=s;s=c,c=be}const d=this.field;let p=s,v=c,A=d.getZero(),N=d.getOne();for(;v.getDegree()>=(u/2|0);){let be=p,Le=A;if(p=v,A=N,p.isZero())throw new vt("r_{i-1} was zero");v=be;let je=d.getZero();const Xe=p.getCoefficient(p.getDegree()),st=d.inverse(Xe);for(;v.getDegree()>=p.getDegree()&&!v.isZero();){const mt=v.getDegree()-p.getDegree(),xt=d.multiply(v.getCoefficient(v.getDegree()),st);je=je.addOrSubtract(d.buildMonomial(mt,xt)),v=v.addOrSubtract(p.multiplyByMonomial(mt,xt))}if(N=je.multiply(A).addOrSubtract(Le),v.getDegree()>=p.getDegree())throw new ae("Division algorithm failed to reduce polynomial?")}const D=N.getCoefficient(0);if(D===0)throw new vt("sigmaTilde(0) was zero");const B=d.inverse(D),J=N.multiplyScalar(B),ne=v.multiplyScalar(B);return[J,ne]}findErrorLocations(s){const c=s.getDegree();if(c===1)return Int32Array.from([s.getCoefficient(1)]);const u=new Int32Array(c);let d=0;const p=this.field;for(let v=1;v<p.getSize()&&d<c;v++)s.evaluateAt(v)===0&&(u[d]=p.inverse(v),d++);if(d!==c)throw new vt("Error locator degree does not match number of roots");return u}findErrorMagnitudes(s,c){const u=c.length,d=new Int32Array(u),p=this.field;for(let v=0;v<u;v++){const A=p.inverse(c[v]);let N=1;for(let D=0;D<u;D++)if(v!==D){const B=p.multiply(c[D],A),J=(B&1)===0?B|1:B&-2;N=p.multiply(N,J)}d[v]=p.multiply(s.evaluateAt(A),p.inverse(N)),p.getGeneratorBase()!==0&&(d[v]=p.multiply(d[v],A))}return d}}var Lt;(function(Q){Q[Q.UPPER=0]="UPPER",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.DIGIT=3]="DIGIT",Q[Q.PUNCT=4]="PUNCT",Q[Q.BINARY=5]="BINARY"})(Lt||(Lt={}));class Tt{decode(s){this.ddata=s;let c=s.getBits(),u=this.extractBits(c),d=this.correctBits(u),p=Tt.convertBoolArrayToByteArray(d),v=Tt.getEncodedData(d),A=new Fe(p,v,null,null);return A.setNumBits(d.length),A}static highLevelDecode(s){return this.getEncodedData(s)}static getEncodedData(s){let c=s.length,u=Lt.UPPER,d=Lt.UPPER,p="",v=0;for(;v<c;)if(d===Lt.BINARY){if(c-v<5)break;let A=Tt.readCode(s,v,5);if(v+=5,A===0){if(c-v<11)break;A=Tt.readCode(s,v,11)+31,v+=11}for(let N=0;N<A;N++){if(c-v<8){v=c;break}const D=Tt.readCode(s,v,8);p+=U.castAsNonUtf8Char(D),v+=8}d=u}else{let A=d===Lt.DIGIT?4:5;if(c-v<A)break;let N=Tt.readCode(s,v,A);v+=A;let D=Tt.getCharacter(d,N);D.startsWith("CTRL_")?(u=d,d=Tt.getTable(D.charAt(5)),D.charAt(6)==="L"&&(u=d)):(p+=D,d=u)}return p}static getTable(s){switch(s){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;default:return Lt.UPPER}}static getCharacter(s,c){switch(s){case Lt.UPPER:return Tt.UPPER_TABLE[c];case Lt.LOWER:return Tt.LOWER_TABLE[c];case Lt.MIXED:return Tt.MIXED_TABLE[c];case Lt.PUNCT:return Tt.PUNCT_TABLE[c];case Lt.DIGIT:return Tt.DIGIT_TABLE[c];default:throw new ae("Bad table")}}correctBits(s){let c,u;this.ddata.getNbLayers()<=2?(u=6,c=Ge.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,c=Ge.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,c=Ge.AZTEC_DATA_10):(u=12,c=Ge.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),p=s.length/u;if(p<d)throw new Y;let v=s.length%u,A=new Int32Array(p);for(let ne=0;ne<p;ne++,v+=u)A[ne]=Tt.readCode(s,v,u);try{new It(c).decode(A,p-d)}catch(ne){throw new Y(ne)}let N=(1<<u)-1,D=0;for(let ne=0;ne<d;ne++){let be=A[ne];if(be===0||be===N)throw new Y;(be===1||be===N-1)&&D++}let B=new Array(d*u-D),J=0;for(let ne=0;ne<d;ne++){let be=A[ne];if(be===1||be===N-1)B.fill(be>1,J,J+u-1),J+=u-1;else for(let Le=u-1;Le>=0;--Le)B[J++]=(be&1<<Le)!==0}return B}extractBits(s){let c=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(c?11:14)+u*4,p=new Int32Array(d),v=new Array(this.totalBitsInLayer(u,c));if(c)for(let A=0;A<p.length;A++)p[A]=A;else{let A=d+1+2*ue.truncDivision(ue.truncDivision(d,2)-1,15),N=d/2,D=ue.truncDivision(A,2);for(let B=0;B<N;B++){let J=B+ue.truncDivision(B,15);p[N-B-1]=D-J-1,p[N+B]=D+J+1}}for(let A=0,N=0;A<u;A++){let D=(u-A)*4+(c?9:12),B=A*2,J=d-1-B;for(let ne=0;ne<D;ne++){let be=ne*2;for(let Le=0;Le<2;Le++)v[N+be+Le]=s.get(p[B+Le],p[B+ne]),v[N+2*D+be+Le]=s.get(p[B+ne],p[J-Le]),v[N+4*D+be+Le]=s.get(p[J-Le],p[J-ne]),v[N+6*D+be+Le]=s.get(p[J-ne],p[B+Le])}N+=D*8}return v}static readCode(s,c,u){let d=0;for(let p=c;p<c+u;p++)d<<=1,s[p]&&(d|=1);return d}static readByte(s,c){let u=s.length-c;return u>=8?Tt.readCode(s,c,8):Tt.readCode(s,c,u)<<8-u}static convertBoolArrayToByteArray(s){let c=new Uint8Array((s.length+7)/8);for(let u=0;u<c.length;u++)c[u]=Tt.readByte(s,8*u);return c}totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}Tt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Tt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Tt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Tt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ae{constructor(){}static round(s){return s===NaN?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,c,u,d){const p=s-u,v=c-d;return Math.sqrt(p*p+v*v)}static sum(s){let c=0;for(let u=0,d=s.length;u!==d;u++){const p=s[u];c+=p}return c}}class ht{static floatToIntBits(s){return s}}ht.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ye{constructor(s,c){this.x=s,this.y=c}getX(){return this.x}getY(){return this.y}equals(s){if(s instanceof Ye){const c=s;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*ht.floatToIntBits(this.x)+ht.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const c=this.distance(s[0],s[1]),u=this.distance(s[1],s[2]),d=this.distance(s[0],s[2]);let p,v,A;if(u>=c&&u>=d?(v=s[0],p=s[1],A=s[2]):d>=u&&d>=c?(v=s[1],p=s[0],A=s[2]):(v=s[2],p=s[0],A=s[1]),this.crossProductZ(p,v,A)<0){const N=p;p=A,A=N}s[0]=p,s[1]=v,s[2]=A}static distance(s,c){return Ae.distance(s.x,s.y,c.x,c.y)}static crossProductZ(s,c,u){const d=c.x,p=c.y;return(u.x-d)*(s.y-p)-(u.y-p)*(s.x-d)}}class Dt{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class kt extends Dt{constructor(s,c,u,d,p){super(s,c),this.compact=u,this.nbDatablocks=d,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ut{constructor(s,c,u,d){this.image=s,this.height=s.getHeight(),this.width=s.getWidth(),c==null&&(c=Ut.INIT_SIZE),u==null&&(u=s.getWidth()/2|0),d==null&&(d=s.getHeight()/2|0);const p=c/2|0;if(this.leftInit=u-p,this.rightInit=u+p,this.upInit=d-p,this.downInit=d+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new xe}detect(){let s=this.leftInit,c=this.rightInit,u=this.upInit,d=this.downInit,p=!1,v=!0,A=!1,N=!1,D=!1,B=!1,J=!1;const ne=this.width,be=this.height;for(;v;){v=!1;let Le=!0;for(;(Le||!N)&&c<ne;)Le=this.containsBlackPoint(u,d,c,!1),Le?(c++,v=!0,N=!0):N||c++;if(c>=ne){p=!0;break}let je=!0;for(;(je||!D)&&d<be;)je=this.containsBlackPoint(s,c,d,!0),je?(d++,v=!0,D=!0):D||d++;if(d>=be){p=!0;break}let Xe=!0;for(;(Xe||!B)&&s>=0;)Xe=this.containsBlackPoint(u,d,s,!1),Xe?(s--,v=!0,B=!0):B||s--;if(s<0){p=!0;break}let st=!0;for(;(st||!J)&&u>=0;)st=this.containsBlackPoint(s,c,u,!0),st?(u--,v=!0,J=!0):J||u--;if(u<0){p=!0;break}v&&(A=!0)}if(!p&&A){const Le=c-s;let je=null;for(let xt=1;je===null&&xt<Le;xt++)je=this.getBlackPointOnSegment(s,d-xt,s+xt,d);if(je==null)throw new xe;let Xe=null;for(let xt=1;Xe===null&&xt<Le;xt++)Xe=this.getBlackPointOnSegment(s,u+xt,s+xt,u);if(Xe==null)throw new xe;let st=null;for(let xt=1;st===null&&xt<Le;xt++)st=this.getBlackPointOnSegment(c,u+xt,c-xt,u);if(st==null)throw new xe;let mt=null;for(let xt=1;mt===null&&xt<Le;xt++)mt=this.getBlackPointOnSegment(c,d-xt,c-xt,d);if(mt==null)throw new xe;return this.centerEdges(mt,je,st,Xe)}else throw new xe}getBlackPointOnSegment(s,c,u,d){const p=Ae.round(Ae.distance(s,c,u,d)),v=(u-s)/p,A=(d-c)/p,N=this.image;for(let D=0;D<p;D++){const B=Ae.round(s+D*v),J=Ae.round(c+D*A);if(N.get(B,J))return new Ye(B,J)}return null}centerEdges(s,c,u,d){const p=s.getX(),v=s.getY(),A=c.getX(),N=c.getY(),D=u.getX(),B=u.getY(),J=d.getX(),ne=d.getY(),be=Ut.CORR;return p<this.width/2?[new Ye(J-be,ne+be),new Ye(A+be,N+be),new Ye(D-be,B-be),new Ye(p+be,v-be)]:[new Ye(J+be,ne+be),new Ye(A+be,N-be),new Ye(D-be,B+be),new Ye(p-be,v-be)]}containsBlackPoint(s,c,u,d){const p=this.image;if(d){for(let v=s;v<=c;v++)if(p.get(v,u))return!0}else for(let v=s;v<=c;v++)if(p.get(u,v))return!0;return!1}}Ut.INIT_SIZE=10,Ut.CORR=1;class Sn{static checkAndNudgePoints(s,c){const u=s.getWidth(),d=s.getHeight();let p=!0;for(let v=0;v<c.length&&p;v+=2){const A=Math.floor(c[v]),N=Math.floor(c[v+1]);if(A<-1||A>u||N<-1||N>d)throw new xe;p=!1,A===-1?(c[v]=0,p=!0):A===u&&(c[v]=u-1,p=!0),N===-1?(c[v+1]=0,p=!0):N===d&&(c[v+1]=d-1,p=!0)}p=!0;for(let v=c.length-2;v>=0&&p;v-=2){const A=Math.floor(c[v]),N=Math.floor(c[v+1]);if(A<-1||A>u||N<-1||N>d)throw new xe;p=!1,A===-1?(c[v]=0,p=!0):A===u&&(c[v]=u-1,p=!0),N===-1?(c[v+1]=0,p=!0):N===d&&(c[v+1]=d-1,p=!0)}}}class Kt{constructor(s,c,u,d,p,v,A,N,D){this.a11=s,this.a21=c,this.a31=u,this.a12=d,this.a22=p,this.a32=v,this.a13=A,this.a23=N,this.a33=D}static quadrilateralToQuadrilateral(s,c,u,d,p,v,A,N,D,B,J,ne,be,Le,je,Xe){const st=Kt.quadrilateralToSquare(s,c,u,d,p,v,A,N);return Kt.squareToQuadrilateral(D,B,J,ne,be,Le,je,Xe).times(st)}transformPoints(s){const c=s.length,u=this.a11,d=this.a12,p=this.a13,v=this.a21,A=this.a22,N=this.a23,D=this.a31,B=this.a32,J=this.a33;for(let ne=0;ne<c;ne+=2){const be=s[ne],Le=s[ne+1],je=p*be+N*Le+J;s[ne]=(u*be+v*Le+D)/je,s[ne+1]=(d*be+A*Le+B)/je}}transformPointsWithValues(s,c){const u=this.a11,d=this.a12,p=this.a13,v=this.a21,A=this.a22,N=this.a23,D=this.a31,B=this.a32,J=this.a33,ne=s.length;for(let be=0;be<ne;be++){const Le=s[be],je=c[be],Xe=p*Le+N*je+J;s[be]=(u*Le+v*je+D)/Xe,c[be]=(d*Le+A*je+B)/Xe}}static squareToQuadrilateral(s,c,u,d,p,v,A,N){const D=s-u+p-A,B=c-d+v-N;if(D===0&&B===0)return new Kt(u-s,p-u,s,d-c,v-d,c,0,0,1);{const J=u-p,ne=A-p,be=d-v,Le=N-v,je=J*Le-ne*be,Xe=(D*Le-ne*B)/je,st=(J*B-D*be)/je;return new Kt(u-s+Xe*u,A-s+st*A,s,d-c+Xe*d,N-c+st*N,c,Xe,st,1)}}static quadrilateralToSquare(s,c,u,d,p,v,A,N){return Kt.squareToQuadrilateral(s,c,u,d,p,v,A,N).buildAdjoint()}buildAdjoint(){return new Kt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Kt(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class pn extends Sn{sampleGrid(s,c,u,d,p,v,A,N,D,B,J,ne,be,Le,je,Xe,st,mt,xt){const gt=Kt.quadrilateralToQuadrilateral(d,p,v,A,N,D,B,J,ne,be,Le,je,Xe,st,mt,xt);return this.sampleGridWithTransform(s,c,u,gt)}sampleGridWithTransform(s,c,u,d){if(c<=0||u<=0)throw new xe;const p=new Ce(c,u),v=new Float32Array(2*c);for(let A=0;A<u;A++){const N=v.length,D=A+.5;for(let B=0;B<N;B+=2)v[B]=B/2+.5,v[B+1]=D;d.transformPoints(v),Sn.checkAndNudgePoints(s,v);try{for(let B=0;B<N;B+=2)s.get(Math.floor(v[B]),Math.floor(v[B+1]))&&p.set(B/2,A)}catch{throw new xe}}return p}}class gn{static setGridSampler(s){gn.gridSampler=s}static getInstance(){return gn.gridSampler}}gn.gridSampler=new pn;class Vt{constructor(s,c){this.x=s,this.y=c}toResultPoint(){return new Ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class kn{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let c=this.getMatrixCenter(),u=this.getBullsEyeCorners(c);if(s){let v=u[0];u[0]=u[2],u[2]=v}this.extractParameters(u);let d=this.sampleGrid(this.image,u[this.shift%4],u[(this.shift+1)%4],u[(this.shift+2)%4],u[(this.shift+3)%4]),p=this.getMatrixCornerPoints(u);return new kt(d,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!this.isValidPoint(s[0])||!this.isValidPoint(s[1])||!this.isValidPoint(s[2])||!this.isValidPoint(s[3]))throw new xe;let c=2*this.nbCenterLayers,u=new Int32Array([this.sampleLine(s[0],s[1],c),this.sampleLine(s[1],s[2],c),this.sampleLine(s[2],s[3],c),this.sampleLine(s[3],s[0],c)]);this.shift=this.getRotation(u,c);let d=0;for(let v=0;v<4;v++){let A=u[(this.shift+v)%4];this.compact?(d<<=7,d+=A>>1&127):(d<<=10,d+=(A>>2&992)+(A>>1&31))}let p=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(s,c){let u=0;s.forEach((d,p,v)=>{let A=(d>>c-2<<1)+(d&1);u=(u<<3)+A}),u=((u&1)<<11)+(u>>1);for(let d=0;d<4;d++)if(ue.bitCount(u^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new xe}getCorrectedParameterData(s,c){let u,d;c?(u=7,d=2):(u=10,d=4);let p=u-d,v=new Int32Array(u);for(let N=u-1;N>=0;--N)v[N]=s&15,s>>=4;try{new It(Ge.AZTEC_PARAM).decode(v,p)}catch{throw new xe}let A=0;for(let N=0;N<d;N++)A=(A<<4)+v[N];return A}getBullsEyeCorners(s){let c=s,u=s,d=s,p=s,v=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let J=this.getFirstDifferent(c,v,1,-1),ne=this.getFirstDifferent(u,v,1,1),be=this.getFirstDifferent(d,v,-1,1),Le=this.getFirstDifferent(p,v,-1,-1);if(this.nbCenterLayers>2){let je=this.distancePoint(Le,J)*this.nbCenterLayers/(this.distancePoint(p,c)*(this.nbCenterLayers+2));if(je<.75||je>1.25||!this.isWhiteOrBlackRectangle(J,ne,be,Le))break}c=J,u=ne,d=be,p=Le,v=!v}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new xe;this.compact=this.nbCenterLayers===5;let A=new Ye(c.getX()+.5,c.getY()-.5),N=new Ye(u.getX()+.5,u.getY()+.5),D=new Ye(d.getX()-.5,d.getY()+.5),B=new Ye(p.getX()-.5,p.getY()-.5);return this.expandSquare([A,N,D,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,c,u,d;try{let A=new Ut(this.image).detect();s=A[0],c=A[1],u=A[2],d=A[3]}catch{let N=this.image.getWidth()/2,D=this.image.getHeight()/2;s=this.getFirstDifferent(new Vt(N+7,D-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Vt(N+7,D+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Vt(N-7,D+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Vt(N-7,D-7),!1,-1,-1).toResultPoint()}let p=Ae.round((s.getX()+d.getX()+c.getX()+u.getX())/4),v=Ae.round((s.getY()+d.getY()+c.getY()+u.getY())/4);try{let A=new Ut(this.image,15,p,v).detect();s=A[0],c=A[1],u=A[2],d=A[3]}catch{s=this.getFirstDifferent(new Vt(p+7,v-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new Vt(p+7,v+7),!1,1,1).toResultPoint(),u=this.getFirstDifferent(new Vt(p-7,v+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Vt(p-7,v-7),!1,-1,-1).toResultPoint()}return p=Ae.round((s.getX()+d.getX()+c.getX()+u.getX())/4),v=Ae.round((s.getY()+d.getY()+c.getY()+u.getY())/4),new Vt(p,v)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,c,u,d,p){let v=gn.getInstance(),A=this.getDimension(),N=A/2-this.nbCenterLayers,D=A/2+this.nbCenterLayers;return v.sampleGrid(s,A,A,N,N,D,N,D,D,N,D,c.getX(),c.getY(),u.getX(),u.getY(),d.getX(),d.getY(),p.getX(),p.getY())}sampleLine(s,c,u){let d=0,p=this.distanceResultPoint(s,c),v=p/u,A=s.getX(),N=s.getY(),D=v*(c.getX()-s.getX())/p,B=v*(c.getY()-s.getY())/p;for(let J=0;J<u;J++)this.image.get(Ae.round(A+J*D),Ae.round(N+J*B))&&(d|=1<<u-J-1);return d}isWhiteOrBlackRectangle(s,c,u,d){let p=3;s=new Vt(s.getX()-p,s.getY()+p),c=new Vt(c.getX()-p,c.getY()-p),u=new Vt(u.getX()+p,u.getY()-p),d=new Vt(d.getX()+p,d.getY()+p);let v=this.getColor(d,s);if(v===0)return!1;let A=this.getColor(s,c);return A!==v||(A=this.getColor(c,u),A!==v)?!1:(A=this.getColor(u,d),A===v)}getColor(s,c){let u=this.distancePoint(s,c),d=(c.getX()-s.getX())/u,p=(c.getY()-s.getY())/u,v=0,A=s.getX(),N=s.getY(),D=this.image.get(s.getX(),s.getY()),B=Math.ceil(u);for(let ne=0;ne<B;ne++)A+=d,N+=p,this.image.get(Ae.round(A),Ae.round(N))!==D&&v++;let J=v/u;return J>.1&&J<.9?0:J<=.1===D?1:-1}getFirstDifferent(s,c,u,d){let p=s.getX()+u,v=s.getY()+d;for(;this.isValid(p,v)&&this.image.get(p,v)===c;)p+=u,v+=d;for(p-=u,v-=d;this.isValid(p,v)&&this.image.get(p,v)===c;)p+=u;for(p-=u;this.isValid(p,v)&&this.image.get(p,v)===c;)v+=d;return v-=d,new Vt(p,v)}expandSquare(s,c,u){let d=u/(2*c),p=s[0].getX()-s[2].getX(),v=s[0].getY()-s[2].getY(),A=(s[0].getX()+s[2].getX())/2,N=(s[0].getY()+s[2].getY())/2,D=new Ye(A+d*p,N+d*v),B=new Ye(A-d*p,N-d*v);p=s[1].getX()-s[3].getX(),v=s[1].getY()-s[3].getY(),A=(s[1].getX()+s[3].getX())/2,N=(s[1].getY()+s[3].getY())/2;let J=new Ye(A+d*p,N+d*v),ne=new Ye(A-d*p,N-d*v);return[D,J,B,ne]}isValid(s,c){return s>=0&&s<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(s){let c=Ae.round(s.getX()),u=Ae.round(s.getY());return this.isValid(c,u)}distancePoint(s,c){return Ae.distance(s.getX(),s.getY(),c.getX(),c.getY())}distanceResultPoint(s,c){return Ae.distance(s.getX(),s.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ue.truncDivision(this.nbLayers-4,8)+1)+15}}class Qt{decode(s,c=null){let u=null,d=new kn(s.getBlackMatrix()),p=null,v=null;try{let B=d.detectMirror(!1);p=B.getPoints(),this.reportFoundResultPoints(c,p),v=new Tt().decode(B)}catch(B){u=B}if(v==null)try{let B=d.detectMirror(!0);p=B.getPoints(),this.reportFoundResultPoints(c,p),v=new Tt().decode(B)}catch(B){throw u??B}let A=new ee(v.getText(),v.getRawBytes(),v.getNumBits(),p,me.AZTEC,W.currentTimeMillis()),N=v.getByteSegments();N!=null&&A.putMetadata(Ie.BYTE_SEGMENTS,N);let D=v.getECLevel();return D!=null&&A.putMetadata(Ie.ERROR_CORRECTION_LEVEL,D),A}reportFoundResultPoints(s,c){if(s!=null){let u=s.get(ze.NEED_RESULT_POINT_CALLBACK);u!=null&&c.forEach((d,p,v)=>{u.foundPossibleResultPoint(d)})}}reset(){}}class $r extends le{constructor(s=500){super(new Qt,s)}}class en{decode(s,c){try{return this.doDecode(s,c)}catch{if(c&&c.get(ze.TRY_HARDER)===!0&&s.isRotateSupported()){const p=s.rotateCounterClockwise(),v=this.doDecode(p,c),A=v.getResultMetadata();let N=270;A!==null&&A.get(Ie.ORIENTATION)===!0&&(N=N+A.get(Ie.ORIENTATION)%360),v.putMetadata(Ie.ORIENTATION,N);const D=v.getResultPoints();if(D!==null){const B=p.getHeight();for(let J=0;J<D.length;J++)D[J]=new Ye(B-D[J].getY()-1,D[J].getX())}return v}else throw new xe}}reset(){}doDecode(s,c){const u=s.getWidth(),d=s.getHeight();let p=new pe(u);const v=c&&c.get(ze.TRY_HARDER)===!0,A=Math.max(1,d>>(v?8:5));let N;v?N=d:N=15;const D=Math.trunc(d/2);for(let B=0;B<N;B++){const J=Math.trunc((B+1)/2),ne=(B&1)===0,be=D+A*(ne?J:-J);if(be<0||be>=d)break;try{p=s.getBlackRow(be,p)}catch{continue}for(let Le=0;Le<2;Le++){if(Le===1&&(p.reverse(),c&&c.get(ze.NEED_RESULT_POINT_CALLBACK)===!0)){const je=new Map;c.forEach((Xe,st)=>je.set(st,Xe)),je.delete(ze.NEED_RESULT_POINT_CALLBACK),c=je}try{const je=this.decodeRow(be,p,c);if(Le===1){je.putMetadata(Ie.ORIENTATION,180);const Xe=je.getResultPoints();Xe!==null&&(Xe[0]=new Ye(u-Xe[0].getX()-1,Xe[0].getY()),Xe[1]=new Ye(u-Xe[1].getX()-1,Xe[1].getY()))}return je}catch{}}}throw new xe}static recordPattern(s,c,u){const d=u.length;for(let D=0;D<d;D++)u[D]=0;const p=s.getSize();if(c>=p)throw new xe;let v=!s.get(c),A=0,N=c;for(;N<p;){if(s.get(N)!==v)u[A]++;else{if(++A===d)break;u[A]=1,v=!v}N++}if(!(A===d||A===d-1&&N===p))throw new xe}static recordPatternInReverse(s,c,u){let d=u.length,p=s.get(c);for(;c>0&&d>=0;)s.get(--c)!==p&&(d--,p=!p);if(d>=0)throw new xe;en.recordPattern(s,c+1,u)}static patternMatchVariance(s,c,u){const d=s.length;let p=0,v=0;for(let D=0;D<d;D++)p+=s[D],v+=c[D];if(p<v)return Number.POSITIVE_INFINITY;const A=p/v;u*=A;let N=0;for(let D=0;D<d;D++){const B=s[D],J=c[D]*A,ne=B>J?B-J:J-B;if(ne>u)return Number.POSITIVE_INFINITY;N+=ne}return N/p}}class ut extends en{static findStartPattern(s){const c=s.getSize(),u=s.getNextSet(0);let d=0,p=Int32Array.from([0,0,0,0,0,0]),v=u,A=!1;const N=6;for(let D=u;D<c;D++)if(s.get(D)!==A)p[d]++;else{if(d===N-1){let B=ut.MAX_AVG_VARIANCE,J=-1;for(let ne=ut.CODE_START_A;ne<=ut.CODE_START_C;ne++){const be=en.patternMatchVariance(p,ut.CODE_PATTERNS[ne],ut.MAX_INDIVIDUAL_VARIANCE);be<B&&(B=be,J=ne)}if(J>=0&&s.isRange(Math.max(0,v-(D-v)/2),v,!1))return Int32Array.from([v,D,J]);v+=p[0]+p[1],p=p.slice(2,p.length-1),p[d-1]=0,p[d]=0,d--}else d++;p[d]=1,A=!A}throw new xe}static decodeCode(s,c,u){en.recordPattern(s,u,c);let d=ut.MAX_AVG_VARIANCE,p=-1;for(let v=0;v<ut.CODE_PATTERNS.length;v++){const A=ut.CODE_PATTERNS[v],N=this.patternMatchVariance(c,A,ut.MAX_INDIVIDUAL_VARIANCE);N<d&&(d=N,p=v)}if(p>=0)return p;throw new xe}decodeRow(s,c,u){const d=u&&u.get(ze.ASSUME_GS1)===!0,p=ut.findStartPattern(c),v=p[2];let A=0;const N=new Uint8Array(20);N[A++]=v;let D;switch(v){case ut.CODE_START_A:D=ut.CODE_CODE_A;break;case ut.CODE_START_B:D=ut.CODE_CODE_B;break;case ut.CODE_START_C:D=ut.CODE_CODE_C;break;default:throw new Y}let B=!1,J=!1,ne="",be=p[0],Le=p[1];const je=Int32Array.from([0,0,0,0,0,0]);let Xe=0,st=0,mt=v,xt=0,gt=!0,xn=!1,Cn=!1;for(;!B;){const Do=J;switch(J=!1,Xe=st,st=ut.decodeCode(c,je,Le),N[A++]=st,st!==ut.CODE_STOP&&(gt=!0),st!==ut.CODE_STOP&&(xt++,mt+=xt*st),be=Le,Le+=je.reduce((vu,Go)=>vu+Go,0),st){case ut.CODE_START_A:case ut.CODE_START_B:case ut.CODE_START_C:throw new Y}switch(D){case ut.CODE_CODE_A:if(st<64)Cn===xn?ne+=String.fromCharCode(32+st):ne+=String.fromCharCode(32+st+128),Cn=!1;else if(st<96)Cn===xn?ne+=String.fromCharCode(st-64):ne+=String.fromCharCode(st+64),Cn=!1;else switch(st!==ut.CODE_STOP&&(gt=!1),st){case ut.CODE_FNC_1:d&&(ne.length===0?ne+="]C1":ne+="");break;case ut.CODE_FNC_2:case ut.CODE_FNC_3:break;case ut.CODE_FNC_4_A:!xn&&Cn?(xn=!0,Cn=!1):xn&&Cn?(xn=!1,Cn=!1):Cn=!0;break;case ut.CODE_SHIFT:J=!0,D=ut.CODE_CODE_B;break;case ut.CODE_CODE_B:D=ut.CODE_CODE_B;break;case ut.CODE_CODE_C:D=ut.CODE_CODE_C;break;case ut.CODE_STOP:B=!0;break}break;case ut.CODE_CODE_B:if(st<96)Cn===xn?ne+=String.fromCharCode(32+st):ne+=String.fromCharCode(32+st+128),Cn=!1;else switch(st!==ut.CODE_STOP&&(gt=!1),st){case ut.CODE_FNC_1:d&&(ne.length===0?ne+="]C1":ne+="");break;case ut.CODE_FNC_2:case ut.CODE_FNC_3:break;case ut.CODE_FNC_4_B:!xn&&Cn?(xn=!0,Cn=!1):xn&&Cn?(xn=!1,Cn=!1):Cn=!0;break;case ut.CODE_SHIFT:J=!0,D=ut.CODE_CODE_A;break;case ut.CODE_CODE_A:D=ut.CODE_CODE_A;break;case ut.CODE_CODE_C:D=ut.CODE_CODE_C;break;case ut.CODE_STOP:B=!0;break}break;case ut.CODE_CODE_C:if(st<100)st<10&&(ne+="0"),ne+=st;else switch(st!==ut.CODE_STOP&&(gt=!1),st){case ut.CODE_FNC_1:d&&(ne.length===0?ne+="]C1":ne+="");break;case ut.CODE_CODE_A:D=ut.CODE_CODE_A;break;case ut.CODE_CODE_B:D=ut.CODE_CODE_B;break;case ut.CODE_STOP:B=!0;break}break}Do&&(D=D===ut.CODE_CODE_A?ut.CODE_CODE_B:ut.CODE_CODE_A)}const ii=Le-be;if(Le=c.getNextUnset(Le),!c.isRange(Le,Math.min(c.getSize(),Le+(Le-be)/2),!1))throw new xe;if(mt-=xt*Xe,mt%103!==Xe)throw new R;const vs=ne.length;if(vs===0)throw new xe;vs>0&&gt&&(D===ut.CODE_CODE_C?ne=ne.substring(0,vs-2):ne=ne.substring(0,vs-1));const es=(p[1]+p[0])/2,kr=be+ii/2,ts=N.length,sa=new Uint8Array(ts);for(let Do=0;Do<ts;Do++)sa[Do]=N[Do];const Ho=[new Ye(es,s),new Ye(kr,s)];return new ee(ne,sa,0,Ho,me.CODE_128,new Date().getTime())}}ut.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ut.MAX_AVG_VARIANCE=.25,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.CODE_SHIFT=98,ut.CODE_CODE_C=99,ut.CODE_CODE_B=100,ut.CODE_CODE_A=101,ut.CODE_FNC_1=102,ut.CODE_FNC_2=97,ut.CODE_FNC_3=96,ut.CODE_FNC_4_A=101,ut.CODE_FNC_4_B=100,ut.CODE_START_A=103,ut.CODE_START_B=104,ut.CODE_START_C=105,ut.CODE_STOP=106;class Gt extends en{constructor(s=!1,c=!1){super(),this.usingCheckDigit=s,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(s,c,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let p=Gt.findAsteriskPattern(c,d),v=c.getNextSet(p[1]),A=c.getSize(),N,D;do{Gt.recordPattern(c,v,d);let je=Gt.toNarrowWidePattern(d);if(je<0)throw new xe;N=Gt.patternToChar(je),this.decodeRowResult+=N,D=v;for(let Xe of d)v+=Xe;v=c.getNextSet(v)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let je of d)B+=je;let J=v-D-B;if(v!==A&&J*2<B)throw new xe;if(this.usingCheckDigit){let je=this.decodeRowResult.length-1,Xe=0;for(let st=0;st<je;st++)Xe+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(st));if(this.decodeRowResult.charAt(je)!==Gt.ALPHABET_STRING.charAt(Xe%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,je)}if(this.decodeRowResult.length===0)throw new xe;let ne;this.extendedMode?ne=Gt.decodeExtended(this.decodeRowResult):ne=this.decodeRowResult;let be=(p[1]+p[0])/2,Le=D+B/2;return new ee(ne,null,0,[new Ye(be,s),new Ye(Le,s)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(s,c){let u=s.getSize(),d=s.getNextSet(0),p=0,v=d,A=!1,N=c.length;for(let D=d;D<u;D++)if(s.get(D)!==A)c[p]++;else{if(p===N-1){if(this.toNarrowWidePattern(c)===Gt.ASTERISK_ENCODING&&s.isRange(Math.max(0,v-Math.floor((D-v)/2)),v,!1))return[v,D];v+=c[0]+c[1],c.copyWithin(0,2,2+p-1),c[p-1]=0,c[p]=0,p--}else p++;c[p]=1,A=!A}throw new xe}static toNarrowWidePattern(s){let c=s.length,u=0,d;do{let p=2147483647;for(let N of s)N<p&&N>u&&(p=N);u=p,d=0;let v=0,A=0;for(let N=0;N<c;N++){let D=s[N];D>u&&(A|=1<<c-1-N,d++,v+=D)}if(d===3){for(let N=0;N<c&&d>0;N++){let D=s[N];if(D>u&&(d--,D*2>=v))return-1}return A}}while(d>3);return-1}static patternToChar(s){for(let c=0;c<Gt.CHARACTER_ENCODINGS.length;c++)if(Gt.CHARACTER_ENCODINGS[c]===s)return Gt.ALPHABET_STRING.charAt(c);if(s===Gt.ASTERISK_ENCODING)return"*";throw new xe}static decodeExtended(s){let c=s.length,u="";for(let d=0;d<c;d++){let p=s.charAt(d);if(p==="+"||p==="$"||p==="%"||p==="/"){let v=s.charAt(d+1),A="\0";switch(p){case"+":if(v>="A"&&v<="Z")A=String.fromCharCode(v.charCodeAt(0)+32);else throw new Y;break;case"$":if(v>="A"&&v<="Z")A=String.fromCharCode(v.charCodeAt(0)-64);else throw new Y;break;case"%":if(v>="A"&&v<="E")A=String.fromCharCode(v.charCodeAt(0)-38);else if(v>="F"&&v<="J")A=String.fromCharCode(v.charCodeAt(0)-11);else if(v>="K"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)+16);else if(v>="P"&&v<="T")A=String.fromCharCode(v.charCodeAt(0)+43);else if(v==="U")A="\0";else if(v==="V")A="@";else if(v==="W")A="`";else if(v==="X"||v==="Y"||v==="Z")A="";else throw new Y;break;case"/":if(v>="A"&&v<="O")A=String.fromCharCode(v.charCodeAt(0)-32);else if(v==="Z")A=":";else throw new Y;break}u+=A,d++}else u+=p}return u}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class qt extends en{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,c,u){let d=this.decodeStart(c),p=this.decodeEnd(c),v=new H;qt.decodeMiddle(c,d[1],p[0],v);let A=v.toString(),N=null;u!=null&&(N=u.get(ze.ALLOWED_LENGTHS)),N==null&&(N=qt.DEFAULT_ALLOWED_LENGTHS);let D=A.length,B=!1,J=0;for(let Le of N){if(D===Le){B=!0;break}Le>J&&(J=Le)}if(!B&&D>J&&(B=!0),!B)throw new Y;const ne=[new Ye(d[1],s),new Ye(p[0],s)];return new ee(A,null,0,ne,me.ITF,new Date().getTime())}static decodeMiddle(s,c,u,d){let p=new Int32Array(10),v=new Int32Array(5),A=new Int32Array(5);for(p.fill(0),v.fill(0),A.fill(0);c<u;){en.recordPattern(s,c,p);for(let D=0;D<5;D++){let B=2*D;v[D]=p[B],A[D]=p[B+1]}let N=qt.decodeDigit(v);d.append(N.toString()),N=this.decodeDigit(A),d.append(N.toString()),p.forEach(function(D){c+=D})}}decodeStart(s){let c=qt.skipWhiteSpace(s),u=qt.findGuardPattern(s,c,qt.START_PATTERN);return this.narrowLineWidth=(u[1]-u[0])/4,this.validateQuietZone(s,u[0]),u}validateQuietZone(s,c){let u=this.narrowLineWidth*10;u=u<c?u:c;for(let d=c-1;u>0&&d>=0&&!s.get(d);d--)u--;if(u!==0)throw new xe}static skipWhiteSpace(s){const c=s.getSize(),u=s.getNextSet(0);if(u===c)throw new xe;return u}decodeEnd(s){s.reverse();try{let c=qt.skipWhiteSpace(s),u;try{u=qt.findGuardPattern(s,c,qt.END_PATTERN_REVERSED[0])}catch(p){p instanceof xe&&(u=qt.findGuardPattern(s,c,qt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,u[0]);let d=u[0];return u[0]=s.getSize()-u[1],u[1]=s.getSize()-d,u}finally{s.reverse()}}static findGuardPattern(s,c,u){let d=u.length,p=new Int32Array(d),v=s.getSize(),A=!1,N=0,D=c;p.fill(0);for(let B=c;B<v;B++)if(s.get(B)!==A)p[N]++;else{if(N===d-1){if(en.patternMatchVariance(p,u,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return[D,B];D+=p[0]+p[1],W.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,A=!A}throw new xe}static decodeDigit(s){let c=qt.MAX_AVG_VARIANCE,u=-1,d=qt.PATTERNS.length;for(let p=0;p<d;p++){let v=qt.PATTERNS[p],A=en.patternMatchVariance(s,v,qt.MAX_INDIVIDUAL_VARIANCE);A<c?(c=A,u=p):A===c&&(u=-1)}if(u>=0)return u%10;throw new xe}}qt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],qt.MAX_AVG_VARIANCE=.38,qt.MAX_INDIVIDUAL_VARIANCE=.5,qt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],qt.START_PATTERN=Int32Array.from([1,1,1,1]),qt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bt extends en{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let c=!1,u,d=0,p=Int32Array.from([0,0,0]);for(;!c;){p=Int32Array.from([0,0,0]),u=Bt.findGuardPattern(s,d,!1,this.START_END_PATTERN,p);let v=u[0];d=u[1];let A=v-(d-v);A>=0&&(c=s.isRange(A,v,!1))}return u}static checkChecksum(s){return Bt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return Bt.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let d=c-1;d>=0;d-=2){let p=s.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new Y;u+=p}u*=3;for(let d=c-2;d>=0;d-=2){let p=s.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new Y;u+=p}return(1e3-u)%10}static decodeEnd(s,c){return Bt.findGuardPattern(s,c,!1,Bt.START_END_PATTERN,new Int32Array(Bt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,c,u,d){return this.findGuardPattern(s,c,u,d,new Int32Array(d.length))}static findGuardPattern(s,c,u,d,p){let v=s.getSize();c=u?s.getNextUnset(c):s.getNextSet(c);let A=0,N=c,D=d.length,B=u;for(let J=c;J<v;J++)if(s.get(J)!==B)p[A]++;else{if(A===D-1){if(en.patternMatchVariance(p,d,Bt.MAX_INDIVIDUAL_VARIANCE)<Bt.MAX_AVG_VARIANCE)return Int32Array.from([N,J]);N+=p[0]+p[1];let ne=p.slice(2,p.length-1);for(let be=0;be<A-1;be++)p[be]=ne[be];p[A-1]=0,p[A]=0,A--}else A++;p[A]=1,B=!B}throw new xe}static decodeDigit(s,c,u,d){this.recordPattern(s,u,c);let p=this.MAX_AVG_VARIANCE,v=-1,A=d.length;for(let N=0;N<A;N++){let D=d[N],B=en.patternMatchVariance(c,D,Bt.MAX_INDIVIDUAL_VARIANCE);B<p&&(p=B,v=N)}if(v>=0)return v;throw new xe}}Bt.MAX_AVG_VARIANCE=.48,Bt.MAX_INDIVIDUAL_VARIANCE=.7,Bt.START_END_PATTERN=Int32Array.from([1,1,1]),Bt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ar{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(c,u,d),v=d.toString(),A=ar.parseExtensionString(v),N=[new Ye((u[0]+u[1])/2,s),new Ye(p,s)],D=new ee(v,null,0,N,me.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&D.putAllMetadata(A),D}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=s.getSize(),v=c[1],A=0;for(let D=0;D<5&&v<p;D++){let B=Bt.decodeDigit(s,d,v,Bt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let J of d)v+=J;B>=10&&(A|=1<<4-D),D!==4&&(v=s.getNextSet(v),v=s.getNextUnset(v))}if(u.length!==5)throw new xe;let N=this.determineCheckDigit(A);if(ar.extensionChecksum(u.toString())!==N)throw new xe;return v}static extensionChecksum(s){let c=s.length,u=0;for(let d=c-2;d>=0;d-=2)u+=s.charAt(d).charCodeAt(0)-48;u*=3;for(let d=c-1;d>=0;d-=2)u+=s.charAt(d).charCodeAt(0)-48;return u*=3,u%10}determineCheckDigit(s){for(let c=0;c<10;c++)if(s===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new xe}static parseExtensionString(s){if(s.length!==5)return null;let c=ar.parseExtension5String(s);return c==null?null:new Map([[Ie.SUGGESTED_PRICE,c]])}static parseExtension5String(s){let c;switch(s.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let u=parseInt(s.substring(1)),d=(u/100).toString(),p=u%100,v=p<10?"0"+p:p.toString();return c+d+"."+v}}class bn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,c,u){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(c,u,d),v=d.toString(),A=bn.parseExtensionString(v),N=[new Ye((u[0]+u[1])/2,s),new Ye(p,s)],D=new ee(v,null,0,N,me.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&D.putAllMetadata(A),D}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=s.getSize(),v=c[1],A=0;for(let N=0;N<2&&v<p;N++){let D=Bt.decodeDigit(s,d,v,Bt.L_AND_G_PATTERNS);u+=String.fromCharCode(48+D%10);for(let B of d)v+=B;D>=10&&(A|=1<<1-N),N!==1&&(v=s.getNextSet(v),v=s.getNextUnset(v))}if(u.length!==2)throw new xe;if(parseInt(u.toString())%4!==A)throw new xe;return v}static parseExtensionString(s){return s.length!==2?null:new Map([[Ie.ISSUE_NUMBER,parseInt(s)]])}}class An{static decodeRow(s,c,u){let d=Bt.findGuardPattern(c,u,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ar().decodeRow(s,c,d)}catch{return new bn().decodeRow(s,c,d)}}}An.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rn extends Bt{constructor(){super(),this.decodeRowStringBuffer="",rn.L_AND_G_PATTERNS=rn.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let c=rn.L_PATTERNS[s-10],u=new Int32Array(c.length);for(let d=0;d<c.length;d++)u[d]=c[c.length-d-1];rn.L_AND_G_PATTERNS[s]=u}}decodeRow(s,c,u){let d=rn.findStartGuardPattern(c),p=u==null?null:u.get(ze.NEED_RESULT_POINT_CALLBACK);if(p!=null){const gt=new Ye((d[0]+d[1])/2,s);p.foundPossibleResultPoint(gt)}let v=this.decodeMiddle(c,d,this.decodeRowStringBuffer),A=v.rowOffset,N=v.resultString;if(p!=null){const gt=new Ye(A,s);p.foundPossibleResultPoint(gt)}let D=this.decodeEnd(c,A);if(p!=null){const gt=new Ye((D[0]+D[1])/2,s);p.foundPossibleResultPoint(gt)}let B=D[1],J=B+(B-D[0]);if(J>=c.getSize()||!c.isRange(B,J,!1))throw new xe;let ne=N.toString();if(ne.length<8)throw new Y;if(!rn.checkChecksum(ne))throw new R;let be=(d[1]+d[0])/2,Le=(D[1]+D[0])/2,je=this.getBarcodeFormat(),Xe=[new Ye(be,s),new Ye(Le,s)],st=new ee(ne,null,0,Xe,je,new Date().getTime()),mt=0;try{let gt=An.decodeRow(s,c,D[1]);st.putMetadata(Ie.UPC_EAN_EXTENSION,gt.getText()),st.putAllMetadata(gt.getResultMetadata()),st.addResultPoints(gt.getResultPoints()),mt=gt.getText().length}catch{}let xt=u==null?null:u.get(ze.ALLOWED_EAN_EXTENSIONS);if(xt!=null){let gt=!1;for(let xn in xt)if(mt.toString()===xn){gt=!0;break}if(!gt)throw new xe}return st}decodeEnd(s,c){return rn.findGuardPattern(s,c,!1,rn.START_END_PATTERN,new Int32Array(rn.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return rn.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let c=s.length;if(c===0)return!1;let u=parseInt(s.charAt(c-1),10);return rn.getStandardUPCEANChecksum(s.substring(0,c-1))===u}static getStandardUPCEANChecksum(s){let c=s.length,u=0;for(let d=c-1;d>=0;d-=2){let p=s.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new Y;u+=p}u*=3;for(let d=c-2;d>=0;d-=2){let p=s.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new Y;u+=p}return(1e3-u)%10}}class Jt extends rn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=s.getSize(),v=c[1],A=0;for(let D=0;D<6&&v<p;D++){let B=rn.decodeDigit(s,d,v,rn.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let J of d)v+=J;B>=10&&(A|=1<<5-D)}u=Jt.determineFirstDigit(u,A),v=rn.findGuardPattern(s,v,!0,rn.MIDDLE_PATTERN,new Int32Array(rn.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<6&&v<p;D++){let B=rn.decodeDigit(s,d,v,rn.L_PATTERNS);u+=String.fromCharCode(48+B);for(let J of d)v+=J}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(s,c){for(let u=0;u<10;u++)if(c===this.FIRST_DIGIT_ENCODINGS[u])return s=String.fromCharCode(48+u)+s,s;throw new xe}}Jt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class sn extends rn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,c,u){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=s.getSize(),v=c[1];for(let N=0;N<4&&v<p;N++){let D=rn.decodeDigit(s,d,v,rn.L_PATTERNS);u+=String.fromCharCode(48+D);for(let B of d)v+=B}v=rn.findGuardPattern(s,v,!0,rn.MIDDLE_PATTERN,new Int32Array(rn.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&v<p;N++){let D=rn.decodeDigit(s,d,v,rn.L_PATTERNS);u+=String.fromCharCode(48+D);for(let B of d)v+=B}return{rowOffset:v,resultString:u}}getBarcodeFormat(){return me.EAN_8}}class Hn extends rn{constructor(){super(...arguments),this.ean13Reader=new Jt}getBarcodeFormat(){return me.UPC_A}decode(s,c){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,c,u){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,c,u))}decodeMiddle(s,c,u){return this.ean13Reader.decodeMiddle(s,c,u)}maybeReturnResult(s){let c=s.getText();if(c.charAt(0)==="0"){let u=new ee(c.substring(1),null,null,s.getResultPoints(),me.UPC_A);return s.getResultMetadata()!=null&&u.putAllMetadata(s.getResultMetadata()),u}else throw new xe}reset(){this.ean13Reader.reset()}}class Br extends rn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,c,u){const d=this.decodeMiddleCounters.map(D=>D);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const p=s.getSize();let v=c[1],A=0;for(let D=0;D<6&&v<p;D++){const B=Br.decodeDigit(s,d,v,Br.L_AND_G_PATTERNS);u+=String.fromCharCode(48+B%10);for(let J of d)v+=J;B>=10&&(A|=1<<5-D)}let N=Br.determineNumSysAndCheckDigit(u,A);return{rowOffset:v,resultString:N}}decodeEnd(s,c){return Br.findGuardPatternWithoutCounters(s,c,!0,Br.MIDDLE_END_PATTERN)}checkChecksum(s){return rn.checkChecksum(Br.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,c){for(let u=0;u<=1;u++)for(let d=0;d<10;d++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[u][d]){let p=String.fromCharCode(48+u),v=String.fromCharCode(48+d);return p+s+v}throw xe.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(s){const c=s.slice(1,7).split("").map(p=>p.charCodeAt(0)),u=new H;u.append(s.charAt(0));let d=c[5];switch(d){case 0:case 1:case 2:u.appendChars(c,0,2),u.append(d),u.append("0000"),u.appendChars(c,2,3);break;case 3:u.appendChars(c,0,3),u.append("00000"),u.appendChars(c,3,2);break;case 4:u.appendChars(c,0,4),u.append("00000"),u.append(c[4]);break;default:u.appendChars(c,0,5),u.append("0000"),u.append(d);break}return s.length>=8&&u.append(s.charAt(7)),u.toString()}}Br.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Br.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ni extends en{constructor(s){super();let c=s==null?null:s.get(ze.POSSIBLE_FORMATS),u=[];r(c)?(u.push(new Jt),u.push(new Hn),u.push(new sn),u.push(new Br)):(c.indexOf(me.EAN_13)>-1&&u.push(new Jt),c.indexOf(me.UPC_A)>-1&&u.push(new Hn),c.indexOf(me.EAN_8)>-1&&u.push(new sn),c.indexOf(me.UPC_E)>-1&&u.push(new Br)),this.readers=u}decodeRow(s,c,u){for(let d of this.readers)try{const p=d.decodeRow(s,c,u),v=p.getBarcodeFormat()===me.EAN_13&&p.getText().charAt(0)==="0",A=u==null?null:u.get(ze.POSSIBLE_FORMATS),N=A==null||A.includes(me.UPC_A);if(v&&N){const D=p.getRawBytes(),B=new ee(p.getText().substring(1),D,D?D.length:null,p.getResultPoints(),me.UPC_A);return B.putAllMetadata(p.getResultMetadata()),B}return p}catch{}throw new xe}reset(){for(let s of this.readers)s.reset()}}class Fr extends en{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(s,c){for(let u=0;u<c.length;u++)if(en.patternMatchVariance(s,c[u],Fr.MAX_INDIVIDUAL_VARIANCE)<Fr.MAX_AVG_VARIANCE)return u;throw new xe}static count(s){return Ae.sum(new Int32Array(s))}static increment(s,c){let u=0,d=c[0];for(let p=1;p<s.length;p++)c[p]>d&&(d=c[p],u=p);s[u]++}static decrement(s,c){let u=0,d=c[0];for(let p=1;p<s.length;p++)c[p]<d&&(d=c[p],u=p);s[u]--}static isFinderPattern(s){let c=s[0]+s[1],u=c+s[2]+s[3],d=c/u;if(d>=Fr.MIN_FINDER_PATTERN_RATIO&&d<=Fr.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER;for(let A of s)A>v&&(v=A),A<p&&(p=A);return v<10*p}return!1}}Fr.MAX_AVG_VARIANCE=.2,Fr.MAX_INDIVIDUAL_VARIANCE=.45,Fr.MIN_FINDER_PATTERN_RATIO=9.5/12,Fr.MAX_FINDER_PATTERN_RATIO=12.5/14;class ei{constructor(s,c){this.value=s,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){if(!(s instanceof ei))return!1;const c=s;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ln{constructor(s,c,u,d,p){this.value=s,this.startEnd=c,this.value=s,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new Ye(u,p)),this.resultPoints.push(new Ye(d,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){if(!(s instanceof ln))return!1;const c=s;return this.value===c.value}hashCode(){return this.value}}class Ti{constructor(){}static getRSSvalue(s,c,u){let d=0;for(let N of s)d+=N;let p=0,v=0,A=s.length;for(let N=0;N<A-1;N++){let D;for(D=1,v|=1<<N;D<s[N];D++,v&=~(1<<N)){let B=Ti.combins(d-D-1,A-N-2);if(u&&v===0&&d-D-(A-N-1)>=A-N-1&&(B-=Ti.combins(d-D-(A-N),A-N-2)),A-N-1>1){let J=0;for(let ne=d-D-(A-N-2);ne>c;ne--)J+=Ti.combins(d-D-ne-1,A-N-3);B-=J*(A-1-N)}else d-D>c&&B--;p+=B}d-=D}return p}static combins(s,c){let u,d;s-c>c?(d=c,u=s-c):(d=s-c,u=c);let p=1,v=1;for(let A=s;A>u;A--)p*=A,v<=d&&(p/=v,v++);for(;v<=d;)p/=v,v++;return p}}class zs{static buildBitArray(s){let c=s.length*2-1;s[s.length-1].getRightChar()==null&&(c-=1);let u=12*c,d=new pe(u),p=0,A=s[0].getRightChar().getValue();for(let N=11;N>=0;--N)(A&1<<N)!=0&&d.set(p),p++;for(let N=1;N<s.length;++N){let D=s[N],B=D.getLeftChar().getValue();for(let J=11;J>=0;--J)(B&1<<J)!=0&&d.set(p),p++;if(D.getRightChar()!=null){let J=D.getRightChar().getValue();for(let ne=11;ne>=0;--ne)(J&1<<ne)!=0&&d.set(p),p++}}return d}}class pi{constructor(s,c){c?this.decodedInformation=null:(this.finished=s,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ki{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}class Vn extends Ki{constructor(s,c){super(s),this.value=c}getValue(){return this.value}isFNC1(){return this.value===Vn.FNC1}}Vn.FNC1="$";class dr extends Ki{constructor(s,c,u){super(s),u?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ar extends Ki{constructor(s,c,u){if(super(s),c<0||c>10||u<0||u>10)throw new Y;this.firstDigit=c,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ar.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ar.FNC1}isAnyFNC1(){return this.firstDigit===Ar.FNC1||this.secondDigit===Ar.FNC1}}Ar.FNC1=10;class Mt{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new xe;let c=s.substring(0,2);for(let p of Mt.TWO_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(2,p[2],s):Mt.processFixedAI(2,p[1],s);if(s.length<3)throw new xe;let u=s.substring(0,3);for(let p of Mt.THREE_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(3,p[2],s):Mt.processFixedAI(3,p[1],s);for(let p of Mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===u)return p[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(4,p[2],s):Mt.processFixedAI(4,p[1],s);if(s.length<4)throw new xe;let d=s.substring(0,4);for(let p of Mt.FOUR_DIGIT_DATA_LENGTH)if(p[0]===d)return p[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(4,p[2],s):Mt.processFixedAI(4,p[1],s);throw new xe}static processFixedAI(s,c,u){if(u.length<s)throw new xe;let d=u.substring(0,s);if(u.length<s+c)throw new xe;let p=u.substring(s,s+c),v=u.substring(s+c),A="("+d+")"+p,N=Mt.parseFieldsInGeneralPurpose(v);return N==null?A:A+N}static processVariableAI(s,c,u){let d=u.substring(0,s),p;u.length<s+c?p=u.length:p=s+c;let v=u.substring(s,p),A=u.substring(p),N="("+d+")"+v,D=Mt.parseFieldsInGeneralPurpose(A);return D==null?N:N+D}}Mt.VARIABLE_LENGTH=[],Mt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Mt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Mt.VARIABLE_LENGTH,20],["22",Mt.VARIABLE_LENGTH,29],["30",Mt.VARIABLE_LENGTH,8],["37",Mt.VARIABLE_LENGTH,8],["90",Mt.VARIABLE_LENGTH,30],["91",Mt.VARIABLE_LENGTH,30],["92",Mt.VARIABLE_LENGTH,30],["93",Mt.VARIABLE_LENGTH,30],["94",Mt.VARIABLE_LENGTH,30],["95",Mt.VARIABLE_LENGTH,30],["96",Mt.VARIABLE_LENGTH,30],["97",Mt.VARIABLE_LENGTH,3],["98",Mt.VARIABLE_LENGTH,30],["99",Mt.VARIABLE_LENGTH,30]],Mt.THREE_DIGIT_DATA_LENGTH=[["240",Mt.VARIABLE_LENGTH,30],["241",Mt.VARIABLE_LENGTH,30],["242",Mt.VARIABLE_LENGTH,6],["250",Mt.VARIABLE_LENGTH,30],["251",Mt.VARIABLE_LENGTH,30],["253",Mt.VARIABLE_LENGTH,17],["254",Mt.VARIABLE_LENGTH,20],["400",Mt.VARIABLE_LENGTH,30],["401",Mt.VARIABLE_LENGTH,30],["402",17],["403",Mt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Mt.VARIABLE_LENGTH,20],["421",Mt.VARIABLE_LENGTH,15],["422",3],["423",Mt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Mt.VARIABLE_LENGTH,15],["391",Mt.VARIABLE_LENGTH,18],["392",Mt.VARIABLE_LENGTH,15],["393",Mt.VARIABLE_LENGTH,18],["703",Mt.VARIABLE_LENGTH,30]],Mt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Mt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Mt.VARIABLE_LENGTH,20],["8003",Mt.VARIABLE_LENGTH,30],["8004",Mt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Mt.VARIABLE_LENGTH,30],["8008",Mt.VARIABLE_LENGTH,12],["8018",18],["8020",Mt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Mt.VARIABLE_LENGTH,70],["8200",Mt.VARIABLE_LENGTH,70]];class ci{constructor(s){this.buffer=new H,this.information=s}decodeAllCodes(s,c){let u=c,d=null;do{let p=this.decodeGeneralPurposeField(u,d),v=Mt.parseFieldsInGeneralPurpose(p.getNewString());if(v!=null&&s.append(v),p.isRemaining()?d=""+p.getRemainingValue():d=null,u===p.getNewPosition())break;u=p.getNewPosition()}while(!0);return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let c=s;c<s+3;++c)if(this.information.get(c))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(s,4);return p===0?new Ar(this.information.getSize(),Ar.FNC1,Ar.FNC1):new Ar(this.information.getSize(),p-1,Ar.FNC1)}let c=this.extractNumericValueFromBitArray(s,7),u=(c-8)/11,d=(c-8)%11;return new Ar(s+7,u,d)}extractNumericValueFromBitArray(s,c){return ci.extractNumericValueFromBitArray(this.information,s,c)}static extractNumericValueFromBitArray(s,c,u){let d=0;for(let p=0;p<u;++p)s.get(c+p)&&(d|=1<<u-p-1);return d}decodeGeneralPurposeField(s,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(s);let u=this.parseBlocks();return u!=null&&u.isRemaining()?new dr(this.current.getPosition(),this.buffer.toString(),u.getRemainingValue()):new dr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,c;do{let u=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),s=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),s=c.isFinished()):(c=this.parseNumericBlock(),s=c.isFinished()),!(u!==this.current.getPosition())&&!s)break}while(!s);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let c;return s.isSecondDigitFNC1()?c=new dr(this.current.getPosition(),this.buffer.toString()):c=new dr(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new pi(!0,c)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let c=new dr(this.current.getPosition(),this.buffer.toString());return new pi(!0,c)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new pi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new dr(this.current.getPosition(),this.buffer.toString());return new pi(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new pi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let c=new dr(this.current.getPosition(),this.buffer.toString());return new pi(!0,c)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new pi(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+7>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<116)return!0;if(s+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(s,8);return d>=232&&d<253}decodeIsoIec646(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Vn(s+5,Vn.FNC1);if(c>=5&&c<15)return new Vn(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,7);if(u>=64&&u<90)return new Vn(s+7,""+(u+1));if(u>=90&&u<116)return new Vn(s+7,""+(u+7));let d=this.extractNumericValueFromBitArray(s,8),p;switch(d){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new Y}return new Vn(s+8,p)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(s,5);if(c>=5&&c<16)return!0;if(s+6>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,6);return u>=16&&u<63}decodeAlphanumeric(s){let c=this.extractNumericValueFromBitArray(s,5);if(c===15)return new Vn(s+5,Vn.FNC1);if(c>=5&&c<15)return new Vn(s+5,"0"+(c-5));let u=this.extractNumericValueFromBitArray(s,6);if(u>=32&&u<58)return new Vn(s+6,""+(u+33));let d;switch(u){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new ae("Decoding invalid alphanumeric value: "+u)}return new Vn(s+6,d)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<5&&c+s<this.information.getSize();++c)if(c===2){if(!this.information.get(s+2))return!1}else if(this.information.get(s+c))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let c=s;c<s+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let c=0;c<4&&c+s<this.information.getSize();++c)if(this.information.get(s+c))return!1;return!0}}class pr{constructor(s){this.information=s,this.generalDecoder=new ci(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gn extends pr{constructor(s){super(s)}encodeCompressedGtin(s,c){s.append("(01)");let u=s.length();s.append("9"),this.encodeCompressedGtinWithoutAI(s,c,u)}encodeCompressedGtinWithoutAI(s,c,u){for(let d=0;d<4;++d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*d,10);p/100===0&&s.append("0"),p/10===0&&s.append("0"),s.append(p)}Gn.appendCheckDigit(s,u)}static appendCheckDigit(s,c){let u=0;for(let d=0;d<13;d++){let p=s.charAt(d+c).charCodeAt(0)-48;u+=(d&1)===0?3*p:p}u=10-u%10,u===10&&(u=0),s.append(u)}}Gn.GTIN_SIZE=40;class Wr extends Gn{constructor(s){super(s)}parseInformation(){let s=new H;s.append("(01)");let c=s.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(Wr.HEADER_SIZE,4);return s.append(u),this.encodeCompressedGtinWithoutAI(s,Wr.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(s,Wr.HEADER_SIZE+44)}}Wr.HEADER_SIZE=4;class Bi extends pr{constructor(s){super(s)}parseInformation(){let s=new H;return this.getGeneralDecoder().decodeAllCodes(s,Bi.HEADER_SIZE)}}Bi.HEADER_SIZE=5;class fs extends Gn{constructor(s){super(s)}encodeCompressedWeight(s,c,u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(c,u);this.addWeightCode(s,d);let p=this.checkWeight(d),v=1e5;for(let A=0;A<5;++A)p/v===0&&s.append("0"),v/=10;s.append(p)}}class Fi extends fs{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()!=Fi.HEADER_SIZE+fs.GTIN_SIZE+Fi.WEIGHT_SIZE)throw new xe;let s=new H;return this.encodeCompressedGtin(s,Fi.HEADER_SIZE),this.encodeCompressedWeight(s,Fi.HEADER_SIZE+fs.GTIN_SIZE,Fi.WEIGHT_SIZE),s.toString()}}Fi.HEADER_SIZE=5,Fi.WEIGHT_SIZE=15;class pa extends Fi{constructor(s){super(s)}addWeightCode(s,c){s.append("(3103)")}checkWeight(s){return s}}class Cs extends Fi{constructor(s){super(s)}addWeightCode(s,c){c<1e4?s.append("(3202)"):s.append("(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}class Ii extends Gn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Ii.HEADER_SIZE+Gn.GTIN_SIZE)throw new xe;let s=new H;this.encodeCompressedGtin(s,Ii.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Ii.HEADER_SIZE+Gn.GTIN_SIZE,Ii.LAST_DIGIT_SIZE);s.append("(392"),s.append(c),s.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(Ii.HEADER_SIZE+Gn.GTIN_SIZE+Ii.LAST_DIGIT_SIZE,null);return s.append(u.getNewString()),s.toString()}}Ii.HEADER_SIZE=8,Ii.LAST_DIGIT_SIZE=2;class Lr extends Gn{constructor(s){super(s)}parseInformation(){if(this.getInformation().getSize()<Lr.HEADER_SIZE+Gn.GTIN_SIZE)throw new xe;let s=new H;this.encodeCompressedGtin(s,Lr.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Gn.GTIN_SIZE,Lr.LAST_DIGIT_SIZE);s.append("(393"),s.append(c),s.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Lr.HEADER_SIZE+Gn.GTIN_SIZE+Lr.LAST_DIGIT_SIZE,Lr.FIRST_THREE_DIGITS_SIZE);u/100==0&&s.append("0"),u/10==0&&s.append("0"),s.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(Lr.HEADER_SIZE+Gn.GTIN_SIZE+Lr.LAST_DIGIT_SIZE+Lr.FIRST_THREE_DIGITS_SIZE,null);return s.append(d.getNewString()),s.toString()}}Lr.HEADER_SIZE=8,Lr.LAST_DIGIT_SIZE=2,Lr.FIRST_THREE_DIGITS_SIZE=10;class Wn extends fs{constructor(s,c,u){super(s),this.dateCode=u,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=Wn.HEADER_SIZE+Wn.GTIN_SIZE+Wn.WEIGHT_SIZE+Wn.DATE_SIZE)throw new xe;let s=new H;return this.encodeCompressedGtin(s,Wn.HEADER_SIZE),this.encodeCompressedWeight(s,Wn.HEADER_SIZE+Wn.GTIN_SIZE,Wn.WEIGHT_SIZE),this.encodeCompressedDate(s,Wn.HEADER_SIZE+Wn.GTIN_SIZE+Wn.WEIGHT_SIZE),s.toString()}encodeCompressedDate(s,c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(c,Wn.DATE_SIZE);if(u==38400)return;s.append("("),s.append(this.dateCode),s.append(")");let d=u%32;u/=32;let p=u%12+1;u/=12;let v=u;v/10==0&&s.append("0"),s.append(v),p/10==0&&s.append("0"),s.append(p),d/10==0&&s.append("0"),s.append(d)}addWeightCode(s,c){s.append("("),s.append(this.firstAIdigits),s.append(c/1e5),s.append(")")}checkWeight(s){return s%1e5}}Wn.HEADER_SIZE=8,Wn.WEIGHT_SIZE=20,Wn.DATE_SIZE=16;function Ns(Q){try{if(Q.get(1))return new Wr(Q);if(!Q.get(2))return new Bi(Q);switch(ci.extractNumericValueFromBitArray(Q,1,4)){case 4:return new pa(Q);case 5:return new Cs(Q)}switch(ci.extractNumericValueFromBitArray(Q,1,5)){case 12:return new Ii(Q);case 13:return new Lr(Q)}switch(ci.extractNumericValueFromBitArray(Q,1,7)){case 56:return new Wn(Q,"310","11");case 57:return new Wn(Q,"320","11");case 58:return new Wn(Q,"310","13");case 59:return new Wn(Q,"320","13");case 60:return new Wn(Q,"310","15");case 61:return new Wn(Q,"320","15");case 62:return new Wn(Q,"310","17");case 63:return new Wn(Q,"320","17")}}catch(s){throw console.log(s),new ae("unknown decoder: "+Q)}}class vi{constructor(s,c,u,d){this.leftchar=s,this.rightchar=c,this.finderpattern=u,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(s,c){return s instanceof vi?vi.equalsOrNull(s.leftchar,c.leftchar)&&vi.equalsOrNull(s.rightchar,c.rightchar)&&vi.equalsOrNull(s.finderpattern,c.finderpattern):!1}static equalsOrNull(s,c){return s===null?c===null:vi.equals(s,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xr{constructor(s,c,u){this.pairs=s,this.rowNumber=c,this.wasReversed=u}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,c){return s instanceof Xr?this.checkEqualitity(s,c)&&s.wasReversed===c.wasReversed:!1}checkEqualitity(s,c){if(!s||!c)return;let u;return s.forEach((d,p)=>{c.forEach(v=>{d.getLeftChar().getValue()===v.getLeftChar().getValue()&&d.getRightChar().getValue()===v.getRightChar().getValue()&&d.getFinderPatter().getValue()===v.getFinderPatter().getValue()&&(u=!0)})}),u}}class At extends Fr{constructor(s){super(...arguments),this.pairs=new Array(At.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=s===!0}decodeRow(s,c,u){this.pairs.length=0,this.startFromEven=!1;try{return At.constructResult(this.decodeRow2pairs(s,c))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,At.constructResult(this.decodeRow2pairs(s,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,c){let u=!1;for(;!u;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,s))}catch(p){if(p instanceof xe){if(!this.pairs.length)throw new xe;u=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(s,!1),d){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new xe}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(u){this.verbose&&console.log(u)}return s&&(this.rows=this.rows.reverse()),c}checkRows(s,c){for(let u=c;u<this.rows.length;u++){let d=this.rows[u];this.pairs.length=0;for(let v of s)this.pairs.push(v.getPairs());if(this.pairs.push(d.getPairs()),!At.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(s);p.push(d);try{return this.checkRows(p,u+1)}catch(v){this.verbose&&console.log(v)}}throw new xe}static isValidSequence(s){for(let c of At.FINDER_PATTERN_SEQUENCES){if(s.length>c.length)continue;let u=!0;for(let d=0;d<s.length;d++)if(s[d].getFinderPattern().getValue()!=c[d]){u=!1;break}if(u)return!0}return!1}storeRow(s,c){let u=0,d=!1,p=!1;for(;u<this.rows.length;){let v=this.rows[u];if(v.getRowNumber()>s){p=v.isEquivalent(this.pairs);break}d=v.isEquivalent(this.pairs),u++}p||d||At.isPartialRow(this.pairs,this.rows)||(this.rows.push(u,new Xr(this.pairs,s,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,c){for(let u of c)if(u.getPairs().length!==s.length){for(let d of u.getPairs())for(let p of s)if(vi.equals(d,p))break}}static isPartialRow(s,c){for(let u of c){let d=!0;for(let p of s){let v=!1;for(let A of u.getPairs())if(p.equals(A)){v=!0;break}if(!v){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(s){let c=zs.buildBitArray(s),d=Ns(c).parseInformation(),p=s[0].getFinderPattern().getResultPoints(),v=s[s.length-1].getFinderPattern().getResultPoints(),A=[p[0],p[1],v[0],v[1]];return new ee(d,null,null,A,me.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),c=s.getLeftChar(),u=s.getRightChar();if(u==null)return!1;let d=u.getChecksumPortion(),p=2;for(let A=1;A<this.pairs.size();++A){let N=this.pairs.get(A);d+=N.getLeftChar().getChecksumPortion(),p++;let D=N.getRightChar();D!=null&&(d+=D.getChecksumPortion(),p++)}return d%=211,211*(p-4)+d==c.getValue()}static getNextSecondBar(s,c){let u;return s.get(c)?(u=s.getNextUnset(c),u=s.getNextSet(u)):(u=s.getNextSet(c),u=s.getNextUnset(u)),u}retrieveNextPair(s,c,u){let d=c.length%2==0;this.startFromEven&&(d=!d);let p,v=!0,A=-1;do this.findNextPair(s,c,A),p=this.parseFoundFinderPattern(s,u,d),p==null?A=At.getNextSecondBar(s,this.startEnd[0]):v=!1;while(v);let N=this.decodeDataCharacter(s,p,d,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new xe;let D;try{D=this.decodeDataCharacter(s,p,d,!1)}catch(B){D=null,this.verbose&&console.log(B)}return new vi(N,D,p,!0)}isEmptyPair(s){return s.length===0}findNextPair(s,c,u){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=s.getSize(),v;u>=0?v=u:this.isEmptyPair(c)?v=0:v=c[c.length-1].getFinderPattern().getStartEnd()[1];let A=c.length%2!=0;this.startFromEven&&(A=!A);let N=!1;for(;v<p&&(N=!s.get(v),!!N);)v++;let D=0,B=v;for(let J=v;J<p;J++)if(s.get(J)!=N)d[D]++;else{if(D==3){if(A&&At.reverseCounters(d),At.isFinderPattern(d)){this.startEnd[0]=B,this.startEnd[1]=J;return}A&&At.reverseCounters(d),B+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,D--}else D++;d[D]=1,N=!N}throw new xe}static reverseCounters(s){let c=s.length;for(let u=0;u<c/2;++u){let d=s[u];s[u]=s[c-u-1],s[c-u-1]=d}}parseFoundFinderPattern(s,c,u){let d,p,v;if(u){let D=this.startEnd[0]-1;for(;D>=0&&!s.get(D);)D--;D++,d=this.startEnd[0]-D,p=D,v=this.startEnd[1]}else p=this.startEnd[0],v=s.getNextUnset(this.startEnd[1]+1),d=v-this.startEnd[1];let A=this.getDecodeFinderCounters();W.arraycopy(A,0,A,1,A.length-1),A[0]=d;let N;try{N=this.parseFinderValue(A,At.FINDER_PATTERNS)}catch{return null}return new ln(N,[p,v],p,v,c)}decodeDataCharacter(s,c,u,d){let p=this.getDataCharacterCounters();for(let kr=0;kr<p.length;kr++)p[kr]=0;if(d)At.recordPatternInReverse(s,c.getStartEnd()[0],p);else{At.recordPattern(s,c.getStartEnd()[1],p);for(let kr=0,ts=p.length-1;kr<ts;kr++,ts--){let sa=p[kr];p[kr]=p[ts],p[ts]=sa}}let v=17,A=Ae.sum(new Int32Array(p))/v,N=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(A-N)/N>.3)throw new xe;let D=this.getOddCounts(),B=this.getEvenCounts(),J=this.getOddRoundingErrors(),ne=this.getEvenRoundingErrors();for(let kr=0;kr<p.length;kr++){let ts=1*p[kr]/A,sa=ts+.5;if(sa<1){if(ts<.3)throw new xe;sa=1}else if(sa>8){if(ts>8.7)throw new xe;sa=8}let Ho=kr/2;(kr&1)==0?(D[Ho]=sa,J[Ho]=ts-sa):(B[Ho]=sa,ne[Ho]=ts-sa)}this.adjustOddEvenCounts(v);let be=4*c.getValue()+(u?0:2)+(d?0:1)-1,Le=0,je=0;for(let kr=D.length-1;kr>=0;kr--){if(At.isNotA1left(c,u,d)){let ts=At.WEIGHTS[be][2*kr];je+=D[kr]*ts}Le+=D[kr]}let Xe=0;for(let kr=B.length-1;kr>=0;kr--)if(At.isNotA1left(c,u,d)){let ts=At.WEIGHTS[be][2*kr+1];Xe+=B[kr]*ts}let st=je+Xe;if((Le&1)!=0||Le>13||Le<4)throw new xe;let mt=(13-Le)/2,xt=At.SYMBOL_WIDEST[mt],gt=9-xt,xn=Ti.getRSSvalue(D,xt,!0),Cn=Ti.getRSSvalue(B,gt,!1),ii=At.EVEN_TOTAL_SUBSET[mt],vs=At.GSUM[mt],es=xn*ii+Cn+vs;return new ei(es,st)}static isNotA1left(s,c,u){return!(s.getValue()==0&&c&&u)}adjustOddEvenCounts(s){let c=Ae.sum(new Int32Array(this.getOddCounts())),u=Ae.sum(new Int32Array(this.getEvenCounts())),d=!1,p=!1;c>13?p=!0:c<4&&(d=!0);let v=!1,A=!1;u>13?A=!0:u<4&&(v=!0);let N=c+u-s,D=(c&1)==1,B=(u&1)==0;if(N==1)if(D){if(B)throw new xe;p=!0}else{if(!B)throw new xe;A=!0}else if(N==-1)if(D){if(B)throw new xe;d=!0}else{if(!B)throw new xe;v=!0}else if(N==0){if(D){if(!B)throw new xe;c<u?(d=!0,A=!0):(p=!0,v=!0)}else if(B)throw new xe}else throw new xe;if(d){if(p)throw new xe;At.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&At.decrement(this.getOddCounts(),this.getOddRoundingErrors()),v){if(A)throw new xe;At.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&At.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.SYMBOL_WIDEST=[7,5,4,3,1],At.EVEN_TOTAL_SUBSET=[4,20,52,104,204],At.GSUM=[0,348,1388,2948,3988],At.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],At.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],At.FINDER_PAT_A=0,At.FINDER_PAT_B=1,At.FINDER_PAT_C=2,At.FINDER_PAT_D=3,At.FINDER_PAT_E=4,At.FINDER_PAT_F=5,At.FINDER_PATTERN_SEQUENCES=[[At.FINDER_PAT_A,At.FINDER_PAT_A],[At.FINDER_PAT_A,At.FINDER_PAT_B,At.FINDER_PAT_B],[At.FINDER_PAT_A,At.FINDER_PAT_C,At.FINDER_PAT_B,At.FINDER_PAT_D],[At.FINDER_PAT_A,At.FINDER_PAT_E,At.FINDER_PAT_B,At.FINDER_PAT_D,At.FINDER_PAT_C],[At.FINDER_PAT_A,At.FINDER_PAT_E,At.FINDER_PAT_B,At.FINDER_PAT_D,At.FINDER_PAT_D,At.FINDER_PAT_F],[At.FINDER_PAT_A,At.FINDER_PAT_E,At.FINDER_PAT_B,At.FINDER_PAT_D,At.FINDER_PAT_E,At.FINDER_PAT_F,At.FINDER_PAT_F],[At.FINDER_PAT_A,At.FINDER_PAT_A,At.FINDER_PAT_B,At.FINDER_PAT_B,At.FINDER_PAT_C,At.FINDER_PAT_C,At.FINDER_PAT_D,At.FINDER_PAT_D],[At.FINDER_PAT_A,At.FINDER_PAT_A,At.FINDER_PAT_B,At.FINDER_PAT_B,At.FINDER_PAT_C,At.FINDER_PAT_C,At.FINDER_PAT_D,At.FINDER_PAT_E,At.FINDER_PAT_E],[At.FINDER_PAT_A,At.FINDER_PAT_A,At.FINDER_PAT_B,At.FINDER_PAT_B,At.FINDER_PAT_C,At.FINDER_PAT_C,At.FINDER_PAT_D,At.FINDER_PAT_E,At.FINDER_PAT_F,At.FINDER_PAT_F],[At.FINDER_PAT_A,At.FINDER_PAT_A,At.FINDER_PAT_B,At.FINDER_PAT_B,At.FINDER_PAT_C,At.FINDER_PAT_D,At.FINDER_PAT_D,At.FINDER_PAT_E,At.FINDER_PAT_E,At.FINDER_PAT_F,At.FINDER_PAT_F]],At.MAX_PAIRS=11;class Ts extends ei{constructor(s,c,u){super(s,c),this.count=0,this.finderPattern=u}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class or extends Fr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,c,u){const d=this.decodePair(c,!1,s,u);or.addOrTally(this.possibleLeftPairs,d),c.reverse();let p=this.decodePair(c,!0,s,u);or.addOrTally(this.possibleRightPairs,p),c.reverse();for(let v of this.possibleLeftPairs)if(v.getCount()>1){for(let A of this.possibleRightPairs)if(A.getCount()>1&&or.checkChecksum(v,A))return or.constructResult(v,A)}throw new xe}static addOrTally(s,c){if(c==null)return;let u=!1;for(let d of s)if(d.getValue()===c.getValue()){d.incrementCount(),u=!0;break}u||s.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,c){let u=4537077*s.getValue()+c.getValue(),d=new String(u).toString(),p=new H;for(let D=13-d.length;D>0;D--)p.append("0");p.append(d);let v=0;for(let D=0;D<13;D++){let B=p.charAt(D).charCodeAt(0)-48;v+=(D&1)===0?3*B:B}v=10-v%10,v===10&&(v=0),p.append(v.toString());let A=s.getFinderPattern().getResultPoints(),N=c.getFinderPattern().getResultPoints();return new ee(p.toString(),null,0,[A[0],A[1],N[0],N[1]],me.RSS_14,new Date().getTime())}static checkChecksum(s,c){let u=(s.getChecksumPortion()+16*c.getChecksumPortion())%79,d=9*s.getFinderPattern().getValue()+c.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,u===d}decodePair(s,c,u,d){try{let p=this.findFinderPattern(s,c),v=this.parseFoundFinderPattern(s,u,c,p),A=d==null?null:d.get(ze.NEED_RESULT_POINT_CALLBACK);if(A!=null){let B=(p[0]+p[1])/2;c&&(B=s.getSize()-1-B),A.foundPossibleResultPoint(new Ye(B,u))}let N=this.decodeDataCharacter(s,v,!0),D=this.decodeDataCharacter(s,v,!1);return new Ts(1597*N.getValue()+D.getValue(),N.getChecksumPortion()+4*D.getChecksumPortion(),v)}catch{return null}}decodeDataCharacter(s,c,u){let d=this.getDataCharacterCounters();for(let Xe=0;Xe<d.length;Xe++)d[Xe]=0;if(u)en.recordPatternInReverse(s,c.getStartEnd()[0],d);else{en.recordPattern(s,c.getStartEnd()[1]+1,d);for(let Xe=0,st=d.length-1;Xe<st;Xe++,st--){let mt=d[Xe];d[Xe]=d[st],d[st]=mt}}let p=u?16:15,v=Ae.sum(new Int32Array(d))/p,A=this.getOddCounts(),N=this.getEvenCounts(),D=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let Xe=0;Xe<d.length;Xe++){let st=d[Xe]/v,mt=Math.floor(st+.5);mt<1?mt=1:mt>8&&(mt=8);let xt=Math.floor(Xe/2);(Xe&1)===0?(A[xt]=mt,D[xt]=st-mt):(N[xt]=mt,B[xt]=st-mt)}this.adjustOddEvenCounts(u,p);let J=0,ne=0;for(let Xe=A.length-1;Xe>=0;Xe--)ne*=9,ne+=A[Xe],J+=A[Xe];let be=0,Le=0;for(let Xe=N.length-1;Xe>=0;Xe--)be*=9,be+=N[Xe],Le+=N[Xe];let je=ne+3*be;if(u){if((J&1)!==0||J>12||J<4)throw new xe;let Xe=(12-J)/2,st=or.OUTSIDE_ODD_WIDEST[Xe],mt=9-st,xt=Ti.getRSSvalue(A,st,!1),gt=Ti.getRSSvalue(N,mt,!0),xn=or.OUTSIDE_EVEN_TOTAL_SUBSET[Xe],Cn=or.OUTSIDE_GSUM[Xe];return new ei(xt*xn+gt+Cn,je)}else{if((Le&1)!==0||Le>10||Le<4)throw new xe;let Xe=(10-Le)/2,st=or.INSIDE_ODD_WIDEST[Xe],mt=9-st,xt=Ti.getRSSvalue(A,st,!0),gt=Ti.getRSSvalue(N,mt,!1),xn=or.INSIDE_ODD_TOTAL_SUBSET[Xe],Cn=or.INSIDE_GSUM[Xe];return new ei(gt*xn+xt+Cn,je)}}findFinderPattern(s,c){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),p=!1,v=0;for(;v<d&&(p=!s.get(v),c!==p);)v++;let A=0,N=v;for(let D=v;D<d;D++)if(s.get(D)!==p)u[A]++;else{if(A===3){if(Fr.isFinderPattern(u))return[N,D];N+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,A--}else A++;u[A]=1,p=!p}throw new xe}parseFoundFinderPattern(s,c,u,d){let p=s.get(d[0]),v=d[0]-1;for(;v>=0&&p!==s.get(v);)v--;v++;const A=d[0]-v,N=this.getDecodeFinderCounters(),D=new Int32Array(N.length);W.arraycopy(N,0,D,1,N.length-1),D[0]=A;const B=this.parseFinderValue(D,or.FINDER_PATTERNS);let J=v,ne=d[1];return u&&(J=s.getSize()-1-J,ne=s.getSize()-1-ne),new ln(B,[v,d[1]],J,ne,c)}adjustOddEvenCounts(s,c){let u=Ae.sum(new Int32Array(this.getOddCounts())),d=Ae.sum(new Int32Array(this.getEvenCounts())),p=!1,v=!1,A=!1,N=!1;s?(u>12?v=!0:u<4&&(p=!0),d>12?N=!0:d<4&&(A=!0)):(u>11?v=!0:u<5&&(p=!0),d>10?N=!0:d<4&&(A=!0));let D=u+d-c,B=(u&1)===(s?1:0),J=(d&1)===1;if(D===1)if(B){if(J)throw new xe;v=!0}else{if(!J)throw new xe;N=!0}else if(D===-1)if(B){if(J)throw new xe;p=!0}else{if(!J)throw new xe;A=!0}else if(D===0){if(B){if(!J)throw new xe;u<d?(p=!0,N=!0):(v=!0,A=!0)}else if(J)throw new xe}else throw new xe;if(p){if(v)throw new xe;Fr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Fr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(N)throw new xe;Fr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&Fr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}or.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],or.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],or.OUTSIDE_GSUM=[0,161,961,2015,2715],or.INSIDE_GSUM=[0,336,1036,1516],or.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],or.INSIDE_ODD_WIDEST=[2,4,6,8],or.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Zi extends en{constructor(s,c){super(),this.readers=[],this.verbose=c===!0;const u=s?s.get(ze.POSSIBLE_FORMATS):null,d=s&&s.get(ze.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;u?((u.includes(me.EAN_13)||u.includes(me.UPC_A)||u.includes(me.EAN_8)||u.includes(me.UPC_E))&&this.readers.push(new Ni(s)),u.includes(me.CODE_39)&&this.readers.push(new Gt(d)),u.includes(me.CODE_128)&&this.readers.push(new ut),u.includes(me.ITF)&&this.readers.push(new qt),u.includes(me.RSS_14)&&this.readers.push(new or),u.includes(me.RSS_EXPANDED)&&this.readers.push(new At(this.verbose))):(this.readers.push(new Ni(s)),this.readers.push(new Gt),this.readers.push(new Ni(s)),this.readers.push(new ut),this.readers.push(new qt),this.readers.push(new or),this.readers.push(new At(this.verbose)))}decodeRow(s,c,u){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(s,c,u)}catch{}throw new xe}reset(){this.readers.forEach(s=>s.reset())}}class yo extends le{constructor(s=500,c){super(new Zi(c),s,c)}}class nr{constructor(s,c,u){this.ecCodewords=s,this.ecBlocks=[c],u&&this.ecBlocks.push(u)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class tr{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class zn{constructor(s,c,u,d,p,v){this.versionNumber=s,this.symbolSizeRows=c,this.symbolSizeColumns=u,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=p,this.ecBlocks=v;let A=0;const N=v.getECCodewords(),D=v.getECBlocks();for(let B of D)A+=B.getCount()*(B.getDataCodewords()+N);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,c){if((s&1)!==0||(c&1)!==0)throw new Y;for(let u of zn.VERSIONS)if(u.symbolSizeRows===s&&u.symbolSizeColumns===c)return u;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new zn(1,10,10,8,8,new nr(5,new tr(1,3))),new zn(2,12,12,10,10,new nr(7,new tr(1,5))),new zn(3,14,14,12,12,new nr(10,new tr(1,8))),new zn(4,16,16,14,14,new nr(12,new tr(1,12))),new zn(5,18,18,16,16,new nr(14,new tr(1,18))),new zn(6,20,20,18,18,new nr(18,new tr(1,22))),new zn(7,22,22,20,20,new nr(20,new tr(1,30))),new zn(8,24,24,22,22,new nr(24,new tr(1,36))),new zn(9,26,26,24,24,new nr(28,new tr(1,44))),new zn(10,32,32,14,14,new nr(36,new tr(1,62))),new zn(11,36,36,16,16,new nr(42,new tr(1,86))),new zn(12,40,40,18,18,new nr(48,new tr(1,114))),new zn(13,44,44,20,20,new nr(56,new tr(1,144))),new zn(14,48,48,22,22,new nr(68,new tr(1,174))),new zn(15,52,52,24,24,new nr(42,new tr(2,102))),new zn(16,64,64,14,14,new nr(56,new tr(2,140))),new zn(17,72,72,16,16,new nr(36,new tr(4,92))),new zn(18,80,80,18,18,new nr(48,new tr(4,114))),new zn(19,88,88,20,20,new nr(56,new tr(4,144))),new zn(20,96,96,22,22,new nr(68,new tr(4,174))),new zn(21,104,104,24,24,new nr(56,new tr(6,136))),new zn(22,120,120,18,18,new nr(68,new tr(6,175))),new zn(23,132,132,20,20,new nr(62,new tr(8,163))),new zn(24,144,144,22,22,new nr(62,new tr(8,156),new tr(2,155))),new zn(25,8,18,6,16,new nr(7,new tr(1,5))),new zn(26,8,32,6,14,new nr(11,new tr(1,10))),new zn(27,12,26,10,24,new nr(14,new tr(1,16))),new zn(28,12,36,10,16,new nr(18,new tr(1,22))),new zn(29,16,36,14,16,new nr(24,new tr(1,32))),new zn(30,16,48,14,22,new nr(28,new tr(1,49)))]}}zn.VERSIONS=zn.buildVersions();class ds{constructor(s){const c=s.getHeight();if(c<8||c>144||(c&1)!==0)throw new Y;this.version=ds.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Ce(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const c=s.getHeight(),u=s.getWidth();return zn.getVersionForDimensions(c,u)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let c=0,u=4,d=0;const p=this.mappingBitMatrix.getHeight(),v=this.mappingBitMatrix.getWidth();let A=!1,N=!1,D=!1,B=!1;do if(u===p&&d===0&&!A)s[c++]=this.readCorner1(p,v)&255,u-=2,d+=2,A=!0;else if(u===p-2&&d===0&&(v&3)!==0&&!N)s[c++]=this.readCorner2(p,v)&255,u-=2,d+=2,N=!0;else if(u===p+4&&d===2&&(v&7)===0&&!D)s[c++]=this.readCorner3(p,v)&255,u-=2,d+=2,D=!0;else if(u===p-2&&d===0&&(v&7)===4&&!B)s[c++]=this.readCorner4(p,v)&255,u-=2,d+=2,B=!0;else{do u<p&&d>=0&&!this.readMappingMatrix.get(d,u)&&(s[c++]=this.readUtah(u,d,p,v)&255),u-=2,d+=2;while(u>=0&&d<v);u+=1,d+=3;do u>=0&&d<v&&!this.readMappingMatrix.get(d,u)&&(s[c++]=this.readUtah(u,d,p,v)&255),u+=2,d-=2;while(u<p&&d>=0);u+=3,d+=1}while(u<p||d<v);if(c!==this.version.getTotalCodewords())throw new Y;return s}readModule(s,c,u,d){return s<0&&(s+=u,c+=4-(u+4&7)),c<0&&(c+=d,s+=4-(d+4&7)),this.readMappingMatrix.set(c,s),this.mappingBitMatrix.get(c,s)}readUtah(s,c,u,d){let p=0;return this.readModule(s-2,c-2,u,d)&&(p|=1),p<<=1,this.readModule(s-2,c-1,u,d)&&(p|=1),p<<=1,this.readModule(s-1,c-2,u,d)&&(p|=1),p<<=1,this.readModule(s-1,c-1,u,d)&&(p|=1),p<<=1,this.readModule(s-1,c,u,d)&&(p|=1),p<<=1,this.readModule(s,c-2,u,d)&&(p|=1),p<<=1,this.readModule(s,c-1,u,d)&&(p|=1),p<<=1,this.readModule(s,c,u,d)&&(p|=1),p}readCorner1(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,1,s,c)&&(u|=1),u<<=1,this.readModule(s-1,2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}readCorner2(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-4,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner3(s,c){let u=0;return this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(0,c-3,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-3,s,c)&&(u|=1),u<<=1,this.readModule(1,c-2,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u}readCorner4(s,c){let u=0;return this.readModule(s-3,0,s,c)&&(u|=1),u<<=1,this.readModule(s-2,0,s,c)&&(u|=1),u<<=1,this.readModule(s-1,0,s,c)&&(u|=1),u<<=1,this.readModule(0,c-2,s,c)&&(u|=1),u<<=1,this.readModule(0,c-1,s,c)&&(u|=1),u<<=1,this.readModule(1,c-1,s,c)&&(u|=1),u<<=1,this.readModule(2,c-1,s,c)&&(u|=1),u<<=1,this.readModule(3,c-1,s,c)&&(u|=1),u}extractDataRegion(s){const c=this.version.getSymbolSizeRows(),u=this.version.getSymbolSizeColumns();if(s.getHeight()!==c)throw new T("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),v=c/d|0,A=u/p|0,N=v*d,D=A*p,B=new Ce(D,N);for(let J=0;J<v;++J){const ne=J*d;for(let be=0;be<A;++be){const Le=be*p;for(let je=0;je<d;++je){const Xe=J*(d+2)+1+je,st=ne+je;for(let mt=0;mt<p;++mt){const xt=be*(p+2)+1+mt;if(s.get(xt,Xe)){const gt=Le+mt;B.set(gt,st)}}}}}return B}}class Ri{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c){const u=c.getECBlocks();let d=0;const p=u.getECBlocks();for(let je of p)d+=je.getCount();const v=new Array(d);let A=0;for(let je of p)for(let Xe=0;Xe<je.getCount();Xe++){const st=je.getDataCodewords(),mt=u.getECCodewords()+st;v[A++]=new Ri(st,new Uint8Array(mt))}const D=v[0].codewords.length-u.getECCodewords(),B=D-1;let J=0;for(let je=0;je<B;je++)for(let Xe=0;Xe<A;Xe++)v[Xe].codewords[je]=s[J++];const ne=c.getVersionNumber()===24,be=ne?8:A;for(let je=0;je<be;je++)v[je].codewords[D-1]=s[J++];const Le=v[0].codewords.length;for(let je=D;je<Le;je++)for(let Xe=0;Xe<A;Xe++){const st=ne?(Xe+8)%A:Xe,mt=ne&&st>7?je-1:je;v[st].codewords[mt]=s[J++]}if(J!==s.length)throw new T;return v}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ti{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new T(""+s);let c=0,u=this.bitOffset,d=this.byteOffset;const p=this.bytes;if(u>0){const v=8-u,A=s<v?s:v,N=v-A,D=255>>8-A<<N;c=(p[d]&D)>>N,s-=A,u+=A,u===8&&(u=0,d++)}if(s>0){for(;s>=8;)c=c<<8|p[d]&255,d++,s-=8;if(s>0){const v=8-s,A=255>>v<<v;c=c<<s|(p[d]&A)>>v,u+=s}}return this.bitOffset=u,this.byteOffset=d,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yn;(function(Q){Q[Q.PAD_ENCODE=0]="PAD_ENCODE",Q[Q.ASCII_ENCODE=1]="ASCII_ENCODE",Q[Q.C40_ENCODE=2]="C40_ENCODE",Q[Q.TEXT_ENCODE=3]="TEXT_ENCODE",Q[Q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Q[Q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Q[Q.BASE256_ENCODE=6]="BASE256_ENCODE"})(yn||(yn={}));class Qi{static decode(s){const c=new ti(s),u=new H,d=new H,p=new Array;let v=yn.ASCII_ENCODE;do if(v===yn.ASCII_ENCODE)v=this.decodeAsciiSegment(c,u,d);else{switch(v){case yn.C40_ENCODE:this.decodeC40Segment(c,u);break;case yn.TEXT_ENCODE:this.decodeTextSegment(c,u);break;case yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,u);break;case yn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,u);break;case yn.BASE256_ENCODE:this.decodeBase256Segment(c,u,p);break;default:throw new Y}v=yn.ASCII_ENCODE}while(v!==yn.PAD_ENCODE&&c.available()>0);return d.length()>0&&u.append(d.toString()),new Fe(s,u.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(s,c,u){let d=!1;do{let p=s.readBits(8);if(p===0)throw new Y;if(p<=128)return d&&(p+=128),c.append(String.fromCharCode(p-1)),yn.ASCII_ENCODE;if(p===129)return yn.PAD_ENCODE;if(p<=229){const v=p-130;v<10&&c.append("0"),c.append(""+v)}else switch(p){case 230:return yn.C40_ENCODE;case 231:return yn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:c.append("[)>05"),u.insert(0,"");break;case 237:c.append("[)>06"),u.insert(0,"");break;case 238:return yn.ANSIX12_ENCODE;case 239:return yn.TEXT_ENCODE;case 240:return yn.EDIFACT_ENCODE;case 241:break;default:if(p!==254||s.available()!==0)throw new Y;break}}while(s.available()>0);return yn.ASCII_ENCODE}static decodeC40Segment(s,c){let u=!1;const d=[];let p=0;do{if(s.available()===8)return;const v=s.readBits(8);if(v===254)return;this.parseTwoBytes(v,s.readBits(8),d);for(let A=0;A<3;A++){const N=d[A];switch(p){case 0:if(N<3)p=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const D=this.C40_BASIC_SET_CHARS[N];u?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),u=!1):c.append(D)}else throw new Y;break;case 1:u?(c.append(String.fromCharCode(N+128)),u=!1):c.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const D=this.C40_SHIFT2_SET_CHARS[N];u?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),u=!1):c.append(D)}else switch(N){case 27:c.append("");break;case 30:u=!0;break;default:throw new Y}p=0;break;case 3:u?(c.append(String.fromCharCode(N+224)),u=!1):c.append(String.fromCharCode(N+96)),p=0;break;default:throw new Y}}}while(s.available()>0)}static decodeTextSegment(s,c){let u=!1,d=[],p=0;do{if(s.available()===8)return;const v=s.readBits(8);if(v===254)return;this.parseTwoBytes(v,s.readBits(8),d);for(let A=0;A<3;A++){const N=d[A];switch(p){case 0:if(N<3)p=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const D=this.TEXT_BASIC_SET_CHARS[N];u?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),u=!1):c.append(D)}else throw new Y;break;case 1:u?(c.append(String.fromCharCode(N+128)),u=!1):c.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const D=this.TEXT_SHIFT2_SET_CHARS[N];u?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),u=!1):c.append(D)}else switch(N){case 27:c.append("");break;case 30:u=!0;break;default:throw new Y}p=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const D=this.TEXT_SHIFT3_SET_CHARS[N];u?(c.append(String.fromCharCode(D.charCodeAt(0)+128)),u=!1):c.append(D),p=0}else throw new Y;break;default:throw new Y}}}while(s.available()>0)}static decodeAnsiX12Segment(s,c){const u=[];do{if(s.available()===8)return;const d=s.readBits(8);if(d===254)return;this.parseTwoBytes(d,s.readBits(8),u);for(let p=0;p<3;p++){const v=u[p];switch(v){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(v<14)c.append(String.fromCharCode(v+44));else if(v<40)c.append(String.fromCharCode(v+51));else throw new Y;break}}}while(s.available()>0)}static parseTwoBytes(s,c,u){let d=(s<<8)+c-1,p=Math.floor(d/1600);u[0]=p,d-=p*1600,p=Math.floor(d/40),u[1]=p,u[2]=d-p*40}static decodeEdifactSegment(s,c){do{if(s.available()<=16)return;for(let u=0;u<4;u++){let d=s.readBits(6);if(d===31){const p=8-s.getBitOffset();p!==8&&s.readBits(p);return}(d&32)===0&&(d|=64),c.append(String.fromCharCode(d))}}while(s.available()>0)}static decodeBase256Segment(s,c,u){let d=1+s.getByteOffset();const p=this.unrandomize255State(s.readBits(8),d++);let v;if(p===0?v=s.available()/8|0:p<250?v=p:v=250*(p-249)+this.unrandomize255State(s.readBits(8),d++),v<0)throw new Y;const A=new Uint8Array(v);for(let N=0;N<v;N++){if(s.available()<8)throw new Y;A[N]=this.unrandomize255State(s.readBits(8),d++)}u.push(A);try{c.append(j.decode(A,U.ISO88591))}catch(N){throw new ae("Platform does not support required encoding: "+N.message)}}static unrandomize255State(s,c){const u=149*c%255+1,d=s-u;return d>=0?d:d+256}}Qi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Qi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Qi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Qi.TEXT_SHIFT2_SET_CHARS=Qi.C40_SHIFT2_SET_CHARS,Qi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class $s{constructor(){this.rsDecoder=new It(Ge.DATA_MATRIX_FIELD_256)}decode(s){const c=new ds(s),u=c.getVersion(),d=c.readCodewords(),p=Ri.getDataBlocks(d,u);let v=0;for(let D of p)v+=D.getNumDataCodewords();const A=new Uint8Array(v),N=p.length;for(let D=0;D<N;D++){const B=p[D],J=B.getCodewords(),ne=B.getNumDataCodewords();this.correctErrors(J,ne);for(let be=0;be<ne;be++)A[be*N+D]=J[be]}return Qi.decode(A)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new R}for(let d=0;d<c;d++)s[d]=u[d]}}class wn{constructor(s){this.image=s,this.rectangleDetector=new Ut(this.image)}detect(){const s=this.rectangleDetector.detect();let c=this.detectSolid1(s);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new xe;c=this.shiftToModuleCenter(c);const u=c[0],d=c[1],p=c[2],v=c[3];let A=this.transitionsBetween(u,v)+1,N=this.transitionsBetween(p,v)+1;(A&1)===1&&(A+=1),(N&1)===1&&(N+=1),4*A<7*N&&4*N<7*A&&(A=N=Math.max(A,N));let D=wn.sampleGrid(this.image,u,d,p,v,A,N);return new Dt(D,[u,d,p,v])}static shiftPoint(s,c,u){let d=(c.getX()-s.getX())/(u+1),p=(c.getY()-s.getY())/(u+1);return new Ye(s.getX()+d,s.getY()+p)}static moveAway(s,c,u){let d=s.getX(),p=s.getY();return d<c?d-=1:d+=1,p<u?p-=1:p+=1,new Ye(d,p)}detectSolid1(s){let c=s[0],u=s[1],d=s[3],p=s[2],v=this.transitionsBetween(c,u),A=this.transitionsBetween(u,d),N=this.transitionsBetween(d,p),D=this.transitionsBetween(p,c),B=v,J=[p,c,u,d];return B>A&&(B=A,J[0]=c,J[1]=u,J[2]=d,J[3]=p),B>N&&(B=N,J[0]=u,J[1]=d,J[2]=p,J[3]=c),B>D&&(J[0]=d,J[1]=p,J[2]=c,J[3]=u),J}detectSolid2(s){let c=s[0],u=s[1],d=s[2],p=s[3],v=this.transitionsBetween(c,p),A=wn.shiftPoint(u,d,(v+1)*4),N=wn.shiftPoint(d,u,(v+1)*4),D=this.transitionsBetween(A,c),B=this.transitionsBetween(N,p);return D<B?(s[0]=c,s[1]=u,s[2]=d,s[3]=p):(s[0]=u,s[1]=d,s[2]=p,s[3]=c),s}correctTopRight(s){let c=s[0],u=s[1],d=s[2],p=s[3],v=this.transitionsBetween(c,p),A=this.transitionsBetween(u,p),N=wn.shiftPoint(c,u,(A+1)*4),D=wn.shiftPoint(d,u,(v+1)*4);v=this.transitionsBetween(N,p),A=this.transitionsBetween(D,p);let B=new Ye(p.getX()+(d.getX()-u.getX())/(v+1),p.getY()+(d.getY()-u.getY())/(v+1)),J=new Ye(p.getX()+(c.getX()-u.getX())/(A+1),p.getY()+(c.getY()-u.getY())/(A+1));if(!this.isValid(B))return this.isValid(J)?J:null;if(!this.isValid(J))return B;let ne=this.transitionsBetween(N,B)+this.transitionsBetween(D,B),be=this.transitionsBetween(N,J)+this.transitionsBetween(D,J);return ne>be?B:J}shiftToModuleCenter(s){let c=s[0],u=s[1],d=s[2],p=s[3],v=this.transitionsBetween(c,p)+1,A=this.transitionsBetween(d,p)+1,N=wn.shiftPoint(c,u,A*4),D=wn.shiftPoint(d,u,v*4);v=this.transitionsBetween(N,p)+1,A=this.transitionsBetween(D,p)+1,(v&1)===1&&(v+=1),(A&1)===1&&(A+=1);let B=(c.getX()+u.getX()+d.getX()+p.getX())/4,J=(c.getY()+u.getY()+d.getY()+p.getY())/4;c=wn.moveAway(c,B,J),u=wn.moveAway(u,B,J),d=wn.moveAway(d,B,J),p=wn.moveAway(p,B,J);let ne,be;return N=wn.shiftPoint(c,u,A*4),N=wn.shiftPoint(N,p,v*4),ne=wn.shiftPoint(u,c,A*4),ne=wn.shiftPoint(ne,d,v*4),D=wn.shiftPoint(d,p,A*4),D=wn.shiftPoint(D,u,v*4),be=wn.shiftPoint(p,d,A*4),be=wn.shiftPoint(be,c,v*4),[N,ne,D,be]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,c,u,d,p,v,A){return gn.getInstance().sampleGrid(s,v,A,.5,.5,v-.5,.5,v-.5,A-.5,.5,A-.5,c.getX(),c.getY(),p.getX(),p.getY(),d.getX(),d.getY(),u.getX(),u.getY())}transitionsBetween(s,c){let u=Math.trunc(s.getX()),d=Math.trunc(s.getY()),p=Math.trunc(c.getX()),v=Math.trunc(c.getY()),A=Math.abs(v-d)>Math.abs(p-u);if(A){let je=u;u=d,d=je,je=p,p=v,v=je}let N=Math.abs(p-u),D=Math.abs(v-d),B=-N/2,J=d<v?1:-1,ne=u<p?1:-1,be=0,Le=this.image.get(A?d:u,A?u:d);for(let je=u,Xe=d;je!==p;je+=ne){let st=this.image.get(A?Xe:je,A?je:Xe);if(st!==Le&&(be++,Le=st),B+=D,B>0){if(Xe===v)break;Xe+=J,B-=N}}return be}}class ps{constructor(){this.decoder=new $s}decode(s,c=null){let u,d;if(c!=null&&c.has(ze.PURE_BARCODE)){const D=ps.extractPureBits(s.getBlackMatrix());u=this.decoder.decode(D),d=ps.NO_POINTS}else{const D=new wn(s.getBlackMatrix()).detect();u=this.decoder.decode(D.getBits()),d=D.getPoints()}const p=u.getRawBytes(),v=new ee(u.getText(),p,8*p.length,d,me.DATA_MATRIX,W.currentTimeMillis()),A=u.getByteSegments();A!=null&&v.putMetadata(Ie.BYTE_SEGMENTS,A);const N=u.getECLevel();return N!=null&&v.putMetadata(Ie.ERROR_CORRECTION_LEVEL,N),v}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c==null||u==null)throw new xe;const d=this.moduleSize(c,s);let p=c[1];const v=u[1];let A=c[0];const D=(u[0]-A+1)/d,B=(v-p+1)/d;if(D<=0||B<=0)throw new xe;const J=d/2;p+=J,A+=J;const ne=new Ce(D,B);for(let be=0;be<B;be++){const Le=p+be*d;for(let je=0;je<D;je++)s.get(A+je*d,Le)&&ne.set(je,be)}return ne}static moduleSize(s,c){const u=c.getWidth();let d=s[0];const p=s[1];for(;d<u&&c.get(d,p);)d++;if(d===u)throw new xe;const v=d-s[0];if(v===0)throw new xe;return v}}ps.NO_POINTS=[];class bi extends le{constructor(s=500){super(new ps,s)}}var Nr;(function(Q){Q[Q.L=0]="L",Q[Q.M=1]="M",Q[Q.Q=2]="Q",Q[Q.H=3]="H"})(Nr||(Nr={}));class Dn{constructor(s,c,u){this.value=s,this.stringValue=c,this.bits=u,Dn.FOR_BITS.set(u,this),Dn.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return Dn.L;case"M":return Dn.M;case"Q":return Dn.Q;case"H":return Dn.H;default:throw new b(s+"not available")}}toString(){return this.stringValue}equals(s){if(!(s instanceof Dn))return!1;const c=s;return this.value===c.value}static forBits(s){if(s<0||s>=Dn.FOR_BITS.size)throw new T;return Dn.FOR_BITS.get(s)}}Dn.FOR_BITS=new Map,Dn.FOR_VALUE=new Map,Dn.L=new Dn(Nr.L,"L",1),Dn.M=new Dn(Nr.M,"M",0),Dn.Q=new Dn(Nr.Q,"Q",3),Dn.H=new Dn(Nr.H,"H",2);class ni{constructor(s){this.errorCorrectionLevel=Dn.forBits(s>>3&3),this.dataMask=s&7}static numBitsDiffering(s,c){return ue.bitCount(s^c)}static decodeFormatInformation(s,c){const u=ni.doDecodeFormatInformation(s,c);return u!==null?u:ni.doDecodeFormatInformation(s^ni.FORMAT_INFO_MASK_QR,c^ni.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,c){let u=Number.MAX_SAFE_INTEGER,d=0;for(const p of ni.FORMAT_INFO_DECODE_LOOKUP){const v=p[0];if(v===s||v===c)return new ni(p[1]);let A=ni.numBitsDiffering(s,v);A<u&&(d=p[1],u=A),s!==c&&(A=ni.numBitsDiffering(c,v),A<u&&(d=p[1],u=A))}return u<=3?new ni(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){if(!(s instanceof ni))return!1;const c=s;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}ni.FORMAT_INFO_MASK_QR=21522,ni.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class $e{constructor(s,...c){this.ecCodewordsPerBlock=s,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const c=this.ecBlocks;for(const u of c)s+=u.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ve{constructor(s,c){this.count=s,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class zt{constructor(s,c,...u){this.versionNumber=s,this.alignmentPatternCenters=c,this.ecBlocks=u;let d=0;const p=u[0].getECCodewordsPerBlock(),v=u[0].getECBlocks();for(const A of v)d+=A.getCount()*(A.getDataCodewords()+p);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!==1)throw new Y;try{return this.getVersionForNumber((s-17)/4)}catch{throw new Y}}static getVersionForNumber(s){if(s<1||s>40)throw new T;return zt.VERSIONS[s-1]}static decodeVersionInformation(s){let c=Number.MAX_SAFE_INTEGER,u=0;for(let d=0;d<zt.VERSION_DECODE_INFO.length;d++){const p=zt.VERSION_DECODE_INFO[d];if(p===s)return zt.getVersionForNumber(d+7);const v=ni.numBitsDiffering(s,p);v<c&&(u=d+7,c=v)}return c<=3?zt.getVersionForNumber(u):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),c=new Ce(s);c.setRegion(0,0,9,9),c.setRegion(s-8,0,8,9),c.setRegion(0,s-8,9,8);const u=this.alignmentPatternCenters.length;for(let d=0;d<u;d++){const p=this.alignmentPatternCenters[d]-2;for(let v=0;v<u;v++)d===0&&(v===0||v===u-1)||d===u-1&&v===0||c.setRegion(this.alignmentPatternCenters[v]-2,p,5,5)}return c.setRegion(6,9,1,s-17),c.setRegion(9,6,s-17,1),this.versionNumber>6&&(c.setRegion(s-11,0,3,6),c.setRegion(0,s-11,6,3)),c}toString(){return""+this.versionNumber}}zt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),zt.VERSIONS=[new zt(1,new Int32Array(0),new $e(7,new ve(1,19)),new $e(10,new ve(1,16)),new $e(13,new ve(1,13)),new $e(17,new ve(1,9))),new zt(2,Int32Array.from([6,18]),new $e(10,new ve(1,34)),new $e(16,new ve(1,28)),new $e(22,new ve(1,22)),new $e(28,new ve(1,16))),new zt(3,Int32Array.from([6,22]),new $e(15,new ve(1,55)),new $e(26,new ve(1,44)),new $e(18,new ve(2,17)),new $e(22,new ve(2,13))),new zt(4,Int32Array.from([6,26]),new $e(20,new ve(1,80)),new $e(18,new ve(2,32)),new $e(26,new ve(2,24)),new $e(16,new ve(4,9))),new zt(5,Int32Array.from([6,30]),new $e(26,new ve(1,108)),new $e(24,new ve(2,43)),new $e(18,new ve(2,15),new ve(2,16)),new $e(22,new ve(2,11),new ve(2,12))),new zt(6,Int32Array.from([6,34]),new $e(18,new ve(2,68)),new $e(16,new ve(4,27)),new $e(24,new ve(4,19)),new $e(28,new ve(4,15))),new zt(7,Int32Array.from([6,22,38]),new $e(20,new ve(2,78)),new $e(18,new ve(4,31)),new $e(18,new ve(2,14),new ve(4,15)),new $e(26,new ve(4,13),new ve(1,14))),new zt(8,Int32Array.from([6,24,42]),new $e(24,new ve(2,97)),new $e(22,new ve(2,38),new ve(2,39)),new $e(22,new ve(4,18),new ve(2,19)),new $e(26,new ve(4,14),new ve(2,15))),new zt(9,Int32Array.from([6,26,46]),new $e(30,new ve(2,116)),new $e(22,new ve(3,36),new ve(2,37)),new $e(20,new ve(4,16),new ve(4,17)),new $e(24,new ve(4,12),new ve(4,13))),new zt(10,Int32Array.from([6,28,50]),new $e(18,new ve(2,68),new ve(2,69)),new $e(26,new ve(4,43),new ve(1,44)),new $e(24,new ve(6,19),new ve(2,20)),new $e(28,new ve(6,15),new ve(2,16))),new zt(11,Int32Array.from([6,30,54]),new $e(20,new ve(4,81)),new $e(30,new ve(1,50),new ve(4,51)),new $e(28,new ve(4,22),new ve(4,23)),new $e(24,new ve(3,12),new ve(8,13))),new zt(12,Int32Array.from([6,32,58]),new $e(24,new ve(2,92),new ve(2,93)),new $e(22,new ve(6,36),new ve(2,37)),new $e(26,new ve(4,20),new ve(6,21)),new $e(28,new ve(7,14),new ve(4,15))),new zt(13,Int32Array.from([6,34,62]),new $e(26,new ve(4,107)),new $e(22,new ve(8,37),new ve(1,38)),new $e(24,new ve(8,20),new ve(4,21)),new $e(22,new ve(12,11),new ve(4,12))),new zt(14,Int32Array.from([6,26,46,66]),new $e(30,new ve(3,115),new ve(1,116)),new $e(24,new ve(4,40),new ve(5,41)),new $e(20,new ve(11,16),new ve(5,17)),new $e(24,new ve(11,12),new ve(5,13))),new zt(15,Int32Array.from([6,26,48,70]),new $e(22,new ve(5,87),new ve(1,88)),new $e(24,new ve(5,41),new ve(5,42)),new $e(30,new ve(5,24),new ve(7,25)),new $e(24,new ve(11,12),new ve(7,13))),new zt(16,Int32Array.from([6,26,50,74]),new $e(24,new ve(5,98),new ve(1,99)),new $e(28,new ve(7,45),new ve(3,46)),new $e(24,new ve(15,19),new ve(2,20)),new $e(30,new ve(3,15),new ve(13,16))),new zt(17,Int32Array.from([6,30,54,78]),new $e(28,new ve(1,107),new ve(5,108)),new $e(28,new ve(10,46),new ve(1,47)),new $e(28,new ve(1,22),new ve(15,23)),new $e(28,new ve(2,14),new ve(17,15))),new zt(18,Int32Array.from([6,30,56,82]),new $e(30,new ve(5,120),new ve(1,121)),new $e(26,new ve(9,43),new ve(4,44)),new $e(28,new ve(17,22),new ve(1,23)),new $e(28,new ve(2,14),new ve(19,15))),new zt(19,Int32Array.from([6,30,58,86]),new $e(28,new ve(3,113),new ve(4,114)),new $e(26,new ve(3,44),new ve(11,45)),new $e(26,new ve(17,21),new ve(4,22)),new $e(26,new ve(9,13),new ve(16,14))),new zt(20,Int32Array.from([6,34,62,90]),new $e(28,new ve(3,107),new ve(5,108)),new $e(26,new ve(3,41),new ve(13,42)),new $e(30,new ve(15,24),new ve(5,25)),new $e(28,new ve(15,15),new ve(10,16))),new zt(21,Int32Array.from([6,28,50,72,94]),new $e(28,new ve(4,116),new ve(4,117)),new $e(26,new ve(17,42)),new $e(28,new ve(17,22),new ve(6,23)),new $e(30,new ve(19,16),new ve(6,17))),new zt(22,Int32Array.from([6,26,50,74,98]),new $e(28,new ve(2,111),new ve(7,112)),new $e(28,new ve(17,46)),new $e(30,new ve(7,24),new ve(16,25)),new $e(24,new ve(34,13))),new zt(23,Int32Array.from([6,30,54,78,102]),new $e(30,new ve(4,121),new ve(5,122)),new $e(28,new ve(4,47),new ve(14,48)),new $e(30,new ve(11,24),new ve(14,25)),new $e(30,new ve(16,15),new ve(14,16))),new zt(24,Int32Array.from([6,28,54,80,106]),new $e(30,new ve(6,117),new ve(4,118)),new $e(28,new ve(6,45),new ve(14,46)),new $e(30,new ve(11,24),new ve(16,25)),new $e(30,new ve(30,16),new ve(2,17))),new zt(25,Int32Array.from([6,32,58,84,110]),new $e(26,new ve(8,106),new ve(4,107)),new $e(28,new ve(8,47),new ve(13,48)),new $e(30,new ve(7,24),new ve(22,25)),new $e(30,new ve(22,15),new ve(13,16))),new zt(26,Int32Array.from([6,30,58,86,114]),new $e(28,new ve(10,114),new ve(2,115)),new $e(28,new ve(19,46),new ve(4,47)),new $e(28,new ve(28,22),new ve(6,23)),new $e(30,new ve(33,16),new ve(4,17))),new zt(27,Int32Array.from([6,34,62,90,118]),new $e(30,new ve(8,122),new ve(4,123)),new $e(28,new ve(22,45),new ve(3,46)),new $e(30,new ve(8,23),new ve(26,24)),new $e(30,new ve(12,15),new ve(28,16))),new zt(28,Int32Array.from([6,26,50,74,98,122]),new $e(30,new ve(3,117),new ve(10,118)),new $e(28,new ve(3,45),new ve(23,46)),new $e(30,new ve(4,24),new ve(31,25)),new $e(30,new ve(11,15),new ve(31,16))),new zt(29,Int32Array.from([6,30,54,78,102,126]),new $e(30,new ve(7,116),new ve(7,117)),new $e(28,new ve(21,45),new ve(7,46)),new $e(30,new ve(1,23),new ve(37,24)),new $e(30,new ve(19,15),new ve(26,16))),new zt(30,Int32Array.from([6,26,52,78,104,130]),new $e(30,new ve(5,115),new ve(10,116)),new $e(28,new ve(19,47),new ve(10,48)),new $e(30,new ve(15,24),new ve(25,25)),new $e(30,new ve(23,15),new ve(25,16))),new zt(31,Int32Array.from([6,30,56,82,108,134]),new $e(30,new ve(13,115),new ve(3,116)),new $e(28,new ve(2,46),new ve(29,47)),new $e(30,new ve(42,24),new ve(1,25)),new $e(30,new ve(23,15),new ve(28,16))),new zt(32,Int32Array.from([6,34,60,86,112,138]),new $e(30,new ve(17,115)),new $e(28,new ve(10,46),new ve(23,47)),new $e(30,new ve(10,24),new ve(35,25)),new $e(30,new ve(19,15),new ve(35,16))),new zt(33,Int32Array.from([6,30,58,86,114,142]),new $e(30,new ve(17,115),new ve(1,116)),new $e(28,new ve(14,46),new ve(21,47)),new $e(30,new ve(29,24),new ve(19,25)),new $e(30,new ve(11,15),new ve(46,16))),new zt(34,Int32Array.from([6,34,62,90,118,146]),new $e(30,new ve(13,115),new ve(6,116)),new $e(28,new ve(14,46),new ve(23,47)),new $e(30,new ve(44,24),new ve(7,25)),new $e(30,new ve(59,16),new ve(1,17))),new zt(35,Int32Array.from([6,30,54,78,102,126,150]),new $e(30,new ve(12,121),new ve(7,122)),new $e(28,new ve(12,47),new ve(26,48)),new $e(30,new ve(39,24),new ve(14,25)),new $e(30,new ve(22,15),new ve(41,16))),new zt(36,Int32Array.from([6,24,50,76,102,128,154]),new $e(30,new ve(6,121),new ve(14,122)),new $e(28,new ve(6,47),new ve(34,48)),new $e(30,new ve(46,24),new ve(10,25)),new $e(30,new ve(2,15),new ve(64,16))),new zt(37,Int32Array.from([6,28,54,80,106,132,158]),new $e(30,new ve(17,122),new ve(4,123)),new $e(28,new ve(29,46),new ve(14,47)),new $e(30,new ve(49,24),new ve(10,25)),new $e(30,new ve(24,15),new ve(46,16))),new zt(38,Int32Array.from([6,32,58,84,110,136,162]),new $e(30,new ve(4,122),new ve(18,123)),new $e(28,new ve(13,46),new ve(32,47)),new $e(30,new ve(48,24),new ve(14,25)),new $e(30,new ve(42,15),new ve(32,16))),new zt(39,Int32Array.from([6,26,54,82,110,138,166]),new $e(30,new ve(20,117),new ve(4,118)),new $e(28,new ve(40,47),new ve(7,48)),new $e(30,new ve(43,24),new ve(22,25)),new $e(30,new ve(10,15),new ve(67,16))),new zt(40,Int32Array.from([6,30,58,86,114,142,170]),new $e(30,new ve(19,118),new ve(6,119)),new $e(28,new ve(18,47),new ve(31,48)),new $e(30,new ve(34,24),new ve(34,25)),new $e(30,new ve(20,15),new ve(61,16)))];var ri;(function(Q){Q[Q.DATA_MASK_000=0]="DATA_MASK_000",Q[Q.DATA_MASK_001=1]="DATA_MASK_001",Q[Q.DATA_MASK_010=2]="DATA_MASK_010",Q[Q.DATA_MASK_011=3]="DATA_MASK_011",Q[Q.DATA_MASK_100=4]="DATA_MASK_100",Q[Q.DATA_MASK_101=5]="DATA_MASK_101",Q[Q.DATA_MASK_110=6]="DATA_MASK_110",Q[Q.DATA_MASK_111=7]="DATA_MASK_111"})(ri||(ri={}));class gi{constructor(s,c){this.value=s,this.isMasked=c}unmaskBitMatrix(s,c){for(let u=0;u<c;u++)for(let d=0;d<c;d++)this.isMasked(u,d)&&s.flip(d,u)}}gi.values=new Map([[ri.DATA_MASK_000,new gi(ri.DATA_MASK_000,(Q,s)=>(Q+s&1)===0)],[ri.DATA_MASK_001,new gi(ri.DATA_MASK_001,(Q,s)=>(Q&1)===0)],[ri.DATA_MASK_010,new gi(ri.DATA_MASK_010,(Q,s)=>s%3===0)],[ri.DATA_MASK_011,new gi(ri.DATA_MASK_011,(Q,s)=>(Q+s)%3===0)],[ri.DATA_MASK_100,new gi(ri.DATA_MASK_100,(Q,s)=>(Math.floor(Q/2)+Math.floor(s/3)&1)===0)],[ri.DATA_MASK_101,new gi(ri.DATA_MASK_101,(Q,s)=>Q*s%6===0)],[ri.DATA_MASK_110,new gi(ri.DATA_MASK_110,(Q,s)=>Q*s%6<3)],[ri.DATA_MASK_111,new gi(ri.DATA_MASK_111,(Q,s)=>(Q+s+Q*s%3&1)===0)]]);class Ui{constructor(s){const c=s.getHeight();if(c<21||(c&3)!==1)throw new Y;this.bitMatrix=s}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let s=0;for(let p=0;p<6;p++)s=this.copyBit(p,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let p=5;p>=0;p--)s=this.copyBit(8,p,s);const c=this.bitMatrix.getHeight();let u=0;const d=c-7;for(let p=c-1;p>=d;p--)u=this.copyBit(8,p,u);for(let p=c-8;p<c;p++)u=this.copyBit(p,8,u);if(this.parsedFormatInfo=ni.decodeFormatInformation(s,u),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const s=this.bitMatrix.getHeight(),c=Math.floor((s-17)/4);if(c<=6)return zt.getVersionForNumber(c);let u=0;const d=s-11;for(let v=5;v>=0;v--)for(let A=s-9;A>=d;A--)u=this.copyBit(A,v,u);let p=zt.decodeVersionInformation(u);if(p!==null&&p.getDimensionForVersion()===s)return this.parsedVersion=p,p;u=0;for(let v=5;v>=0;v--)for(let A=s-9;A>=d;A--)u=this.copyBit(v,A,u);if(p=zt.decodeVersionInformation(u),p!==null&&p.getDimensionForVersion()===s)return this.parsedVersion=p,p;throw new Y}copyBit(s,c,u){return(this.isMirror?this.bitMatrix.get(c,s):this.bitMatrix.get(s,c))?u<<1|1:u<<1}readCodewords(){const s=this.readFormatInformation(),c=this.readVersion(),u=gi.values.get(s.getDataMask()),d=this.bitMatrix.getHeight();u.unmaskBitMatrix(this.bitMatrix,d);const p=c.buildFunctionPattern();let v=!0;const A=new Uint8Array(c.getTotalCodewords());let N=0,D=0,B=0;for(let J=d-1;J>0;J-=2){J===6&&J--;for(let ne=0;ne<d;ne++){const be=v?d-1-ne:ne;for(let Le=0;Le<2;Le++)p.get(J-Le,be)||(B++,D<<=1,this.bitMatrix.get(J-Le,be)&&(D|=1),B===8&&(A[N++]=D,B=0,D=0))}v=!v}if(N!==c.getTotalCodewords())throw new Y;return A}remask(){if(this.parsedFormatInfo===null)return;const s=gi.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,c)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let c=0,u=s.getWidth();c<u;c++)for(let d=c+1,p=s.getHeight();d<p;d++)s.get(c,d)!==s.get(d,c)&&(s.flip(d,c),s.flip(c,d))}}class Ta{constructor(s,c){this.numDataCodewords=s,this.codewords=c}static getDataBlocks(s,c,u){if(s.length!==c.getTotalCodewords())throw new T;const d=c.getECBlocksForLevel(u);let p=0;const v=d.getECBlocks();for(const Le of v)p+=Le.getCount();const A=new Array(p);let N=0;for(const Le of v)for(let je=0;je<Le.getCount();je++){const Xe=Le.getDataCodewords(),st=d.getECCodewordsPerBlock()+Xe;A[N++]=new Ta(Xe,new Uint8Array(st))}const D=A[0].codewords.length;let B=A.length-1;for(;B>=0&&A[B].codewords.length!==D;)B--;B++;const J=D-d.getECCodewordsPerBlock();let ne=0;for(let Le=0;Le<J;Le++)for(let je=0;je<N;je++)A[je].codewords[Le]=s[ne++];for(let Le=B;Le<N;Le++)A[Le].codewords[J]=s[ne++];const be=A[0].codewords.length;for(let Le=J;Le<be;Le++)for(let je=0;je<N;je++){const Xe=je<B?Le:Le+1;A[je].codewords[Xe]=s[ne++]}return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ji;(function(Q){Q[Q.TERMINATOR=0]="TERMINATOR",Q[Q.NUMERIC=1]="NUMERIC",Q[Q.ALPHANUMERIC=2]="ALPHANUMERIC",Q[Q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Q[Q.BYTE=4]="BYTE",Q[Q.ECI=5]="ECI",Q[Q.KANJI=6]="KANJI",Q[Q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Q[Q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Q[Q.HANZI=9]="HANZI"})(Ji||(Ji={}));class cn{constructor(s,c,u,d){this.value=s,this.stringValue=c,this.characterCountBitsForVersions=u,this.bits=d,cn.FOR_BITS.set(d,this),cn.FOR_VALUE.set(s,this)}static forBits(s){const c=cn.FOR_BITS.get(s);if(c===void 0)throw new T;return c}getCharacterCountBits(s){const c=s.getVersionNumber();let u;return c<=9?u=0:c<=26?u=1:u=2,this.characterCountBitsForVersions[u]}getValue(){return this.value}getBits(){return this.bits}equals(s){if(!(s instanceof cn))return!1;const c=s;return this.value===c.value}toString(){return this.stringValue}}cn.FOR_BITS=new Map,cn.FOR_VALUE=new Map,cn.TERMINATOR=new cn(Ji.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),cn.NUMERIC=new cn(Ji.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),cn.ALPHANUMERIC=new cn(Ji.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),cn.STRUCTURED_APPEND=new cn(Ji.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),cn.BYTE=new cn(Ji.BYTE,"BYTE",Int32Array.from([8,16,16]),4),cn.ECI=new cn(Ji.ECI,"ECI",Int32Array.from([0,0,0]),7),cn.KANJI=new cn(Ji.KANJI,"KANJI",Int32Array.from([8,10,12]),8),cn.FNC1_FIRST_POSITION=new cn(Ji.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),cn.FNC1_SECOND_POSITION=new cn(Ji.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),cn.HANZI=new cn(Ji.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tr{static decode(s,c,u,d){const p=new ti(s);let v=new H;const A=new Array;let N=-1,D=-1;try{let B=null,J=!1,ne;do{if(p.available()<4)ne=cn.TERMINATOR;else{const be=p.readBits(4);ne=cn.forBits(be)}switch(ne){case cn.TERMINATOR:break;case cn.FNC1_FIRST_POSITION:case cn.FNC1_SECOND_POSITION:J=!0;break;case cn.STRUCTURED_APPEND:if(p.available()<16)throw new Y;N=p.readBits(8),D=p.readBits(8);break;case cn.ECI:const be=Tr.parseECIValue(p);if(B=P.getCharacterSetECIByValue(be),B===null)throw new Y;break;case cn.HANZI:const Le=p.readBits(4),je=p.readBits(ne.getCharacterCountBits(c));Le===Tr.GB2312_SUBSET&&Tr.decodeHanziSegment(p,v,je);break;default:const Xe=p.readBits(ne.getCharacterCountBits(c));switch(ne){case cn.NUMERIC:Tr.decodeNumericSegment(p,v,Xe);break;case cn.ALPHANUMERIC:Tr.decodeAlphanumericSegment(p,v,Xe,J);break;case cn.BYTE:Tr.decodeByteSegment(p,v,Xe,B,A,d);break;case cn.KANJI:Tr.decodeKanjiSegment(p,v,Xe);break;default:throw new Y}break}}while(ne!==cn.TERMINATOR)}catch{throw new Y}return new Fe(s,v.toString(),A.length===0?null:A,u===null?null:u.toString(),N,D)}static decodeHanziSegment(s,c,u){if(u*13>s.available())throw new Y;const d=new Uint8Array(2*u);let p=0;for(;u>0;){const v=s.readBits(13);let A=v/96<<8&4294967295|v%96;A<959?A+=41377:A+=42657,d[p]=A>>8&255,d[p+1]=A&255,p+=2,u--}try{c.append(j.decode(d,U.GB2312))}catch(v){throw new Y(v)}}static decodeKanjiSegment(s,c,u){if(u*13>s.available())throw new Y;const d=new Uint8Array(2*u);let p=0;for(;u>0;){const v=s.readBits(13);let A=v/192<<8&4294967295|v%192;A<7936?A+=33088:A+=49472,d[p]=A>>8,d[p+1]=A,p+=2,u--}try{c.append(j.decode(d,U.SHIFT_JIS))}catch(v){throw new Y(v)}}static decodeByteSegment(s,c,u,d,p,v){if(8*u>s.available())throw new Y;const A=new Uint8Array(u);for(let D=0;D<u;D++)A[D]=s.readBits(8);let N;d===null?N=U.guessEncoding(A,v):N=d.getName();try{c.append(j.decode(A,N))}catch(D){throw new Y(D)}p.push(A)}static toAlphaNumericChar(s){if(s>=Tr.ALPHANUMERIC_CHARS.length)throw new Y;return Tr.ALPHANUMERIC_CHARS[s]}static decodeAlphanumericSegment(s,c,u,d){const p=c.length();for(;u>1;){if(s.available()<11)throw new Y;const v=s.readBits(11);c.append(Tr.toAlphaNumericChar(Math.floor(v/45))),c.append(Tr.toAlphaNumericChar(v%45)),u-=2}if(u===1){if(s.available()<6)throw new Y;c.append(Tr.toAlphaNumericChar(s.readBits(6)))}if(d)for(let v=p;v<c.length();v++)c.charAt(v)==="%"&&(v<c.length()-1&&c.charAt(v+1)==="%"?c.deleteCharAt(v+1):c.setCharAt(v,""))}static decodeNumericSegment(s,c,u){for(;u>=3;){if(s.available()<10)throw new Y;const d=s.readBits(10);if(d>=1e3)throw new Y;c.append(Tr.toAlphaNumericChar(Math.floor(d/100))),c.append(Tr.toAlphaNumericChar(Math.floor(d/10)%10)),c.append(Tr.toAlphaNumericChar(d%10)),u-=3}if(u===2){if(s.available()<7)throw new Y;const d=s.readBits(7);if(d>=100)throw new Y;c.append(Tr.toAlphaNumericChar(Math.floor(d/10))),c.append(Tr.toAlphaNumericChar(d%10))}else if(u===1){if(s.available()<4)throw new Y;const d=s.readBits(4);if(d>=10)throw new Y;c.append(Tr.toAlphaNumericChar(d))}}static parseECIValue(s){const c=s.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const u=s.readBits(8);return(c&63)<<8&4294967295|u}if((c&224)===192){const u=s.readBits(16);return(c&31)<<16&4294967295|u}throw new Y}}Tr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tr.GB2312_SUBSET=1;class vo{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||s===null||s.length<3)return;const c=s[0];s[0]=s[2],s[2]=c}}class qa{constructor(){this.rsDecoder=new It(Ge.QR_CODE_FIELD_256)}decodeBooleanArray(s,c){return this.decodeBitMatrix(Ce.parseFromBooleanArray(s),c)}decodeBitMatrix(s,c){const u=new Ui(s);let d=null;try{return this.decodeBitMatrixParser(u,c)}catch(p){d=p}try{u.remask(),u.setMirror(!0),u.readVersion(),u.readFormatInformation(),u.mirror();const p=this.decodeBitMatrixParser(u,c);return p.setOther(new vo(!0)),p}catch(p){throw d!==null?d:p}}decodeBitMatrixParser(s,c){const u=s.readVersion(),d=s.readFormatInformation().getErrorCorrectionLevel(),p=s.readCodewords(),v=Ta.getDataBlocks(p,u,d);let A=0;for(const B of v)A+=B.getNumDataCodewords();const N=new Uint8Array(A);let D=0;for(const B of v){const J=B.getCodewords(),ne=B.getNumDataCodewords();this.correctErrors(J,ne);for(let be=0;be<ne;be++)N[D++]=J[be]}return Tr.decode(N,u,d,c)}correctErrors(s,c){const u=new Int32Array(s);try{this.rsDecoder.decode(u,s.length-c)}catch{throw new R}for(let d=0;d<c;d++)s[d]=u[d]}}class $i extends Ye{constructor(s,c,u){super(s,c),this.estimatedModuleSize=u}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const d=(this.getX()+c)/2,p=(this.getY()+s)/2,v=(this.estimatedModuleSize+u)/2;return new $i(d,p,v)}}class Is{constructor(s,c,u,d,p,v,A){this.image=s,this.startX=c,this.startY=u,this.width=d,this.height=p,this.moduleSize=v,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,c=this.height,u=this.width,d=s+u,p=this.startY+c/2,v=new Int32Array(3),A=this.image;for(let N=0;N<c;N++){const D=p+((N&1)===0?Math.floor((N+1)/2):-Math.floor((N+1)/2));v[0]=0,v[1]=0,v[2]=0;let B=s;for(;B<d&&!A.get(B,D);)B++;let J=0;for(;B<d;){if(A.get(B,D))if(J===1)v[1]++;else if(J===2){if(this.foundPatternCross(v)){const ne=this.handlePossibleCenter(v,D,B);if(ne!==null)return ne}v[0]=v[2],v[1]=1,v[2]=0,J=1}else v[++J]++;else J===1&&J++,v[J]++;B++}if(this.foundPatternCross(v)){const ne=this.handlePossibleCenter(v,D,d);if(ne!==null)return ne}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new xe}static centerFromEnd(s,c){return c-s[2]-s[1]/2}foundPatternCross(s){const c=this.moduleSize,u=c/2;for(let d=0;d<3;d++)if(Math.abs(c-s[d])>=u)return!1;return!0}crossCheckVertical(s,c,u,d){const p=this.image,v=p.getHeight(),A=this.crossCheckStateCount;A[0]=0,A[1]=0,A[2]=0;let N=s;for(;N>=0&&p.get(c,N)&&A[1]<=u;)A[1]++,N--;if(N<0||A[1]>u)return NaN;for(;N>=0&&!p.get(c,N)&&A[0]<=u;)A[0]++,N--;if(A[0]>u)return NaN;for(N=s+1;N<v&&p.get(c,N)&&A[1]<=u;)A[1]++,N++;if(N===v||A[1]>u)return NaN;for(;N<v&&!p.get(c,N)&&A[2]<=u;)A[2]++,N++;if(A[2]>u)return NaN;const D=A[0]+A[1]+A[2];return 5*Math.abs(D-d)>=2*d?NaN:this.foundPatternCross(A)?Is.centerFromEnd(A,N):NaN}handlePossibleCenter(s,c,u){const d=s[0]+s[1]+s[2],p=Is.centerFromEnd(s,u),v=this.crossCheckVertical(c,p,2*s[1],d);if(!isNaN(v)){const A=(s[0]+s[1]+s[2])/3;for(const D of this.possibleCenters)if(D.aboutEquals(A,v,p))return D.combineEstimate(v,p,A);const N=new $i(p,v,A);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class ga extends Ye{constructor(s,c,u,d){super(s,c),this.estimatedModuleSize=u,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,c,u){if(Math.abs(c-this.getY())<=s&&Math.abs(u-this.getX())<=s){const d=Math.abs(s-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(s,c,u){const d=this.count+1,p=(this.count*this.getX()+c)/d,v=(this.count*this.getY()+s)/d,A=(this.count*this.estimatedModuleSize+u)/d;return new ga(p,v,A,d)}}class Rs{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ur{constructor(s,c){this.image=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(s){const c=s!=null&&s.get(ze.TRY_HARDER)!==void 0,u=s!=null&&s.get(ze.PURE_BARCODE)!==void 0,d=this.image,p=d.getHeight(),v=d.getWidth();let A=Math.floor(3*p/(4*Ur.MAX_MODULES));(A<Ur.MIN_SKIP||c)&&(A=Ur.MIN_SKIP);let N=!1;const D=new Int32Array(5);for(let J=A-1;J<p&&!N;J+=A){D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0;let ne=0;for(let be=0;be<v;be++)if(d.get(be,J))(ne&1)===1&&ne++,D[ne]++;else if((ne&1)===0)if(ne===4)if(Ur.foundPatternCross(D)){if(this.handlePossibleCenter(D,J,be,u)===!0)if(A=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const je=this.findRowSkip();je>D[2]&&(J+=je-D[2]-A,be=v-1)}else{D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ne=3;continue}ne=0,D[0]=0,D[1]=0,D[2]=0,D[3]=0,D[4]=0}else D[0]=D[2],D[1]=D[3],D[2]=D[4],D[3]=1,D[4]=0,ne=3;else D[++ne]++;else D[ne]++;Ur.foundPatternCross(D)&&this.handlePossibleCenter(D,J,v,u)===!0&&(A=D[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return Ye.orderBestPatterns(B),new Rs(B)}static centerFromEnd(s,c){return c-s[4]-s[3]-s[2]/2}static foundPatternCross(s){let c=0;for(let p=0;p<5;p++){const v=s[p];if(v===0)return!1;c+=v}if(c<7)return!1;const u=c/7,d=u/2;return Math.abs(u-s[0])<d&&Math.abs(u-s[1])<d&&Math.abs(3*u-s[2])<3*d&&Math.abs(u-s[3])<d&&Math.abs(u-s[4])<d}getCrossCheckStateCount(){const s=this.crossCheckStateCount;return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s}crossCheckDiagonal(s,c,u,d){const p=this.getCrossCheckStateCount();let v=0;const A=this.image;for(;s>=v&&c>=v&&A.get(c-v,s-v);)p[2]++,v++;if(s<v||c<v)return!1;for(;s>=v&&c>=v&&!A.get(c-v,s-v)&&p[1]<=u;)p[1]++,v++;if(s<v||c<v||p[1]>u)return!1;for(;s>=v&&c>=v&&A.get(c-v,s-v)&&p[0]<=u;)p[0]++,v++;if(p[0]>u)return!1;const N=A.getHeight(),D=A.getWidth();for(v=1;s+v<N&&c+v<D&&A.get(c+v,s+v);)p[2]++,v++;if(s+v>=N||c+v>=D)return!1;for(;s+v<N&&c+v<D&&!A.get(c+v,s+v)&&p[3]<u;)p[3]++,v++;if(s+v>=N||c+v>=D||p[3]>=u)return!1;for(;s+v<N&&c+v<D&&A.get(c+v,s+v)&&p[4]<u;)p[4]++,v++;if(p[4]>=u)return!1;const B=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(B-d)<2*d&&Ur.foundPatternCross(p)}crossCheckVertical(s,c,u,d){const p=this.image,v=p.getHeight(),A=this.getCrossCheckStateCount();let N=s;for(;N>=0&&p.get(c,N);)A[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(c,N)&&A[1]<=u;)A[1]++,N--;if(N<0||A[1]>u)return NaN;for(;N>=0&&p.get(c,N)&&A[0]<=u;)A[0]++,N--;if(A[0]>u)return NaN;for(N=s+1;N<v&&p.get(c,N);)A[2]++,N++;if(N===v)return NaN;for(;N<v&&!p.get(c,N)&&A[3]<u;)A[3]++,N++;if(N===v||A[3]>=u)return NaN;for(;N<v&&p.get(c,N)&&A[4]<u;)A[4]++,N++;if(A[4]>=u)return NaN;const D=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(D-d)>=2*d?NaN:Ur.foundPatternCross(A)?Ur.centerFromEnd(A,N):NaN}crossCheckHorizontal(s,c,u,d){const p=this.image,v=p.getWidth(),A=this.getCrossCheckStateCount();let N=s;for(;N>=0&&p.get(N,c);)A[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(N,c)&&A[1]<=u;)A[1]++,N--;if(N<0||A[1]>u)return NaN;for(;N>=0&&p.get(N,c)&&A[0]<=u;)A[0]++,N--;if(A[0]>u)return NaN;for(N=s+1;N<v&&p.get(N,c);)A[2]++,N++;if(N===v)return NaN;for(;N<v&&!p.get(N,c)&&A[3]<u;)A[3]++,N++;if(N===v||A[3]>=u)return NaN;for(;N<v&&p.get(N,c)&&A[4]<u;)A[4]++,N++;if(A[4]>=u)return NaN;const D=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(D-d)>=d?NaN:Ur.foundPatternCross(A)?Ur.centerFromEnd(A,N):NaN}handlePossibleCenter(s,c,u,d){const p=s[0]+s[1]+s[2]+s[3]+s[4];let v=Ur.centerFromEnd(s,u),A=this.crossCheckVertical(c,Math.floor(v),s[2],p);if(!isNaN(A)&&(v=this.crossCheckHorizontal(Math.floor(v),Math.floor(A),s[2],p),!isNaN(v)&&(!d||this.crossCheckDiagonal(Math.floor(A),Math.floor(v),s[2],p)))){const N=p/7;let D=!1;const B=this.possibleCenters;for(let J=0,ne=B.length;J<ne;J++){const be=B[J];if(be.aboutEquals(N,A,v)){B[J]=be.combineEstimate(A,v,N),D=!0;break}}if(!D){const J=new ga(v,A,N);B.push(J),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(J)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const u of this.possibleCenters)if(u.getCount()>=Ur.CENTER_QUORUM)if(c==null)c=u;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-u.getX())-Math.abs(c.getY()-u.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let s=0,c=0;const u=this.possibleCenters.length;for(const v of this.possibleCenters)v.getCount()>=Ur.CENTER_QUORUM&&(s++,c+=v.getEstimatedModuleSize());if(s<3)return!1;const d=c/u;let p=0;for(const v of this.possibleCenters)p+=Math.abs(v.getEstimatedModuleSize()-d);return p<=.05*c}selectBestPatterns(){const s=this.possibleCenters.length;if(s<3)throw new xe;const c=this.possibleCenters;let u;if(s>3){let d=0,p=0;for(const N of this.possibleCenters){const D=N.getEstimatedModuleSize();d+=D,p+=D*D}u=d/s;let v=Math.sqrt(p/s-u*u);c.sort((N,D)=>{const B=Math.abs(D.getEstimatedModuleSize()-u),J=Math.abs(N.getEstimatedModuleSize()-u);return B<J?-1:B>J?1:0});const A=Math.max(.2*u,v);for(let N=0;N<c.length&&c.length>3;N++){const D=c[N];Math.abs(D.getEstimatedModuleSize()-u)>A&&(c.splice(N,1),N--)}}if(c.length>3){let d=0;for(const p of c)d+=p.getEstimatedModuleSize();u=d/c.length,c.sort((p,v)=>{if(v.getCount()===p.getCount()){const A=Math.abs(v.getEstimatedModuleSize()-u),N=Math.abs(p.getEstimatedModuleSize()-u);return A<N?1:A>N?-1:0}else return v.getCount()-p.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}Ur.CENTER_QUORUM=2,Ur.MIN_SKIP=3,Ur.MAX_MODULES=57;class un{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=s==null?null:s.get(ze.NEED_RESULT_POINT_CALLBACK);const u=new Ur(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(u)}processFinderPatternInfo(s){const c=s.getTopLeft(),u=s.getTopRight(),d=s.getBottomLeft(),p=this.calculateModuleSize(c,u,d);if(p<1)throw new xe("No pattern found in proccess finder.");const v=un.computeDimension(c,u,d,p),A=zt.getProvisionalVersionForDimension(v),N=A.getDimensionForVersion()-7;let D=null;if(A.getAlignmentPatternCenters().length>0){const be=u.getX()-c.getX()+d.getX(),Le=u.getY()-c.getY()+d.getY(),je=1-3/N,Xe=Math.floor(c.getX()+je*(be-c.getX())),st=Math.floor(c.getY()+je*(Le-c.getY()));for(let mt=4;mt<=16;mt<<=1)try{D=this.findAlignmentInRegion(p,Xe,st,mt);break}catch(xt){if(!(xt instanceof xe))throw xt}}const B=un.createTransform(c,u,d,D,v),J=un.sampleGrid(this.image,B,v);let ne;return D===null?ne=[d,c,u]:ne=[d,c,u,D],new Dt(J,ne)}static createTransform(s,c,u,d,p){const v=p-3.5;let A,N,D,B;return d!==null?(A=d.getX(),N=d.getY(),D=v-3,B=D):(A=c.getX()-s.getX()+u.getX(),N=c.getY()-s.getY()+u.getY(),D=v,B=v),Kt.quadrilateralToQuadrilateral(3.5,3.5,v,3.5,D,B,3.5,v,s.getX(),s.getY(),c.getX(),c.getY(),A,N,u.getX(),u.getY())}static sampleGrid(s,c,u){return gn.getInstance().sampleGridWithTransform(s,u,u,c)}static computeDimension(s,c,u,d){const p=Ae.round(Ye.distance(s,c)/d),v=Ae.round(Ye.distance(s,u)/d);let A=Math.floor((p+v)/2)+7;switch(A&3){case 0:A++;break;case 2:A--;break;case 3:throw new xe("Dimensions could be not found.")}return A}calculateModuleSize(s,c,u){return(this.calculateModuleSizeOneWay(s,c)+this.calculateModuleSizeOneWay(s,u))/2}calculateModuleSizeOneWay(s,c){const u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(c.getX()),Math.floor(c.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(u)?d/7:isNaN(d)?u/7:(u+d)/14}sizeOfBlackWhiteBlackRunBothWays(s,c,u,d){let p=this.sizeOfBlackWhiteBlackRun(s,c,u,d),v=1,A=s-(u-s);A<0?(v=s/(s-A),A=0):A>=this.image.getWidth()&&(v=(this.image.getWidth()-1-s)/(A-s),A=this.image.getWidth()-1);let N=Math.floor(c-(d-c)*v);return v=1,N<0?(v=c/(c-N),N=0):N>=this.image.getHeight()&&(v=(this.image.getHeight()-1-c)/(N-c),N=this.image.getHeight()-1),A=Math.floor(s+(A-s)*v),p+=this.sizeOfBlackWhiteBlackRun(s,c,A,N),p-1}sizeOfBlackWhiteBlackRun(s,c,u,d){const p=Math.abs(d-c)>Math.abs(u-s);if(p){let be=s;s=c,c=be,be=u,u=d,d=be}const v=Math.abs(u-s),A=Math.abs(d-c);let N=-v/2;const D=s<u?1:-1,B=c<d?1:-1;let J=0;const ne=u+D;for(let be=s,Le=c;be!==ne;be+=D){const je=p?Le:be,Xe=p?be:Le;if(J===1===this.image.get(je,Xe)){if(J===2)return Ae.distance(be,Le,s,c);J++}if(N+=A,N>0){if(Le===d)break;Le+=B,N-=v}}return J===2?Ae.distance(u+D,d,s,c):NaN}findAlignmentInRegion(s,c,u,d){const p=Math.floor(d*s),v=Math.max(0,c-p),A=Math.min(this.image.getWidth()-1,c+p);if(A-v<s*3)throw new xe("Alignment top exceeds estimated module size.");const N=Math.max(0,u-p),D=Math.min(this.image.getHeight()-1,u+p);if(D-N<s*3)throw new xe("Alignment bottom exceeds estimated module size.");return new Is(this.image,v,N,A-v,D-N,s,this.resultPointCallback).find()}}class Os{constructor(){this.decoder=new qa}getDecoder(){return this.decoder}decode(s,c){let u,d;if(c!=null&&c.get(ze.PURE_BARCODE)!==void 0){const N=Os.extractPureBits(s.getBlackMatrix());u=this.decoder.decodeBitMatrix(N,c),d=Os.NO_POINTS}else{const N=new un(s.getBlackMatrix()).detect(c);u=this.decoder.decodeBitMatrix(N.getBits(),c),d=N.getPoints()}u.getOther()instanceof vo&&u.getOther().applyMirroredCorrection(d);const p=new ee(u.getText(),u.getRawBytes(),void 0,d,me.QR_CODE,void 0),v=u.getByteSegments();v!==null&&p.putMetadata(Ie.BYTE_SEGMENTS,v);const A=u.getECLevel();return A!==null&&p.putMetadata(Ie.ERROR_CORRECTION_LEVEL,A),u.hasStructuredAppend()&&(p.putMetadata(Ie.STRUCTURED_APPEND_SEQUENCE,u.getStructuredAppendSequenceNumber()),p.putMetadata(Ie.STRUCTURED_APPEND_PARITY,u.getStructuredAppendParity())),p}reset(){}static extractPureBits(s){const c=s.getTopLeftOnBit(),u=s.getBottomRightOnBit();if(c===null||u===null)throw new xe;const d=this.moduleSize(c,s);let p=c[1],v=u[1],A=c[0],N=u[0];if(A>=N||p>=v)throw new xe;if(v-p!==N-A&&(N=A+(v-p),N>=s.getWidth()))throw new xe;const D=Math.round((N-A+1)/d),B=Math.round((v-p+1)/d);if(D<=0||B<=0)throw new xe;if(B!==D)throw new xe;const J=Math.floor(d/2);p+=J,A+=J;const ne=A+Math.floor((D-1)*d)-N;if(ne>0){if(ne>J)throw new xe;A-=ne}const be=p+Math.floor((B-1)*d)-v;if(be>0){if(be>J)throw new xe;p-=be}const Le=new Ce(D,B);for(let je=0;je<B;je++){const Xe=p+Math.floor(je*d);for(let st=0;st<D;st++)s.get(A+Math.floor(st*d),Xe)&&Le.set(st,je)}return Le}static moduleSize(s,c){const u=c.getHeight(),d=c.getWidth();let p=s[0],v=s[1],A=!0,N=0;for(;p<d&&v<u;){if(A!==c.get(p,v)){if(++N===5)break;A=!A}p++,v++}if(p===d||v===u)throw new xe;return(p-s[0])/7}}Os.NO_POINTS=new Array;class mn{PDF417Common(){}static getBitCountSum(s){return Ae.sum(s)}static toIntArray(s){if(s==null||!s.length)return mn.EMPTY_INT_ARRAY;const c=new Int32Array(s.length);let u=0;for(const d of s)c[u++]=d;return c}static getCodeword(s){const c=oe.binarySearch(mn.SYMBOL_TABLE,s&262143);return c<0?-1:(mn.CODEWORD_TABLE[c]-1)%mn.NUMBER_OF_CODEWORDS}}mn.NUMBER_OF_CODEWORDS=929,mn.MAX_CODEWORDS_IN_BARCODE=mn.NUMBER_OF_CODEWORDS-1,mn.MIN_ROWS_IN_BARCODE=3,mn.MAX_ROWS_IN_BARCODE=90,mn.MODULES_IN_CODEWORD=17,mn.MODULES_IN_STOP_PATTERN=18,mn.BARS_IN_MODULE=8,mn.EMPTY_INT_ARRAY=new Int32Array([]),mn.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),mn.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qa{constructor(s,c){this.bits=s,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class hn{static detectMultiple(s,c,u){let d=s.getBlackMatrix(),p=hn.detect(u,d);return p.length||(d=d.clone(),d.rotate180(),p=hn.detect(u,d)),new Qa(d,p)}static detect(s,c){const u=new Array;let d=0,p=0,v=!1;for(;d<c.getHeight();){const A=hn.findVertices(c,d,p);if(A[0]==null&&A[3]==null){if(!v)break;v=!1,p=0;for(const N of u)N[1]!=null&&(d=Math.trunc(Math.max(d,N[1].getY()))),N[3]!=null&&(d=Math.max(d,Math.trunc(N[3].getY())));d+=hn.ROW_STEP;continue}if(v=!0,u.push(A),!s)break;A[2]!=null?(p=Math.trunc(A[2].getX()),d=Math.trunc(A[2].getY())):(p=Math.trunc(A[4].getX()),d=Math.trunc(A[4].getY()))}return u}static findVertices(s,c,u){const d=s.getHeight(),p=s.getWidth(),v=new Array(8);return hn.copyToResult(v,hn.findRowsWithPattern(s,d,p,c,u,hn.START_PATTERN),hn.INDEXES_START_PATTERN),v[4]!=null&&(u=Math.trunc(v[4].getX()),c=Math.trunc(v[4].getY())),hn.copyToResult(v,hn.findRowsWithPattern(s,d,p,c,u,hn.STOP_PATTERN),hn.INDEXES_STOP_PATTERN),v}static copyToResult(s,c,u){for(let d=0;d<u.length;d++)s[u[d]]=c[d]}static findRowsWithPattern(s,c,u,d,p,v){const A=new Array(4);let N=!1;const D=new Int32Array(v.length);for(;d<c;d+=hn.ROW_STEP){let J=hn.findGuardPattern(s,p,d,u,!1,v,D);if(J!=null){for(;d>0;){const ne=hn.findGuardPattern(s,p,--d,u,!1,v,D);if(ne!=null)J=ne;else{d++;break}}A[0]=new Ye(J[0],d),A[1]=new Ye(J[1],d),N=!0;break}}let B=d+1;if(N){let J=0,ne=Int32Array.from([Math.trunc(A[0].getX()),Math.trunc(A[1].getX())]);for(;B<c;B++){const be=hn.findGuardPattern(s,ne[0],B,u,!1,v,D);if(be!=null&&Math.abs(ne[0]-be[0])<hn.MAX_PATTERN_DRIFT&&Math.abs(ne[1]-be[1])<hn.MAX_PATTERN_DRIFT)ne=be,J=0;else{if(J>hn.SKIPPED_ROW_COUNT_MAX)break;J++}}B-=J+1,A[2]=new Ye(ne[0],B),A[3]=new Ye(ne[1],B)}return B-d<hn.BARCODE_MIN_HEIGHT&&oe.fill(A,null),A}static findGuardPattern(s,c,u,d,p,v,A){oe.fillWithin(A,0,A.length,0);let N=c,D=0;for(;s.get(N,u)&&N>0&&D++<hn.MAX_PIXEL_DRIFT;)N--;let B=N,J=0,ne=v.length;for(let be=p;B<d;B++)if(s.get(B,u)!==be)A[J]++;else{if(J===ne-1){if(hn.patternMatchVariance(A,v,hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE)return new Int32Array([N,B]);N+=A[0]+A[1],W.arraycopy(A,2,A,0,J-1),A[J-1]=0,A[J]=0,J--}else J++;A[J]=1,be=!be}return J===ne-1&&hn.patternMatchVariance(A,v,hn.MAX_INDIVIDUAL_VARIANCE)<hn.MAX_AVG_VARIANCE?new Int32Array([N,B-1]):null}static patternMatchVariance(s,c,u){let d=s.length,p=0,v=0;for(let D=0;D<d;D++)p+=s[D],v+=c[D];if(p<v)return 1/0;let A=p/v;u*=A;let N=0;for(let D=0;D<d;D++){let B=s[D],J=c[D]*A,ne=B>J?B-J:J-B;if(ne>u)return 1/0;N+=ne}return N/p}}hn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),hn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),hn.MAX_AVG_VARIANCE=.42,hn.MAX_INDIVIDUAL_VARIANCE=.8,hn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),hn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),hn.MAX_PIXEL_DRIFT=3,hn.MAX_PATTERN_DRIFT=5,hn.SKIPPED_ROW_COUNT_MAX=25,hn.ROW_STEP=5,hn.BARCODE_MIN_HEIGHT=10;class ir{constructor(s,c){if(c.length===0)throw new T;this.field=s;let u=c.length;if(u>1&&c[0]===0){let d=1;for(;d<u&&c[d]===0;)d++;d===u?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(u-d),W.arraycopy(c,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(s===0)return this.getCoefficient(0);if(s===1){let d=0;for(let p of this.coefficients)d=this.field.add(d,p);return d}let c=this.coefficients[0],u=this.coefficients.length;for(let d=1;d<u;d++)c=this.field.add(this.field.multiply(s,c),this.coefficients[d]);return c}add(s){if(!this.field.equals(s.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let c=this.coefficients,u=s.coefficients;if(c.length>u.length){let v=c;c=u,u=v}let d=new Int32Array(u.length),p=u.length-c.length;W.arraycopy(u,0,d,0,p);for(let v=p;v<u.length;v++)d[v]=this.field.add(c[v-p],u[v]);return new ir(this.field,d)}subtract(s){if(!this.field.equals(s.field))throw new T("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof ir?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new ir(this.field,new Int32Array([0]));let c=this.coefficients,u=c.length,d=s.coefficients,p=d.length,v=new Int32Array(u+p-1);for(let A=0;A<u;A++){let N=c[A];for(let D=0;D<p;D++)v[A+D]=this.field.add(v[A+D],this.field.multiply(N,d[D]))}return new ir(this.field,v)}negative(){let s=this.coefficients.length,c=new Int32Array(s);for(let u=0;u<s;u++)c[u]=this.field.subtract(0,this.coefficients[u]);return new ir(this.field,c)}multiplyScalar(s){if(s===0)return new ir(this.field,new Int32Array([0]));if(s===1)return this;let c=this.coefficients.length,u=new Int32Array(c);for(let d=0;d<c;d++)u[d]=this.field.multiply(this.coefficients[d],s);return new ir(this.field,u)}multiplyByMonomial(s,c){if(s<0)throw new T;if(c===0)return new ir(this.field,new Int32Array([0]));let u=this.coefficients.length,d=new Int32Array(u+s);for(let p=0;p<u;p++)d[p]=this.field.multiply(this.coefficients[p],c);return new ir(this.field,d)}toString(){let s=new H;for(let c=this.getDegree();c>=0;c--){let u=this.getCoefficient(c);u!==0&&(u<0?(s.append(" - "),u=-u):s.length()>0&&s.append(" + "),(c===0||u!==1)&&s.append(u),c!==0&&(c===1?s.append("x"):(s.append("x^"),s.append(c))))}return s.toString()}}class bo{add(s,c){return(s+c)%this.modulus}subtract(s,c){return(this.modulus+s-c)%this.modulus}exp(s){return this.expTable[s]}log(s){if(s===0)throw new T;return this.logTable[s]}inverse(s){if(s===0)throw new Oe;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,c){return s===0||c===0?0:this.expTable[(this.logTable[s]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class gr extends bo{constructor(s,c){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let u=1;for(let d=0;d<s;d++)this.expTable[d]=u,u=u*c%s;for(let d=0;d<s-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new ir(this,new Int32Array([0])),this.one=new ir(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,c){if(s<0)throw new T;if(c===0)return this.zero;let u=new Int32Array(s+1);return u[0]=c,new ir(this,u)}}gr.PDF417_GF=new gr(mn.NUMBER_OF_CODEWORDS,3);class Ds{constructor(){this.field=gr.PDF417_GF}decode(s,c,u){let d=new ir(this.field,s),p=new Int32Array(c),v=!1;for(let Le=c;Le>0;Le--){let je=d.evaluateAt(this.field.exp(Le));p[c-Le]=je,je!==0&&(v=!0)}if(!v)return 0;let A=this.field.getOne();if(u!=null)for(const Le of u){let je=this.field.exp(s.length-1-Le),Xe=new ir(this.field,new Int32Array([this.field.subtract(0,je),1]));A=A.multiply(Xe)}let N=new ir(this.field,p),D=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),N,c),B=D[0],J=D[1],ne=this.findErrorLocations(B),be=this.findErrorMagnitudes(J,B,ne);for(let Le=0;Le<ne.length;Le++){let je=s.length-1-this.field.log(ne[Le]);if(je<0)throw R.getChecksumInstance();s[je]=this.field.subtract(s[je],be[Le])}return ne.length}runEuclideanAlgorithm(s,c,u){if(s.getDegree()<c.getDegree()){let ne=s;s=c,c=ne}let d=s,p=c,v=this.field.getZero(),A=this.field.getOne();for(;p.getDegree()>=Math.round(u/2);){let ne=d,be=v;if(d=p,v=A,d.isZero())throw R.getChecksumInstance();p=ne;let Le=this.field.getZero(),je=d.getCoefficient(d.getDegree()),Xe=this.field.inverse(je);for(;p.getDegree()>=d.getDegree()&&!p.isZero();){let st=p.getDegree()-d.getDegree(),mt=this.field.multiply(p.getCoefficient(p.getDegree()),Xe);Le=Le.add(this.field.buildMonomial(st,mt)),p=p.subtract(d.multiplyByMonomial(st,mt))}A=Le.multiply(v).subtract(be).negative()}let N=A.getCoefficient(0);if(N===0)throw R.getChecksumInstance();let D=this.field.inverse(N),B=A.multiply(D),J=p.multiply(D);return[B,J]}findErrorLocations(s){let c=s.getDegree(),u=new Int32Array(c),d=0;for(let p=1;p<this.field.getSize()&&d<c;p++)s.evaluateAt(p)===0&&(u[d]=this.field.inverse(p),d++);if(d!==c)throw R.getChecksumInstance();return u}findErrorMagnitudes(s,c,u){let d=c.getDegree(),p=new Int32Array(d);for(let D=1;D<=d;D++)p[d-D]=this.field.multiply(D,c.getCoefficient(D));let v=new ir(this.field,p),A=u.length,N=new Int32Array(A);for(let D=0;D<A;D++){let B=this.field.inverse(u[D]),J=this.field.subtract(0,s.evaluateAt(B)),ne=this.field.inverse(v.evaluateAt(B));N[D]=this.field.multiply(J,ne)}return N}}class qs{constructor(s,c,u,d,p){s instanceof qs?this.constructor_2(s):this.constructor_1(s,c,u,d,p)}constructor_1(s,c,u,d,p){const v=c==null||u==null,A=d==null||p==null;if(v&&A)throw new xe;v?(c=new Ye(0,d.getY()),u=new Ye(0,p.getY())):A&&(d=new Ye(s.getWidth()-1,c.getY()),p=new Ye(s.getWidth()-1,u.getY())),this.image=s,this.topLeft=c,this.bottomLeft=u,this.topRight=d,this.bottomRight=p,this.minX=Math.trunc(Math.min(c.getX(),u.getX())),this.maxX=Math.trunc(Math.max(d.getX(),p.getX())),this.minY=Math.trunc(Math.min(c.getY(),d.getY())),this.maxY=Math.trunc(Math.max(u.getY(),p.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,c){return s==null?c:c==null?s:new qs(s.image,s.topLeft,s.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(s,c,u){let d=this.topLeft,p=this.bottomLeft,v=this.topRight,A=this.bottomRight;if(s>0){let N=u?this.topLeft:this.topRight,D=Math.trunc(N.getY()-s);D<0&&(D=0);let B=new Ye(N.getX(),D);u?d=B:v=B}if(c>0){let N=u?this.bottomLeft:this.bottomRight,D=Math.trunc(N.getY()+c);D>=this.image.getHeight()&&(D=this.image.getHeight()-1);let B=new Ye(N.getX(),D);u?p=B:A=B}return new qs(this.image,d,p,v,A)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ma{constructor(s,c,u,d){this.columnCount=s,this.errorCorrectionLevel=d,this.rowCountUpperPart=c,this.rowCountLowerPart=u,this.rowCount=c+u}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ha{constructor(){this.buffer=""}static form(s,c){let u=-1;function d(v,A,N,D,B,J){if(v==="%%")return"%";if(c[++u]===void 0)return;v=D?parseInt(D.substr(1)):void 0;let ne=B?parseInt(B.substr(1)):void 0,be;switch(J){case"s":be=c[u];break;case"c":be=c[u][0];break;case"f":be=parseFloat(c[u]).toFixed(v);break;case"p":be=parseFloat(c[u]).toPrecision(v);break;case"e":be=parseFloat(c[u]).toExponential(v);break;case"x":be=parseInt(c[u]).toString(ne||16);break;case"d":be=parseFloat(parseInt(c[u],ne||10).toPrecision(v)).toFixed(0);break}be=typeof be=="object"?JSON.stringify(be):(+be).toString(ne);let Le=parseInt(N),je=N&&N[0]+""=="0"?"0":" ";for(;be.length<Le;)be=A!==void 0?be+je:je+be;return be}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return s.replace(p,d)}format(s,...c){this.buffer+=Ha.form(s,c)}toString(){return this.buffer}}class Vi{constructor(s){this.boundingBox=new qs(s),this.codewords=new Array(s.getMaxY()-s.getMinY()+1)}getCodewordNearby(s){let c=this.getCodeword(s);if(c!=null)return c;for(let u=1;u<Vi.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(s)-u;if(d>=0&&(c=this.codewords[d],c!=null)||(d=this.imageRowToCodewordIndex(s)+u,d<this.codewords.length&&(c=this.codewords[d],c!=null)))return c}return null}imageRowToCodewordIndex(s){return s-this.boundingBox.getMinY()}setCodeword(s,c){this.codewords[this.imageRowToCodewordIndex(s)]=c}getCodeword(s){return this.codewords[this.imageRowToCodewordIndex(s)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const s=new Ha;let c=0;for(const u of this.codewords){if(u==null){s.format("%3d:    |   %n",c++);continue}s.format("%3d: %3d|%3d%n",c++,u.getRowNumber(),u.getValue())}return s.toString()}}Vi.MAX_NEARBY_DISTANCE=5;class Hs{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let c=this.values.get(s);c==null&&(c=0),c++,this.values.set(s,c)}getValue(){let s=-1,c=new Array;for(const[u,d]of this.values.entries()){const p={getKey:()=>u,getValue:()=>d};p.getValue()>s?(s=p.getValue(),c=[],c.push(p.getKey())):p.getValue()===s&&c.push(p.getKey())}return mn.toIntArray(c)}getConfidence(s){return this.values.get(s)}}class Ls extends Vi{constructor(s,c){super(s),this._isLeft=c}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,s);let u=this.getBoundingBox(),d=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),A=this.imageRowToCodewordIndex(Math.trunc(p.getY())),N=-1,D=1,B=0;for(let J=v;J<A;J++){if(c[J]==null)continue;let ne=c[J],be=ne.getRowNumber()-N;if(be===0)B++;else if(be===1)D=Math.max(D,B),B=1,N=ne.getRowNumber();else if(be<0||ne.getRowNumber()>=s.getRowCount()||be>J)c[J]=null;else{let Le;D>2?Le=(D-2)*be:Le=be;let je=Le>=J;for(let Xe=1;Xe<=Le&&!je;Xe++)je=c[J-Xe]!=null;je?c[J]=null:(N=ne.getRowNumber(),B=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(s==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let c=new Int32Array(s.getRowCount());for(let u of this.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=c.length)continue;c[d]++}return c}adjustIncompleteIndicatorColumnRowNumbers(s){let c=this.getBoundingBox(),u=this._isLeft?c.getTopLeft():c.getTopRight(),d=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),v=this.imageRowToCodewordIndex(Math.trunc(d.getY())),A=this.getCodewords(),N=-1;for(let D=p;D<v;D++){if(A[D]==null)continue;let B=A[D];B.setRowNumberAsRowIndicatorColumn();let J=B.getRowNumber()-N;J===0||(J===1?N=B.getRowNumber():B.getRowNumber()>=s.getRowCount()?A[D]=null:N=B.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),c=new Hs,u=new Hs,d=new Hs,p=new Hs;for(let A of s){if(A==null)continue;A.setRowNumberAsRowIndicatorColumn();let N=A.getValue()%30,D=A.getRowNumber();switch(this._isLeft||(D+=2),D%3){case 0:u.setValue(N*3+1);break;case 1:p.setValue(N/3),d.setValue(N%3);break;case 2:c.setValue(N+1);break}}if(c.getValue().length===0||u.getValue().length===0||d.getValue().length===0||p.getValue().length===0||c.getValue()[0]<1||u.getValue()[0]+d.getValue()[0]<mn.MIN_ROWS_IN_BARCODE||u.getValue()[0]+d.getValue()[0]>mn.MAX_ROWS_IN_BARCODE)return null;let v=new ma(c.getValue()[0],u.getValue()[0],d.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(s,v),v}removeIncorrectCodewords(s,c){for(let u=0;u<s.length;u++){let d=s[u];if(s[u]==null)continue;let p=d.getValue()%30,v=d.getRowNumber();if(v>c.getRowCount()){s[u]=null;continue}switch(this._isLeft||(v+=2),v%3){case 0:p*3+1!==c.getRowCountUpperPart()&&(s[u]=null);break;case 1:(Math.trunc(p/3)!==c.getErrorCorrectionLevel()||p%3!==c.getRowCountLowerPart())&&(s[u]=null);break;case 2:p+1!==c.getColumnCount()&&(s[u]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Yr{constructor(s,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let s=mn.MAX_CODEWORDS_IN_BARCODE,c;do c=s,s=this.adjustRowNumbersAndGetCount();while(s>0&&s<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(s===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let u=this.detectionResultColumns[c].getCodewords();for(let d=0;d<u.length;d++)u[d]!=null&&(u[d].hasValidRowNumber()||this.adjustRowNumbers(c,d,u))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let s=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<s.length;u++)if(s[u]!=null&&c[u]!=null&&s[u].getRowNumber()===c[u].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let p=this.detectionResultColumns[d].getCodewords()[u];p!=null&&(p.setRowNumber(s[u].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[u]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let s=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let d=c[u].getRowNumber(),p=0;for(let v=this.barcodeColumnCount+1;v>0&&p<this.ADJUST_ROW_NUMBER_SKIP;v--){let A=this.detectionResultColumns[v].getCodewords()[u];A!=null&&(p=Yr.adjustRowNumberIfValid(d,p,A),A.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let s=0,c=this.detectionResultColumns[0].getCodewords();for(let u=0;u<c.length;u++){if(c[u]==null)continue;let d=c[u].getRowNumber(),p=0;for(let v=1;v<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;v++){let A=this.detectionResultColumns[v].getCodewords()[u];A!=null&&(p=Yr.adjustRowNumberIfValid(d,p,A),A.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,c,u){return u==null||u.hasValidRowNumber()||(u.isValidRowNumber(s)?(u.setRowNumber(s),c=0):++c),c}adjustRowNumbers(s,c,u){if(!this.detectionResultColumns[s-1])return;let d=u[c],p=this.detectionResultColumns[s-1].getCodewords(),v=p;this.detectionResultColumns[s+1]!=null&&(v=this.detectionResultColumns[s+1].getCodewords());let A=new Array(14);A[2]=p[c],A[3]=v[c],c>0&&(A[0]=u[c-1],A[4]=p[c-1],A[5]=v[c-1]),c>1&&(A[8]=u[c-2],A[10]=p[c-2],A[11]=v[c-2]),c<u.length-1&&(A[1]=u[c+1],A[6]=p[c+1],A[7]=v[c+1]),c<u.length-2&&(A[9]=u[c+2],A[12]=p[c+2],A[13]=v[c+2]);for(let N of A)if(Yr.adjustRowNumber(d,N))return}static adjustRowNumber(s,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===s.getBucket()?(s.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,c){this.detectionResultColumns[s]=c}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];s==null&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new Ha;for(let u=0;u<s.getCodewords().length;u++){c.format("CW %3d:",u);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){c.format("    |   ");continue}let p=this.detectionResultColumns[d].getCodewords()[u];if(p==null){c.format("    |   ");continue}c.format(" %3d|%3d",p.getRowNumber(),p.getValue())}c.format("%n")}return c.toString()}}class ks{constructor(s,c,u,d){this.rowNumber=ks.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(s),this.endX=Math.trunc(c),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(s){return s!==ks.BARCODE_ROW_UNKNOWN&&this.bucket===s%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(s){this.rowNumber=s}toString(){return this.rowNumber+"|"+this.value}}ks.BARCODE_ROW_UNKNOWN=-1;class Er{static initialize(){for(let s=0;s<mn.SYMBOL_TABLE.length;s++){let c=mn.SYMBOL_TABLE[s],u=c&1;for(let d=0;d<mn.BARS_IN_MODULE;d++){let p=0;for(;(c&1)===u;)p+=1,c>>=1;u=c&1,Er.RATIOS_TABLE[s]||(Er.RATIOS_TABLE[s]=new Array(mn.BARS_IN_MODULE)),Er.RATIOS_TABLE[s][mn.BARS_IN_MODULE-d-1]=Math.fround(p/mn.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let c=Er.getDecodedCodewordValue(Er.sampleBitCounts(s));return c!==-1?c:Er.getClosestDecodedValue(s)}static sampleBitCounts(s){let c=Ae.sum(s),u=new Int32Array(mn.BARS_IN_MODULE),d=0,p=0;for(let v=0;v<mn.MODULES_IN_CODEWORD;v++){let A=c/(2*mn.MODULES_IN_CODEWORD)+v*c/mn.MODULES_IN_CODEWORD;p+s[d]<=A&&(p+=s[d],d++),u[d]++}return u}static getDecodedCodewordValue(s){let c=Er.getBitValue(s);return mn.getCodeword(c)===-1?-1:c}static getBitValue(s){let c=0;for(let u=0;u<s.length;u++)for(let d=0;d<s[u];d++)c=c<<1|(u%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(s){let c=Ae.sum(s),u=new Array(mn.BARS_IN_MODULE);if(c>1)for(let v=0;v<u.length;v++)u[v]=Math.fround(s[v]/c);let d=ht.MAX_VALUE,p=-1;this.bSymbolTableReady||Er.initialize();for(let v=0;v<Er.RATIOS_TABLE.length;v++){let A=0,N=Er.RATIOS_TABLE[v];for(let D=0;D<mn.BARS_IN_MODULE;D++){let B=Math.fround(N[D]-u[D]);if(A+=Math.fround(B*B),A>=d)break}A<d&&(d=A,p=mn.SYMBOL_TABLE[v])}return p}}Er.bSymbolTableReady=!1,Er.RATIOS_TABLE=new Array(mn.SYMBOL_TABLE.length).map(Q=>new Array(mn.BARS_IN_MODULE));class xa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class Ga{static parseLong(s,c=void 0){return parseInt(s,c)}}class ya extends m{}ya.kind="NullPointerException";class Ia{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,c,u){if(s==null)throw new ya;if(c<0||c>s.length||u<0||c+u>s.length||c+u<0)throw new $;if(u===0)return;for(let d=0;d<u;d++)this.write(s[c+d])}flush(){}close(){}}class ea extends m{}class wo extends Ia{constructor(s=32){if(super(),this.count=0,s<0)throw new T("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let u=this.buf.length<<1;if(u-s<0&&(u=s),u<0){if(s<0)throw new ea;u=ue.MAX_VALUE}this.buf=oe.copyOfUint8Array(this.buf,u)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,c,u){if(c<0||c>s.length||u<0||c+u-s.length>0)throw new $;this.ensureCapacity(this.count+u),W.arraycopy(s,c,this.buf,this.count,u),this.count+=u}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return oe.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?typeof s=="string"?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var lr;(function(Q){Q[Q.ALPHA=0]="ALPHA",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.PUNCT=3]="PUNCT",Q[Q.ALPHA_SHIFT=4]="ALPHA_SHIFT",Q[Q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lr||(lr={}));function Ms(){if(typeof window<"u")return window.BigInt||null;if(typeof Q0<"u")return Q0.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gs;function ta(Q){if(typeof Gs>"u"&&(Gs=Ms()),Gs===null)throw new Error("BigInt is not supported!");return Gs(Q)}function va(){let Q=[];Q[0]=ta(1);let s=ta(900);Q[1]=s;for(let c=2;c<16;c++)Q[c]=Q[c-1]*s;return Q}class at{static decode(s,c){let u=new H(""),d=P.ISO8859_1;u.enableDecoding(d);let p=1,v=s[p++],A=new xa;for(;p<s[0];){switch(v){case at.TEXT_COMPACTION_MODE_LATCH:p=at.textCompaction(s,p,u);break;case at.BYTE_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH_6:p=at.byteCompaction(v,s,d,p,u);break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[p++]);break;case at.NUMERIC_COMPACTION_MODE_LATCH:p=at.numericCompaction(s,p,u);break;case at.ECI_CHARSET:P.getCharacterSetECIByValue(s[p++]);break;case at.ECI_GENERAL_PURPOSE:p+=2;break;case at.ECI_USER_DEFINED:p++;break;case at.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=at.decodeMacroBlock(s,p,A);break;case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case at.MACRO_PDF417_TERMINATOR:throw new Y;default:p--,p=at.textCompaction(s,p,u);break}if(p<s.length)v=s[p++];else throw Y.getFormatInstance()}if(u.length()===0)throw Y.getFormatInstance();let N=new Fe(null,u.toString(),null,c);return N.setOther(A),N}static decodeMacroBlock(s,c,u){if(c+at.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw Y.getFormatInstance();let d=new Int32Array(at.NUMBER_OF_SEQUENCE_CODEWORDS);for(let A=0;A<at.NUMBER_OF_SEQUENCE_CODEWORDS;A++,c++)d[A]=s[c];u.setSegmentIndex(ue.parseInt(at.decodeBase900toBase10(d,at.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new H;c=at.textCompaction(s,c,p),u.setFileId(p.toString());let v=-1;for(s[c]===at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(v=c+1);c<s[0];)switch(s[c]){case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,s[c]){case at.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let A=new H;c=at.textCompaction(s,c+1,A),u.setFileName(A.toString());break;case at.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new H;c=at.textCompaction(s,c+1,N),u.setSender(N.toString());break;case at.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let D=new H;c=at.textCompaction(s,c+1,D),u.setAddressee(D.toString());break;case at.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new H;c=at.numericCompaction(s,c+1,B),u.setSegmentCount(ue.parseInt(B.toString()));break;case at.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let J=new H;c=at.numericCompaction(s,c+1,J),u.setTimestamp(Ga.parseLong(J.toString()));break;case at.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let ne=new H;c=at.numericCompaction(s,c+1,ne),u.setChecksum(ue.parseInt(ne.toString()));break;case at.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let be=new H;c=at.numericCompaction(s,c+1,be),u.setFileSize(Ga.parseLong(be.toString()));break;default:throw Y.getFormatInstance()}break;case at.MACRO_PDF417_TERMINATOR:c++,u.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(v!==-1){let A=c-v;u.isLastSegment()&&A--,u.setOptionalData(oe.copyOfRange(s,v,v+A))}return c}static textCompaction(s,c,u){let d=new Int32Array((s[0]-c)*2),p=new Int32Array((s[0]-c)*2),v=0,A=!1;for(;c<s[0]&&!A;){let N=s[c++];if(N<at.TEXT_COMPACTION_MODE_LATCH)d[v]=N/30,d[v+1]=N%30,v+=2;else switch(N){case at.TEXT_COMPACTION_MODE_LATCH:d[v++]=at.TEXT_COMPACTION_MODE_LATCH;break;case at.BYTE_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH_6:case at.NUMERIC_COMPACTION_MODE_LATCH:case at.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case at.MACRO_PDF417_TERMINATOR:c--,A=!0;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[v]=at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=s[c++],p[v]=N,v++;break}}return at.decodeTextCompaction(d,p,v,u),c}static decodeTextCompaction(s,c,u,d){let p=lr.ALPHA,v=lr.ALPHA,A=0;for(;A<u;){let N=s[A],D="";switch(p){case lr.ALPHA:if(N<26)D=String.fromCharCode(65+N);else switch(N){case 26:D=" ";break;case at.LL:p=lr.LOWER;break;case at.ML:p=lr.MIXED;break;case at.PS:v=p,p=lr.PUNCT_SHIFT;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break;case lr.LOWER:if(N<26)D=String.fromCharCode(97+N);else switch(N){case 26:D=" ";break;case at.AS:v=p,p=lr.ALPHA_SHIFT;break;case at.ML:p=lr.MIXED;break;case at.PS:v=p,p=lr.PUNCT_SHIFT;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break;case lr.MIXED:if(N<at.PL)D=at.MIXED_CHARS[N];else switch(N){case at.PL:p=lr.PUNCT;break;case 26:D=" ";break;case at.LL:p=lr.LOWER;break;case at.AL:p=lr.ALPHA;break;case at.PS:v=p,p=lr.PUNCT_SHIFT;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break;case lr.PUNCT:if(N<at.PAL)D=at.PUNCT_CHARS[N];else switch(N){case at.PAL:p=lr.ALPHA;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break;case lr.ALPHA_SHIFT:if(p=v,N<26)D=String.fromCharCode(65+N);else switch(N){case 26:D=" ";break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break;case lr.PUNCT_SHIFT:if(p=v,N<at.PAL)D=at.PUNCT_CHARS[N];else switch(N){case at.PAL:p=lr.ALPHA;break;case at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(c[A]);break;case at.TEXT_COMPACTION_MODE_LATCH:p=lr.ALPHA;break}break}D!==""&&d.append(D),A++}}static byteCompaction(s,c,u,d,p){let v=new wo,A=0,N=0,D=!1;switch(s){case at.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),J=c[d++];for(;d<c[0]&&!D;)switch(B[A++]=J,N=900*N+J,J=c[d++],J){case at.TEXT_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH:case at.NUMERIC_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH_6:case at.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case at.MACRO_PDF417_TERMINATOR:d--,D=!0;break;default:if(A%5===0&&A>0){for(let ne=0;ne<6;++ne)v.write(Number(ta(N)>>ta(8*(5-ne))));N=0,A=0}break}d===c[0]&&J<at.TEXT_COMPACTION_MODE_LATCH&&(B[A++]=J);for(let ne=0;ne<A;ne++)v.write(B[ne]);break;case at.BYTE_COMPACTION_MODE_LATCH_6:for(;d<c[0]&&!D;){let ne=c[d++];if(ne<at.TEXT_COMPACTION_MODE_LATCH)A++,N=900*N+ne;else switch(ne){case at.TEXT_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH:case at.NUMERIC_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH_6:case at.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case at.MACRO_PDF417_TERMINATOR:d--,D=!0;break}if(A%5===0&&A>0){for(let be=0;be<6;++be)v.write(Number(ta(N)>>ta(8*(5-be))));N=0,A=0}}break}return p.append(j.decode(v.toByteArray(),u)),d}static numericCompaction(s,c,u){let d=0,p=!1,v=new Int32Array(at.MAX_NUMERIC_CODEWORDS);for(;c<s[0]&&!p;){let A=s[c++];if(c===s[0]&&(p=!0),A<at.TEXT_COMPACTION_MODE_LATCH)v[d]=A,d++;else switch(A){case at.TEXT_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH:case at.BYTE_COMPACTION_MODE_LATCH_6:case at.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case at.MACRO_PDF417_TERMINATOR:c--,p=!0;break}(d%at.MAX_NUMERIC_CODEWORDS===0||A===at.NUMERIC_COMPACTION_MODE_LATCH||p)&&d>0&&(u.append(at.decodeBase900toBase10(v,d)),d=0)}return c}static decodeBase900toBase10(s,c){let u=ta(0);for(let p=0;p<c;p++)u+=at.EXP900[c-p-1]*ta(s[p]);let d=u.toString();if(d.charAt(0)!=="1")throw new Y;return d.substring(1)}}at.TEXT_COMPACTION_MODE_LATCH=900,at.BYTE_COMPACTION_MODE_LATCH=901,at.NUMERIC_COMPACTION_MODE_LATCH=902,at.BYTE_COMPACTION_MODE_LATCH_6=924,at.ECI_USER_DEFINED=925,at.ECI_GENERAL_PURPOSE=926,at.ECI_CHARSET=927,at.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,at.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,at.MACRO_PDF417_TERMINATOR=922,at.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,at.MAX_NUMERIC_CODEWORDS=15,at.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,at.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,at.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,at.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,at.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,at.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,at.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,at.PL=25,at.LL=27,at.AS=27,at.ML=28,at.AL=28,at.PS=29,at.PAL=29,at.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,at.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",at.EXP900=Ms()?va():[],at.NUMBER_OF_SEQUENCE_CODEWORDS=2;class O{constructor(){}static decode(s,c,u,d,p,v,A){let N=new qs(s,c,u,d,p),D=null,B=null,J;for(let Le=!0;;Le=!1){if(c!=null&&(D=O.getRowIndicatorColumn(s,N,c,!0,v,A)),d!=null&&(B=O.getRowIndicatorColumn(s,N,d,!1,v,A)),J=O.merge(D,B),J==null)throw xe.getNotFoundInstance();let je=J.getBoundingBox();if(Le&&je!=null&&(je.getMinY()<N.getMinY()||je.getMaxY()>N.getMaxY()))N=je;else break}J.setBoundingBox(N);let ne=J.getBarcodeColumnCount()+1;J.setDetectionResultColumn(0,D),J.setDetectionResultColumn(ne,B);let be=D!=null;for(let Le=1;Le<=ne;Le++){let je=be?Le:ne-Le;if(J.getDetectionResultColumn(je)!==void 0)continue;let Xe;je===0||je===ne?Xe=new Ls(N,je===0):Xe=new Vi(N),J.setDetectionResultColumn(je,Xe);let st=-1,mt=st;for(let xt=N.getMinY();xt<=N.getMaxY();xt++){if(st=O.getStartColumn(J,je,xt,be),st<0||st>N.getMaxX()){if(mt===-1)continue;st=mt}let gt=O.detectCodeword(s,N.getMinX(),N.getMaxX(),be,st,xt,v,A);gt!=null&&(Xe.setCodeword(xt,gt),mt=st,v=Math.min(v,gt.getWidth()),A=Math.max(A,gt.getWidth()))}}return O.createDecoderResult(J)}static merge(s,c){if(s==null&&c==null)return null;let u=O.getBarcodeMetadata(s,c);if(u==null)return null;let d=qs.merge(O.adjustBoundingBox(s),O.adjustBoundingBox(c));return new Yr(u,d)}static adjustBoundingBox(s){if(s==null)return null;let c=s.getRowHeights();if(c==null)return null;let u=O.getMax(c),d=0;for(let A of c)if(d+=u-A,A>0)break;let p=s.getCodewords();for(let A=0;d>0&&p[A]==null;A++)d--;let v=0;for(let A=c.length-1;A>=0&&(v+=u-c[A],!(c[A]>0));A--);for(let A=p.length-1;v>0&&p[A]==null;A--)v--;return s.getBoundingBox().addMissingRows(d,v,s.isLeft())}static getMax(s){let c=-1;for(let u of s)c=Math.max(c,u);return c}static getBarcodeMetadata(s,c){let u;if(s==null||(u=s.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let d;return c==null||(d=c.getBarcodeMetadata())==null?u:u.getColumnCount()!==d.getColumnCount()&&u.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&u.getRowCount()!==d.getRowCount()?null:u}static getRowIndicatorColumn(s,c,u,d,p,v){let A=new Ls(c,d);for(let N=0;N<2;N++){let D=N===0?1:-1,B=Math.trunc(Math.trunc(u.getX()));for(let J=Math.trunc(Math.trunc(u.getY()));J<=c.getMaxY()&&J>=c.getMinY();J+=D){let ne=O.detectCodeword(s,0,s.getWidth(),d,B,J,p,v);ne!=null&&(A.setCodeword(J,ne),d?B=ne.getStartX():B=ne.getEndX())}}return A}static adjustCodewordCount(s,c){let u=c[0][1],d=u.getValue(),p=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-O.getNumberOfECCodeWords(s.getBarcodeECLevel());if(d.length===0){if(p<1||p>mn.MAX_CODEWORDS_IN_BARCODE)throw xe.getNotFoundInstance();u.setValue(p)}else d[0]!==p&&u.setValue(p)}static createDecoderResult(s){let c=O.createBarcodeMatrix(s);O.adjustCodewordCount(s,c);let u=new Array,d=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),p=[],v=new Array;for(let N=0;N<s.getBarcodeRowCount();N++)for(let D=0;D<s.getBarcodeColumnCount();D++){let B=c[N][D+1].getValue(),J=N*s.getBarcodeColumnCount()+D;B.length===0?u.push(J):B.length===1?d[J]=B[0]:(v.push(J),p.push(B))}let A=new Array(p.length);for(let N=0;N<A.length;N++)A[N]=p[N];return O.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),d,mn.toIntArray(u),mn.toIntArray(v),A)}static createDecoderResultFromAmbiguousValues(s,c,u,d,p){let v=new Int32Array(d.length),A=100;for(;A-- >0;){for(let N=0;N<v.length;N++)c[d[N]]=p[N][v[N]];try{return O.decodeCodewords(c,s,u)}catch(N){if(!(N instanceof R))throw N}if(v.length===0)throw R.getChecksumInstance();for(let N=0;N<v.length;N++)if(v[N]<p[N].length-1){v[N]++;break}else if(v[N]=0,N===v.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(s){let c=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let d=0;d<c.length;d++)for(let p=0;p<c[d].length;p++)c[d][p]=new Hs;let u=0;for(let d of s.getDetectionResultColumns()){if(d!=null){for(let p of d.getCodewords())if(p!=null){let v=p.getRowNumber();if(v>=0){if(v>=c.length)continue;c[v][u].setValue(p.getValue())}}}u++}return c}static isValidBarcodeColumn(s,c){return c>=0&&c<=s.getBarcodeColumnCount()+1}static getStartColumn(s,c,u,d){let p=d?1:-1,v=null;if(O.isValidBarcodeColumn(s,c-p)&&(v=s.getDetectionResultColumn(c-p).getCodeword(u)),v!=null)return d?v.getEndX():v.getStartX();if(v=s.getDetectionResultColumn(c).getCodewordNearby(u),v!=null)return d?v.getStartX():v.getEndX();if(O.isValidBarcodeColumn(s,c-p)&&(v=s.getDetectionResultColumn(c-p).getCodewordNearby(u)),v!=null)return d?v.getEndX():v.getStartX();let A=0;for(;O.isValidBarcodeColumn(s,c-p);){c-=p;for(let N of s.getDetectionResultColumn(c).getCodewords())if(N!=null)return(d?N.getEndX():N.getStartX())+p*A*(N.getEndX()-N.getStartX());A++}return d?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,c,u,d,p,v,A,N){p=O.adjustCodewordStartColumn(s,c,u,d,p,v);let D=O.getModuleBitCount(s,c,u,d,p,v);if(D==null)return null;let B,J=Ae.sum(D);if(d)B=p+J;else{for(let Le=0;Le<D.length/2;Le++){let je=D[Le];D[Le]=D[D.length-1-Le],D[D.length-1-Le]=je}B=p,p=B-J}if(!O.checkCodewordSkew(J,A,N))return null;let ne=Er.getDecodedValue(D),be=mn.getCodeword(ne);return be===-1?null:new ks(p,B,O.getCodewordBucketNumber(ne),be)}static getModuleBitCount(s,c,u,d,p,v){let A=p,N=new Int32Array(8),D=0,B=d?1:-1,J=d;for(;(d?A<u:A>=c)&&D<N.length;)s.get(A,v)===J?(N[D]++,A+=B):(D++,J=!J);return D===N.length||A===(d?u:c)&&D===N.length-1?N:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,c,u,d,p,v){let A=p,N=d?-1:1;for(let D=0;D<2;D++){for(;(d?A>=c:A<u)&&d===s.get(A,v);){if(Math.abs(p-A)>O.CODEWORD_SKEW_SIZE)return p;A+=N}N=-N,d=!d}return A}static checkCodewordSkew(s,c,u){return c-O.CODEWORD_SKEW_SIZE<=s&&s<=u+O.CODEWORD_SKEW_SIZE}static decodeCodewords(s,c,u){if(s.length===0)throw Y.getFormatInstance();let d=1<<c+1,p=O.correctErrors(s,u,d);O.verifyCodewordCount(s,d);let v=at.decode(s,""+c);return v.setErrorsCorrected(p),v.setErasures(u.length),v}static correctErrors(s,c,u){if(c!=null&&c.length>u/2+O.MAX_ERRORS||u<0||u>O.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return O.errorCorrection.decode(s,u,c)}static verifyCodewordCount(s,c){if(s.length<4)throw Y.getFormatInstance();let u=s[0];if(u>s.length)throw Y.getFormatInstance();if(u===0)if(c<s.length)s[0]=s.length-c;else throw Y.getFormatInstance()}static getBitCountForCodeword(s){let c=new Int32Array(8),u=0,d=c.length-1;for(;!((s&1)!==u&&(u=s&1,d--,d<0));)c[d]++,s>>=1;return c}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return O.getCodewordBucketNumber(O.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let c=new Ha;for(let u=0;u<s.length;u++){c.format("Row %2d: ",u);for(let d=0;d<s[u].length;d++){let p=s[u][d];p.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}c.format("%n")}return c.toString()}}O.CODEWORD_SKEW_SIZE=2,O.MAX_ERRORS=3,O.MAX_EC_CODEWORDS=512,O.errorCorrection=new Ds;class Z{decode(s,c=null){let u=Z.decode(s,c,!1);if(u==null||u.length===0||u[0]==null)throw xe.getNotFoundInstance();return u[0]}decodeMultiple(s,c=null){try{return Z.decode(s,c,!0)}catch(u){throw u instanceof Y||u instanceof R?xe.getNotFoundInstance():u}}static decode(s,c,u){const d=new Array,p=hn.detectMultiple(s,c,u);for(const v of p.getPoints()){const A=O.decode(p.getBits(),v[4],v[5],v[6],v[7],Z.getMinCodewordWidth(v),Z.getMaxCodewordWidth(v)),N=new ee(A.getText(),A.getRawBytes(),void 0,v,me.PDF_417);N.putMetadata(Ie.ERROR_CORRECTION_LEVEL,A.getECLevel());const D=A.getOther();D!=null&&N.putMetadata(Ie.PDF417_EXTRA_METADATA,D),d.push(N)}return d.map(v=>v)}static getMaxWidth(s,c){return s==null||c==null?0:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMinWidth(s,c){return s==null||c==null?ue.MAX_VALUE:Math.trunc(Math.abs(s.getX()-c.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(Z.getMaxWidth(s[0],s[4]),Z.getMaxWidth(s[6],s[2])*mn.MODULES_IN_CODEWORD/mn.MODULES_IN_STOP_PATTERN),Math.max(Z.getMaxWidth(s[1],s[5]),Z.getMaxWidth(s[7],s[3])*mn.MODULES_IN_CODEWORD/mn.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(Z.getMinWidth(s[0],s[4]),Z.getMinWidth(s[6],s[2])*mn.MODULES_IN_CODEWORD/mn.MODULES_IN_STOP_PATTERN),Math.min(Z.getMinWidth(s[1],s[5]),Z.getMinWidth(s[7],s[3])*mn.MODULES_IN_CODEWORD/mn.MODULES_IN_STOP_PATTERN)))}reset(){}}class we extends m{}we.kind="ReaderException";class Me{constructor(s,c){this.verbose=s===!0,c&&this.setHints(c)}decode(s,c){return c&&this.setHints(c),this.decodeInternal(s)}decodeWithState(s){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const c=!r(s)&&s.get(ze.TRY_HARDER)===!0,u=r(s)?null:s.get(ze.POSSIBLE_FORMATS),d=new Array;if(!r(u)){const p=u.some(v=>v===me.UPC_A||v===me.UPC_E||v===me.EAN_13||v===me.EAN_8||v===me.CODABAR||v===me.CODE_39||v===me.CODE_93||v===me.CODE_128||v===me.ITF||v===me.RSS_14||v===me.RSS_EXPANDED);p&&!c&&d.push(new Zi(s,this.verbose)),u.includes(me.QR_CODE)&&d.push(new Os),u.includes(me.DATA_MATRIX)&&d.push(new ps),u.includes(me.AZTEC)&&d.push(new Qt),u.includes(me.PDF_417)&&d.push(new Z),p&&c&&d.push(new Zi(s,this.verbose))}d.length===0&&(c||d.push(new Zi(s,this.verbose)),d.push(new Os),d.push(new ps),d.push(new Qt),d.push(new Z),c&&d.push(new Zi(s,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const s of this.readers)s.reset()}decodeInternal(s){if(this.readers===null)throw new we("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(s,this.hints)}catch(u){if(u instanceof we)continue}throw new xe("No MultiFormat Readers were able to detect the code.")}}class We extends le{constructor(s=null,c=500){const u=new Me;u.setHints(s),super(u,c)}decodeBitmap(s){return this.reader.decodeWithState(s)}}class pt extends le{constructor(s=500){super(new Z,s)}}class St extends le{constructor(s=500){super(new Os,s)}}var Wt;(function(Q){Q[Q.ERROR_CORRECTION=0]="ERROR_CORRECTION",Q[Q.CHARACTER_SET=1]="CHARACTER_SET",Q[Q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Q[Q.MIN_SIZE=3]="MIN_SIZE",Q[Q.MAX_SIZE=4]="MAX_SIZE",Q[Q.MARGIN=5]="MARGIN",Q[Q.PDF417_COMPACT=6]="PDF417_COMPACT",Q[Q.PDF417_COMPACTION=7]="PDF417_COMPACTION",Q[Q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Q[Q.AZTEC_LAYERS=9]="AZTEC_LAYERS",Q[Q.QR_VERSION=10]="QR_VERSION"})(Wt||(Wt={}));var Pt=Wt;class vn{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(s,Int32Array.from([1])))}buildGenerator(s){const c=this.cachedGenerators;if(s>=c.length){let u=c[c.length-1];const d=this.field;for(let p=c.length;p<=s;p++){const v=u.multiply(new Qe(d,Int32Array.from([1,d.exp(p-1+d.getGeneratorBase())])));c.push(v),u=v}}return c[s]}encode(s,c){if(c===0)throw new T("No error correction bytes");const u=s.length-c;if(u<=0)throw new T("No data bytes provided");const d=this.buildGenerator(c),p=new Int32Array(u);W.arraycopy(s,0,p,0,u);let v=new Qe(this.field,p);v=v.multiplyByMonomial(c,1);const N=v.divide(d)[1].getCoefficients(),D=c-N.length;for(let B=0;B<D;B++)s[u+B]=0;W.arraycopy(N,0,s,u+D,N.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(s){return Ft.applyMaskPenaltyRule1Internal(s,!0)+Ft.applyMaskPenaltyRule1Internal(s,!1)}static applyMaskPenaltyRule2(s){let c=0;const u=s.getArray(),d=s.getWidth(),p=s.getHeight();for(let v=0;v<p-1;v++){const A=u[v];for(let N=0;N<d-1;N++){const D=A[N];D===A[N+1]&&D===u[v+1][N]&&D===u[v+1][N+1]&&c++}}return Ft.N2*c}static applyMaskPenaltyRule3(s){let c=0;const u=s.getArray(),d=s.getWidth(),p=s.getHeight();for(let v=0;v<p;v++)for(let A=0;A<d;A++){const N=u[v];A+6<d&&N[A]===1&&N[A+1]===0&&N[A+2]===1&&N[A+3]===1&&N[A+4]===1&&N[A+5]===0&&N[A+6]===1&&(Ft.isWhiteHorizontal(N,A-4,A)||Ft.isWhiteHorizontal(N,A+7,A+11))&&c++,v+6<p&&u[v][A]===1&&u[v+1][A]===0&&u[v+2][A]===1&&u[v+3][A]===1&&u[v+4][A]===1&&u[v+5][A]===0&&u[v+6][A]===1&&(Ft.isWhiteVertical(u,A,v-4,v)||Ft.isWhiteVertical(u,A,v+7,v+11))&&c++}return c*Ft.N3}static isWhiteHorizontal(s,c,u){c=Math.max(c,0),u=Math.min(u,s.length);for(let d=c;d<u;d++)if(s[d]===1)return!1;return!0}static isWhiteVertical(s,c,u,d){u=Math.max(u,0),d=Math.min(d,s.length);for(let p=u;p<d;p++)if(s[p][c]===1)return!1;return!0}static applyMaskPenaltyRule4(s){let c=0;const u=s.getArray(),d=s.getWidth(),p=s.getHeight();for(let N=0;N<p;N++){const D=u[N];for(let B=0;B<d;B++)D[B]===1&&c++}const v=s.getHeight()*s.getWidth();return Math.floor(Math.abs(c*2-v)*10/v)*Ft.N4}static getDataMaskBit(s,c,u){let d,p;switch(s){case 0:d=u+c&1;break;case 1:d=u&1;break;case 2:d=c%3;break;case 3:d=(u+c)%3;break;case 4:d=Math.floor(u/2)+Math.floor(c/3)&1;break;case 5:p=u*c,d=(p&1)+p%3;break;case 6:p=u*c,d=(p&1)+p%3&1;break;case 7:p=u*c,d=p%3+(u+c&1)&1;break;default:throw new T("Invalid mask pattern: "+s)}return d===0}static applyMaskPenaltyRule1Internal(s,c){let u=0;const d=c?s.getHeight():s.getWidth(),p=c?s.getWidth():s.getHeight(),v=s.getArray();for(let A=0;A<d;A++){let N=0,D=-1;for(let B=0;B<p;B++){const J=c?v[A][B]:v[B][A];J===D?N++:(N>=5&&(u+=Ft.N1+(N-5)),N=1,D=J)}N>=5&&(u+=Ft.N1+(N-5))}return u}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class $n{constructor(s,c){this.width=s,this.height=c;const u=new Array(c);for(let d=0;d!==c;d++)u[d]=new Uint8Array(s);this.bytes=u}getHeight(){return this.height}getWidth(){return this.width}get(s,c){return this.bytes[c][s]}getArray(){return this.bytes}setNumber(s,c,u){this.bytes[c][s]=u}setBoolean(s,c,u){this.bytes[c][s]=u?1:0}clear(s){for(const c of this.bytes)oe.fill(c,s)}equals(s){if(!(s instanceof $n))return!1;const c=s;if(this.width!==c.width||this.height!==c.height)return!1;for(let u=0,d=this.height;u<d;++u){const p=this.bytes[u],v=c.bytes[u];for(let A=0,N=this.width;A<N;++A)if(p[A]!==v[A])return!1}return!0}toString(){const s=new H;for(let c=0,u=this.height;c<u;++c){const d=this.bytes[c];for(let p=0,v=this.width;p<v;++p)switch(d[p]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ");break}s.append(`
`)}return s.toString()}}class mr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const s=new H;return s.append(`<<
`),s.append(" mode: "),s.append(this.mode?this.mode.toString():"null"),s.append(`
 ecLevel: `),s.append(this.ecLevel?this.ecLevel.toString():"null"),s.append(`
 version: `),s.append(this.version?this.version.toString():"null"),s.append(`
 maskPattern: `),s.append(this.maskPattern.toString()),this.matrix?(s.append(`
 matrix:
`),s.append(this.matrix.toString())):s.append(`
 matrix: null
`),s.append(`>>
`),s.toString()}setMode(s){this.mode=s}setECLevel(s){this.ecLevel=s}setVersion(s){this.version=s}setMaskPattern(s){this.maskPattern=s}setMatrix(s){this.matrix=s}static isValidMaskPattern(s){return s>=0&&s<mr.NUM_MASK_PATTERNS}}mr.NUM_MASK_PATTERNS=8;class _n extends m{}_n.kind="WriterException";class w{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,c,u,d,p){w.clearMatrix(p),w.embedBasicPatterns(u,p),w.embedTypeInfo(c,d,p),w.maybeEmbedVersionInfo(u,p),w.embedDataBits(s,d,p)}static embedBasicPatterns(s,c){w.embedPositionDetectionPatternsAndSeparators(c),w.embedDarkDotAtLeftBottomCorner(c),w.maybeEmbedPositionAdjustmentPatterns(s,c),w.embedTimingPatterns(c)}static embedTypeInfo(s,c,u){const d=new pe;w.makeTypeInfoBits(s,c,d);for(let p=0,v=d.getSize();p<v;++p){const A=d.get(d.getSize()-1-p),N=w.TYPE_INFO_COORDINATES[p],D=N[0],B=N[1];if(u.setBoolean(D,B,A),p<8){const J=u.getWidth()-p-1;u.setBoolean(J,8,A)}else{const ne=u.getHeight()-7+(p-8);u.setBoolean(8,ne,A)}}}static maybeEmbedVersionInfo(s,c){if(s.getVersionNumber()<7)return;const u=new pe;w.makeVersionInfoBits(s,u);let d=17;for(let p=0;p<6;++p)for(let v=0;v<3;++v){const A=u.get(d);d--,c.setBoolean(p,c.getHeight()-11+v,A),c.setBoolean(c.getHeight()-11+v,p,A)}}static embedDataBits(s,c,u){let d=0,p=-1,v=u.getWidth()-1,A=u.getHeight()-1;for(;v>0;){for(v===6&&(v-=1);A>=0&&A<u.getHeight();){for(let N=0;N<2;++N){const D=v-N;if(!w.isEmpty(u.get(D,A)))continue;let B;d<s.getSize()?(B=s.get(d),++d):B=!1,c!==255&&Ft.getDataMaskBit(c,D,A)&&(B=!B),u.setBoolean(D,A,B)}A+=p}p=-p,A+=p,v-=2}if(d!==s.getSize())throw new _n("Not all bits consumed: "+d+"/"+s.getSize())}static findMSBSet(s){return 32-ue.numberOfLeadingZeros(s)}static calculateBCHCode(s,c){if(c===0)throw new T("0 polynomial");const u=w.findMSBSet(c);for(s<<=u-1;w.findMSBSet(s)>=u;)s^=c<<w.findMSBSet(s)-u;return s}static makeTypeInfoBits(s,c,u){if(!mr.isValidMaskPattern(c))throw new _n("Invalid mask pattern");const d=s.getBits()<<3|c;u.appendBits(d,5);const p=w.calculateBCHCode(d,w.TYPE_INFO_POLY);u.appendBits(p,10);const v=new pe;if(v.appendBits(w.TYPE_INFO_MASK_PATTERN,15),u.xor(v),u.getSize()!==15)throw new _n("should not happen but we got: "+u.getSize())}static makeVersionInfoBits(s,c){c.appendBits(s.getVersionNumber(),6);const u=w.calculateBCHCode(s.getVersionNumber(),w.VERSION_INFO_POLY);if(c.appendBits(u,12),c.getSize()!==18)throw new _n("should not happen but we got: "+c.getSize())}static isEmpty(s){return s===255}static embedTimingPatterns(s){for(let c=8;c<s.getWidth()-8;++c){const u=(c+1)%2;w.isEmpty(s.get(c,6))&&s.setNumber(c,6,u),w.isEmpty(s.get(6,c))&&s.setNumber(6,c,u)}}static embedDarkDotAtLeftBottomCorner(s){if(s.get(8,s.getHeight()-8)===0)throw new _n;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,c,u){for(let d=0;d<8;++d){if(!w.isEmpty(u.get(s+d,c)))throw new _n;u.setNumber(s+d,c,0)}}static embedVerticalSeparationPattern(s,c,u){for(let d=0;d<7;++d){if(!w.isEmpty(u.get(s,c+d)))throw new _n;u.setNumber(s,c+d,0)}}static embedPositionAdjustmentPattern(s,c,u){for(let d=0;d<5;++d){const p=w.POSITION_ADJUSTMENT_PATTERN[d];for(let v=0;v<5;++v)u.setNumber(s+v,c+d,p[v])}}static embedPositionDetectionPattern(s,c,u){for(let d=0;d<7;++d){const p=w.POSITION_DETECTION_PATTERN[d];for(let v=0;v<7;++v)u.setNumber(s+v,c+d,p[v])}}static embedPositionDetectionPatternsAndSeparators(s){const c=w.POSITION_DETECTION_PATTERN[0].length;w.embedPositionDetectionPattern(0,0,s),w.embedPositionDetectionPattern(s.getWidth()-c,0,s),w.embedPositionDetectionPattern(0,s.getWidth()-c,s);const u=8;w.embedHorizontalSeparationPattern(0,u-1,s),w.embedHorizontalSeparationPattern(s.getWidth()-u,u-1,s),w.embedHorizontalSeparationPattern(0,s.getWidth()-u,s);const d=7;w.embedVerticalSeparationPattern(d,0,s),w.embedVerticalSeparationPattern(s.getHeight()-d-1,0,s),w.embedVerticalSeparationPattern(d,s.getHeight()-d,s)}static maybeEmbedPositionAdjustmentPatterns(s,c){if(s.getVersionNumber()<2)return;const u=s.getVersionNumber()-1,d=w.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[u];for(let p=0,v=d.length;p!==v;p++){const A=d[p];if(A>=0)for(let N=0;N!==v;N++){const D=d[N];D>=0&&w.isEmpty(c.get(D,A))&&w.embedPositionAdjustmentPattern(D-2,A-2,c)}}}}w.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),w.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),w.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),w.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),w.VERSION_INFO_POLY=7973,w.TYPE_INFO_POLY=1335,w.TYPE_INFO_MASK_PATTERN=21522;class M{constructor(s,c){this.dataBytes=s,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class V{constructor(){}static calculateMaskPenalty(s){return Ft.applyMaskPenaltyRule1(s)+Ft.applyMaskPenaltyRule2(s)+Ft.applyMaskPenaltyRule3(s)+Ft.applyMaskPenaltyRule4(s)}static encode(s,c,u=null){let d=V.DEFAULT_BYTE_MODE_ENCODING;const p=u!==null&&u.get(Pt.CHARACTER_SET)!==void 0;p&&(d=u.get(Pt.CHARACTER_SET).toString());const v=this.chooseMode(s,d),A=new pe;if(v===cn.BYTE&&(p||V.DEFAULT_BYTE_MODE_ENCODING!==d)){const xt=P.getCharacterSetECIByName(d);xt!==void 0&&this.appendECI(xt,A)}this.appendModeInfo(v,A);const N=new pe;this.appendBytes(s,v,N,d);let D;if(u!==null&&u.get(Pt.QR_VERSION)!==void 0){const xt=Number.parseInt(u.get(Pt.QR_VERSION).toString(),10);D=zt.getVersionForNumber(xt);const gt=this.calculateBitsNeeded(v,A,N,D);if(!this.willFit(gt,D,c))throw new _n("Data too big for requested version")}else D=this.recommendVersion(c,v,A,N);const B=new pe;B.appendBitArray(A);const J=v===cn.BYTE?N.getSizeInBytes():s.length;this.appendLengthInfo(J,D,v,B),B.appendBitArray(N);const ne=D.getECBlocksForLevel(c),be=D.getTotalCodewords()-ne.getTotalECCodewords();this.terminateBits(be,B);const Le=this.interleaveWithECBytes(B,D.getTotalCodewords(),be,ne.getNumBlocks()),je=new mr;je.setECLevel(c),je.setMode(v),je.setVersion(D);const Xe=D.getDimensionForVersion(),st=new $n(Xe,Xe),mt=this.chooseMaskPattern(Le,c,D,st);return je.setMaskPattern(mt),w.buildMatrix(Le,c,D,mt,st),je.setMatrix(st),je}static recommendVersion(s,c,u,d){const p=this.calculateBitsNeeded(c,u,d,zt.getVersionForNumber(1)),v=this.chooseVersion(p,s),A=this.calculateBitsNeeded(c,u,d,v);return this.chooseVersion(A,s)}static calculateBitsNeeded(s,c,u,d){return c.getSize()+s.getCharacterCountBits(d)+u.getSize()}static getAlphanumericCode(s){return s<V.ALPHANUMERIC_TABLE.length?V.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,c=null){if(P.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(s))return cn.KANJI;let u=!1,d=!1;for(let p=0,v=s.length;p<v;++p){const A=s.charAt(p);if(V.isDigit(A))u=!0;else if(this.getAlphanumericCode(A.charCodeAt(0))!==-1)d=!0;else return cn.BYTE}return d?cn.ALPHANUMERIC:u?cn.NUMERIC:cn.BYTE}static isOnlyDoubleByteKanji(s){let c;try{c=j.encode(s,P.SJIS)}catch{return!1}const u=c.length;if(u%2!==0)return!1;for(let d=0;d<u;d+=2){const p=c[d]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(s,c,u,d){let p=Number.MAX_SAFE_INTEGER,v=-1;for(let A=0;A<mr.NUM_MASK_PATTERNS;A++){w.buildMatrix(s,c,u,A,d);let N=this.calculateMaskPenalty(d);N<p&&(p=N,v=A)}return v}static chooseVersion(s,c){for(let u=1;u<=40;u++){const d=zt.getVersionForNumber(u);if(V.willFit(s,d,c))return d}throw new _n("Data too big")}static willFit(s,c,u){const d=c.getTotalCodewords(),v=c.getECBlocksForLevel(u).getTotalECCodewords(),A=d-v,N=(s+7)/8;return A>=N}static terminateBits(s,c){const u=s*8;if(c.getSize()>u)throw new _n("data bits cannot fit in the QR Code"+c.getSize()+" > "+u);for(let v=0;v<4&&c.getSize()<u;++v)c.appendBit(!1);const d=c.getSize()&7;if(d>0)for(let v=d;v<8;v++)c.appendBit(!1);const p=s-c.getSizeInBytes();for(let v=0;v<p;++v)c.appendBits((v&1)===0?236:17,8);if(c.getSize()!==u)throw new _n("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,c,u,d,p,v){if(d>=u)throw new _n("Block ID too large");const A=s%u,N=u-A,D=Math.floor(s/u),B=D+1,J=Math.floor(c/u),ne=J+1,be=D-J,Le=B-ne;if(be!==Le)throw new _n("EC bytes mismatch");if(u!==N+A)throw new _n("RS blocks mismatch");if(s!==(J+be)*N+(ne+Le)*A)throw new _n("Total bytes mismatch");d<N?(p[0]=J,v[0]=be):(p[0]=ne,v[0]=Le)}static interleaveWithECBytes(s,c,u,d){if(s.getSizeInBytes()!==u)throw new _n("Number of bits and data bytes does not match");let p=0,v=0,A=0;const N=new Array;for(let B=0;B<d;++B){const J=new Int32Array(1),ne=new Int32Array(1);V.getNumDataBytesAndNumECBytesForBlockID(c,u,d,B,J,ne);const be=J[0],Le=new Uint8Array(be);s.toBytes(8*p,Le,0,be);const je=V.generateECBytes(Le,ne[0]);N.push(new M(Le,je)),v=Math.max(v,be),A=Math.max(A,je.length),p+=J[0]}if(u!==p)throw new _n("Data bytes does not match offset");const D=new pe;for(let B=0;B<v;++B)for(const J of N){const ne=J.getDataBytes();B<ne.length&&D.appendBits(ne[B],8)}for(let B=0;B<A;++B)for(const J of N){const ne=J.getErrorCorrectionBytes();B<ne.length&&D.appendBits(ne[B],8)}if(c!==D.getSizeInBytes())throw new _n("Interleaving error: "+c+" and "+D.getSizeInBytes()+" differ.");return D}static generateECBytes(s,c){const u=s.length,d=new Int32Array(u+c);for(let v=0;v<u;v++)d[v]=s[v]&255;new vn(Ge.QR_CODE_FIELD_256).encode(d,c);const p=new Uint8Array(c);for(let v=0;v<c;v++)p[v]=d[u+v];return p}static appendModeInfo(s,c){c.appendBits(s.getBits(),4)}static appendLengthInfo(s,c,u,d){const p=u.getCharacterCountBits(c);if(s>=1<<p)throw new _n(s+" is bigger than "+((1<<p)-1));d.appendBits(s,p)}static appendBytes(s,c,u,d){switch(c){case cn.NUMERIC:V.appendNumericBytes(s,u);break;case cn.ALPHANUMERIC:V.appendAlphanumericBytes(s,u);break;case cn.BYTE:V.append8BitBytes(s,u,d);break;case cn.KANJI:V.appendKanjiBytes(s,u);break;default:throw new _n("Invalid mode: "+c)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const c=V.getDigit(s);return c>=0&&c<=9}static appendNumericBytes(s,c){const u=s.length;let d=0;for(;d<u;){const p=V.getDigit(s.charAt(d));if(d+2<u){const v=V.getDigit(s.charAt(d+1)),A=V.getDigit(s.charAt(d+2));c.appendBits(p*100+v*10+A,10),d+=3}else if(d+1<u){const v=V.getDigit(s.charAt(d+1));c.appendBits(p*10+v,7),d+=2}else c.appendBits(p,4),d++}}static appendAlphanumericBytes(s,c){const u=s.length;let d=0;for(;d<u;){const p=V.getAlphanumericCode(s.charCodeAt(d));if(p===-1)throw new _n;if(d+1<u){const v=V.getAlphanumericCode(s.charCodeAt(d+1));if(v===-1)throw new _n;c.appendBits(p*45+v,11),d+=2}else c.appendBits(p,6),d++}}static append8BitBytes(s,c,u){let d;try{d=j.encode(s,u)}catch(p){throw new _n(p)}for(let p=0,v=d.length;p!==v;p++){const A=d[p];c.appendBits(A,8)}}static appendKanjiBytes(s,c){let u;try{u=j.encode(s,P.SJIS)}catch(p){throw new _n(p)}const d=u.length;for(let p=0;p<d;p+=2){const v=u[p]&255,A=u[p+1]&255,N=v<<8&4294967295|A;let D=-1;if(N>=33088&&N<=40956?D=N-33088:N>=57408&&N<=60351&&(D=N-49472),D===-1)throw new _n("Invalid byte sequence");const B=(D>>8)*192+(D&255);c.appendBits(B,13)}}static appendECI(s,c){c.appendBits(cn.ECI.getBits(),4),c.appendBits(s.getValue(),8)}}V.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),V.DEFAULT_BYTE_MODE_ENCODING=P.UTF8.getName();class he{write(s,c,u,d=null){if(s.length===0)throw new T("Found empty contents");if(c<0||u<0)throw new T("Requested dimensions are too small: "+c+"x"+u);let p=Dn.L,v=he.QUIET_ZONE_SIZE;d!==null&&(d.get(Pt.ERROR_CORRECTION)!==void 0&&(p=Dn.fromString(d.get(Pt.ERROR_CORRECTION).toString())),d.get(Pt.MARGIN)!==void 0&&(v=Number.parseInt(d.get(Pt.MARGIN).toString(),10)));const A=V.encode(s,p,d);return this.renderResult(A,c,u,v)}writeToDom(s,c,u,d,p=null){typeof s=="string"&&(s=document.querySelector(s));const v=this.write(c,u,d,p);s&&s.appendChild(v)}renderResult(s,c,u,d){const p=s.getMatrix();if(p===null)throw new ae;const v=p.getWidth(),A=p.getHeight(),N=v+d*2,D=A+d*2,B=Math.max(c,N),J=Math.max(u,D),ne=Math.min(Math.floor(B/N),Math.floor(J/D)),be=Math.floor((B-v*ne)/2),Le=Math.floor((J-A*ne)/2),je=this.createSVGElement(B,J);for(let Xe=0,st=Le;Xe<A;Xe++,st+=ne)for(let mt=0,xt=be;mt<v;mt++,xt+=ne)if(p.get(mt,Xe)===1){const gt=this.createSvgRectElement(xt,st,ne,ne);je.appendChild(gt)}return je}createSVGElement(s,c){const u=document.createElementNS(he.SVG_NS,"svg");return u.setAttributeNS(null,"height",s.toString()),u.setAttributeNS(null,"width",c.toString()),u}createSvgRectElement(s,c,u,d){const p=document.createElementNS(he.SVG_NS,"rect");return p.setAttributeNS(null,"x",s.toString()),p.setAttributeNS(null,"y",c.toString()),p.setAttributeNS(null,"height",u.toString()),p.setAttributeNS(null,"width",d.toString()),p.setAttributeNS(null,"fill","#000000"),p}}he.QUIET_ZONE_SIZE=4,he.SVG_NS="http://www.w3.org/2000/svg";class Ke{encode(s,c,u,d,p){if(s.length===0)throw new T("Found empty contents");if(c!==me.QR_CODE)throw new T("Can only encode QR_CODE, but got "+c);if(u<0||d<0)throw new T(`Requested dimensions are too small: ${u}x${d}`);let v=Dn.L,A=Ke.QUIET_ZONE_SIZE;p!==null&&(p.get(Pt.ERROR_CORRECTION)!==void 0&&(v=Dn.fromString(p.get(Pt.ERROR_CORRECTION).toString())),p.get(Pt.MARGIN)!==void 0&&(A=Number.parseInt(p.get(Pt.MARGIN).toString(),10)));const N=V.encode(s,v,p);return Ke.renderResult(N,u,d,A)}static renderResult(s,c,u,d){const p=s.getMatrix();if(p===null)throw new ae;const v=p.getWidth(),A=p.getHeight(),N=v+d*2,D=A+d*2,B=Math.max(c,N),J=Math.max(u,D),ne=Math.min(Math.floor(B/N),Math.floor(J/D)),be=Math.floor((B-v*ne)/2),Le=Math.floor((J-A*ne)/2),je=new Ce(B,J);for(let Xe=0,st=Le;Xe<A;Xe++,st+=ne)for(let mt=0,xt=be;mt<v;mt++,xt+=ne)p.get(mt,Xe)===1&&je.setRegion(xt,st,ne,ne);return je}}Ke.QUIET_ZONE_SIZE=4;class it{encode(s,c,u,d,p){let v;if(c===me.QR_CODE)v=new Ke;else throw new T("No encoder available for format "+c);return v.encode(s,c,u,d,p)}}class Rt extends De{constructor(s,c,u,d,p,v,A,N){if(super(v,A),this.yuvData=s,this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=p,d+v>c||p+A>u)throw new T("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(v,A)}getRow(s,c){if(s<0||s>=this.getHeight())throw new T("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const d=(s+this.top)*this.dataWidth+this.left;return W.arraycopy(this.yuvData,d,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.yuvData;const u=s*c,d=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return W.arraycopy(this.yuvData,p,d,0,u),d;for(let v=0;v<c;v++){const A=v*s;W.arraycopy(this.yuvData,p,d,A,s),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,c,u,d){return new Rt(this.yuvData,this.dataWidth,this.dataHeight,this.left+s,this.top+c,u,d,!1)}renderThumbnail(){const s=this.getWidth()/Rt.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/Rt.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(s*c),d=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let v=0;v<c;v++){const A=v*s;for(let N=0;N<s;N++){const D=d[p+N*Rt.THUMBNAIL_SCALE_FACTOR]&255;u[A+N]=4278190080|D*65793}p+=this.dataWidth*Rt.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/Rt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(s,c){const u=this.yuvData;for(let d=0,p=this.top*this.dataWidth+this.left;d<c;d++,p+=this.dataWidth){const v=p+s/2;for(let A=p,N=p+s-1;A<v;A++,N--){const D=u[A];u[A]=u[N],u[N]=D}}}invert(){return new He(this)}}Rt.THUMBNAIL_SCALE_FACTOR=2;class Rn extends De{constructor(s,c,u,d,p,v,A){if(super(c,u),this.dataWidth=d,this.dataHeight=p,this.left=v,this.top=A,s.BYTES_PER_ELEMENT===4){const N=c*u,D=new Uint8ClampedArray(N);for(let B=0;B<N;B++){const J=s[B],ne=J>>16&255,be=J>>7&510,Le=J&255;D[B]=(ne+be+Le)/4&255}this.luminances=D}else this.luminances=s;if(d===void 0&&(this.dataWidth=c),p===void 0&&(this.dataHeight=u),v===void 0&&(this.left=0),A===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+u>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(s,c){if(s<0||s>=this.getHeight())throw new T("Requested row is outside the image: "+s);const u=this.getWidth();(c==null||c.length<u)&&(c=new Uint8ClampedArray(u));const d=(s+this.top)*this.dataWidth+this.left;return W.arraycopy(this.luminances,d,c,0,u),c}getMatrix(){const s=this.getWidth(),c=this.getHeight();if(s===this.dataWidth&&c===this.dataHeight)return this.luminances;const u=s*c,d=new Uint8ClampedArray(u);let p=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return W.arraycopy(this.luminances,p,d,0,u),d;for(let v=0;v<c;v++){const A=v*s;W.arraycopy(this.luminances,p,d,A,s),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(s,c,u,d){return new Rn(this.luminances,u,d,this.dataWidth,this.dataHeight,this.left+s,this.top+c)}invert(){return new He(this)}}class Vr extends P{static forName(s){return this.getCharacterSetECIByName(s)}}class Xn{}Xn.ISO_8859_1=P.ISO8859_1;class Sr{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class zi{static singletonList(s){return[s]}static min(s,c){return s.sort(c)[0]}}class gs{constructor(s){this.previous=s}getPrevious(){return this.previous}}class xr extends gs{constructor(s,c,u){super(s),this.value=c,this.bitCount=u}appendTo(s,c){s.appendBits(this.value,this.bitCount)}add(s,c){return new xr(this,s,c)}addBinaryShift(s,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new xr(this,s,c)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+ue.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class qi extends xr{constructor(s,c,u){super(s,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=u}appendTo(s,c){for(let u=0;u<this.binaryShiftByteCount;u++)(u===0||u===31&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):u===0?s.appendBits(Math.min(this.binaryShiftByteCount,31),5):s.appendBits(this.binaryShiftByteCount-31,5)),s.appendBits(c[this.binaryShiftStart+u],8)}addBinaryShift(s,c){return new qi(this,s,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ba(Q,s,c){return new qi(Q,s,c)}function na(Q,s,c){return new xr(Q,s,c)}const Ja=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],mi=0,Ra=1,ms=2,cl=3,xi=4,Wa=new xr(null,0,0),Xa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Pl(Q){for(let s of Q)oe.fill(s,-1);return Q[mi][xi]=0,Q[Ra][xi]=0,Q[Ra][mi]=28,Q[cl][xi]=0,Q[ms][xi]=0,Q[ms][mi]=15,Q}const Oa=Pl(oe.createInt32Array(6,6));class xs{constructor(s,c,u,d){this.token=s,this.mode=c,this.binaryShiftByteCount=u,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,c){let u=this.bitCount,d=this.token;if(s!==this.mode){let v=Xa[this.mode][s];d=na(d,v&65535,v>>16),u+=v>>16}let p=s===ms?4:5;return d=na(d,c,p),new xs(d,s,0,u+p)}shiftAndAppend(s,c){let u=this.token,d=this.mode===ms?4:5;return u=na(u,Oa[this.mode][s],d),u=na(u,c,5),new xs(u,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(s){let c=this.token,u=this.mode,d=this.bitCount;if(this.mode===xi||this.mode===ms){let A=Xa[u][mi];c=na(c,A&65535,A>>16),d+=A>>16,u=mi}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,v=new xs(c,u,this.binaryShiftByteCount+1,d+p);return v.binaryShiftByteCount===2078&&(v=v.endBinaryShift(s+1)),v}endBinaryShift(s){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=ba(c,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new xs(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let c=this.bitCount+(Xa[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?c+=xs.calculateBinaryShiftCost(s)-xs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(c+=10),c<=s.bitCount}toBitArray(s){let c=[];for(let d=this.endBinaryShift(s.length).token;d!==null;d=d.getPrevious())c.unshift(d);let u=new pe;for(const d of c)d.appendTo(u,s);return u}toString(){return U.format("%s bits=%d bytes=%d",Ja[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}xs.INITIAL_STATE=new xs(Wa,mi,0,0);function ra(Q){const s=U.getCharCode(" "),c=U.getCharCode("."),u=U.getCharCode(",");Q[mi][s]=1;const d=U.getCharCode("Z"),p=U.getCharCode("A");for(let ne=p;ne<=d;ne++)Q[mi][ne]=ne-p+2;Q[Ra][s]=1;const v=U.getCharCode("z"),A=U.getCharCode("a");for(let ne=A;ne<=v;ne++)Q[Ra][ne]=ne-A+2;Q[ms][s]=1;const N=U.getCharCode("9"),D=U.getCharCode("0");for(let ne=D;ne<=N;ne++)Q[ms][ne]=ne-D+2;Q[ms][u]=12,Q[ms][c]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let ne=0;ne<B.length;ne++)Q[cl][U.getCharCode(B[ne])]=ne;const J=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let ne=0;ne<J.length;ne++)U.getCharCode(J[ne])>0&&(Q[xi][U.getCharCode(J[ne])]=ne);return Q}const ys=ra(oe.createInt32Array(5,256));class ia{constructor(s){this.text=s}encode(){const s=U.getCharCode(" "),c=U.getCharCode(`
`);let u=zi.singletonList(xs.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let v,A=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case U.getCharCode("\r"):v=A===c?2:0;break;case U.getCharCode("."):v=A===s?3:0;break;case U.getCharCode(","):v=A===s?4:0;break;case U.getCharCode(":"):v=A===s?5:0;break;default:v=0}v>0?(u=ia.updateStateListForPair(u,p,v),p++):u=this.updateStateListForChar(u,p)}return zi.min(u,(p,v)=>p.getBitCount()-v.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,c){const u=[];for(let d of s)this.updateStateForChar(d,c,u);return ia.simplifyStates(u)}updateStateForChar(s,c,u){let d=this.text[c]&255,p=ys[s.getMode()][d]>0,v=null;for(let A=0;A<=xi;A++){let N=ys[A][d];if(N>0){if(v==null&&(v=s.endBinaryShift(c)),!p||A===s.getMode()||A===ms){const D=v.latchAndAppend(A,N);u.push(D)}if(!p&&Oa[s.getMode()][A]>=0){const D=v.shiftAndAppend(A,N);u.push(D)}}}if(s.getBinaryShiftByteCount()>0||ys[s.getMode()][d]===0){let A=s.addBinaryShiftChar(c);u.push(A)}}static updateStateListForPair(s,c,u){const d=[];for(let p of s)this.updateStateForPair(p,c,u,d);return this.simplifyStates(d)}static updateStateForPair(s,c,u,d){let p=s.endBinaryShift(c);if(d.push(p.latchAndAppend(xi,u)),s.getMode()!==xi&&d.push(p.shiftAndAppend(xi,u)),u===3||u===4){let v=p.latchAndAppend(ms,16-u).latchAndAppend(ms,1);d.push(v)}if(s.getBinaryShiftByteCount()>0){let v=s.addBinaryShiftChar(c).addBinaryShiftChar(c+1);d.push(v)}}static simplifyStates(s){let c=[];for(const u of s){let d=!0;for(const p of c){if(p.isBetterThanOrEqualTo(u)){d=!1;break}u.isBetterThanOrEqualTo(p)&&(c=c.filter(v=>v!==p))}d&&c.push(u)}return c}}class Fn{constructor(){}static encodeBytes(s){return Fn.encode(s,Fn.DEFAULT_EC_PERCENT,Fn.DEFAULT_AZTEC_LAYERS)}static encode(s,c,u){let d=new ia(s).encode(),p=ue.truncDivision(d.getSize()*c,100)+11,v=d.getSize()+p,A,N,D,B,J;if(u!==Fn.DEFAULT_AZTEC_LAYERS){if(A=u<0,N=Math.abs(u),N>(A?Fn.MAX_NB_BITS_COMPACT:Fn.MAX_NB_BITS))throw new T(U.format("Illegal value %s for layers",u));D=Fn.totalBitsInLayer(N,A),B=Fn.WORD_SIZE[N];let gt=D-D%B;if(J=Fn.stuffBits(d,B),J.getSize()+p>gt)throw new T("Data to large for user specified layer");if(A&&J.getSize()>B*64)throw new T("Data to large for user specified layer")}else{B=0,J=null;for(let gt=0;;gt++){if(gt>Fn.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(A=gt<=3,N=A?gt+1:gt,D=Fn.totalBitsInLayer(N,A),v>D)continue;(J==null||B!==Fn.WORD_SIZE[N])&&(B=Fn.WORD_SIZE[N],J=Fn.stuffBits(d,B));let xn=D-D%B;if(!(A&&J.getSize()>B*64)&&J.getSize()+p<=xn)break}}let ne=Fn.generateCheckWords(J,D,B),be=J.getSize()/B,Le=Fn.generateModeMessage(A,N,be),je=(A?11:14)+N*4,Xe=new Int32Array(je),st;if(A){st=je;for(let gt=0;gt<Xe.length;gt++)Xe[gt]=gt}else{st=je+1+2*ue.truncDivision(ue.truncDivision(je,2)-1,15);let gt=ue.truncDivision(je,2),xn=ue.truncDivision(st,2);for(let Cn=0;Cn<gt;Cn++){let ii=Cn+ue.truncDivision(Cn,15);Xe[gt-Cn-1]=xn-ii-1,Xe[gt+Cn]=xn+ii+1}}let mt=new Ce(st);for(let gt=0,xn=0;gt<N;gt++){let Cn=(N-gt)*4+(A?9:12);for(let ii=0;ii<Cn;ii++){let vs=ii*2;for(let es=0;es<2;es++)ne.get(xn+vs+es)&&mt.set(Xe[gt*2+es],Xe[gt*2+ii]),ne.get(xn+Cn*2+vs+es)&&mt.set(Xe[gt*2+ii],Xe[je-1-gt*2-es]),ne.get(xn+Cn*4+vs+es)&&mt.set(Xe[je-1-gt*2-es],Xe[je-1-gt*2-ii]),ne.get(xn+Cn*6+vs+es)&&mt.set(Xe[je-1-gt*2-ii],Xe[gt*2+es])}xn+=Cn*8}if(Fn.drawModeMessage(mt,A,st,Le),A)Fn.drawBullsEye(mt,ue.truncDivision(st,2),5);else{Fn.drawBullsEye(mt,ue.truncDivision(st,2),7);for(let gt=0,xn=0;gt<ue.truncDivision(je,2)-1;gt+=15,xn+=16)for(let Cn=ue.truncDivision(st,2)&1;Cn<st;Cn+=2)mt.set(ue.truncDivision(st,2)-xn,Cn),mt.set(ue.truncDivision(st,2)+xn,Cn),mt.set(Cn,ue.truncDivision(st,2)-xn),mt.set(Cn,ue.truncDivision(st,2)+xn)}let xt=new Sr;return xt.setCompact(A),xt.setSize(st),xt.setLayers(N),xt.setCodeWords(be),xt.setMatrix(mt),xt}static drawBullsEye(s,c,u){for(let d=0;d<u;d+=2)for(let p=c-d;p<=c+d;p++)s.set(p,c-d),s.set(p,c+d),s.set(c-d,p),s.set(c+d,p);s.set(c-u,c-u),s.set(c-u+1,c-u),s.set(c-u,c-u+1),s.set(c+u,c-u),s.set(c+u,c-u+1),s.set(c+u,c+u-1)}static generateModeMessage(s,c,u){let d=new pe;return s?(d.appendBits(c-1,2),d.appendBits(u-1,6),d=Fn.generateCheckWords(d,28,4)):(d.appendBits(c-1,5),d.appendBits(u-1,11),d=Fn.generateCheckWords(d,40,4)),d}static drawModeMessage(s,c,u,d){let p=ue.truncDivision(u,2);if(c)for(let v=0;v<7;v++){let A=p-3+v;d.get(v)&&s.set(A,p-5),d.get(v+7)&&s.set(p+5,A),d.get(20-v)&&s.set(A,p+5),d.get(27-v)&&s.set(p-5,A)}else for(let v=0;v<10;v++){let A=p-5+v+ue.truncDivision(v,5);d.get(v)&&s.set(A,p-7),d.get(v+10)&&s.set(p+7,A),d.get(29-v)&&s.set(A,p+7),d.get(39-v)&&s.set(p-7,A)}}static generateCheckWords(s,c,u){let d=s.getSize()/u,p=new vn(Fn.getGF(u)),v=ue.truncDivision(c,u),A=Fn.bitsToWords(s,u,v);p.encode(A,v-d);let N=c%u,D=new pe;D.appendBits(0,N);for(const B of Array.from(A))D.appendBits(B,u);return D}static bitsToWords(s,c,u){let d=new Int32Array(u),p,v;for(p=0,v=s.getSize()/c;p<v;p++){let A=0;for(let N=0;N<c;N++)A|=s.get(p*c+N)?1<<c-N-1:0;d[p]=A}return d}static getGF(s){switch(s){case 4:return Ge.AZTEC_PARAM;case 6:return Ge.AZTEC_DATA_6;case 8:return Ge.AZTEC_DATA_8;case 10:return Ge.AZTEC_DATA_10;case 12:return Ge.AZTEC_DATA_12;default:throw new T("Unsupported word size "+s)}}static stuffBits(s,c){let u=new pe,d=s.getSize(),p=(1<<c)-2;for(let v=0;v<d;v+=c){let A=0;for(let N=0;N<c;N++)(v+N>=d||s.get(v+N))&&(A|=1<<c-1-N);(A&p)===p?(u.appendBits(A&p,c),v--):(A&p)===0?(u.appendBits(A|1,c),v--):u.appendBits(A,c)}return u}static totalBitsInLayer(s,c){return((c?88:112)+16*s)*s}}Fn.DEFAULT_EC_PERCENT=33,Fn.DEFAULT_AZTEC_LAYERS=0,Fn.MAX_NB_BITS=32,Fn.MAX_NB_BITS_COMPACT=4,Fn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Da{encode(s,c,u,d){return this.encodeWithHints(s,c,u,d,null)}encodeWithHints(s,c,u,d,p){let v=Xn.ISO_8859_1,A=Fn.DEFAULT_EC_PERCENT,N=Fn.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(Pt.CHARACTER_SET)&&(v=Vr.forName(p.get(Pt.CHARACTER_SET).toString())),p.has(Pt.ERROR_CORRECTION)&&(A=ue.parseInt(p.get(Pt.ERROR_CORRECTION).toString())),p.has(Pt.AZTEC_LAYERS)&&(N=ue.parseInt(p.get(Pt.AZTEC_LAYERS).toString()))),Da.encodeLayers(s,c,u,d,v,A,N)}static encodeLayers(s,c,u,d,p,v,A){if(c!==me.AZTEC)throw new T("Can only encode AZTEC, but got "+c);let N=Fn.encode(U.getBytes(s,p),v,A);return Da.renderResult(N,u,d)}static renderResult(s,c,u){let d=s.getMatrix();if(d==null)throw new ae;let p=d.getWidth(),v=d.getHeight(),A=Math.max(c,p),N=Math.max(u,v),D=Math.min(A/p,N/v),B=(A-p*D)/2,J=(N-v*D)/2,ne=new Ce(A,N);for(let be=0,Le=J;be<v;be++,Le+=D)for(let je=0,Xe=B;je<p;je++,Xe+=D)d.get(je,be)&&ne.setRegion(Xe,Le,D,D);return ne}}t.AbstractExpandedDecoder=pr,t.ArgumentException=b,t.ArithmeticException=Oe,t.AztecCode=Sr,t.AztecCodeReader=Qt,t.AztecCodeWriter=Da,t.AztecDecoder=Tt,t.AztecDetector=kn,t.AztecDetectorResult=kt,t.AztecEncoder=Fn,t.AztecHighLevelEncoder=ia,t.AztecPoint=Vt,t.BarcodeFormat=me,t.Binarizer=X,t.BinaryBitmap=L,t.BitArray=pe,t.BitMatrix=Ce,t.BitSource=ti,t.BrowserAztecCodeReader=$r,t.BrowserBarcodeReader=yo,t.BrowserCodeReader=le,t.BrowserDatamatrixCodeReader=bi,t.BrowserMultiFormatReader=We,t.BrowserPDF417Reader=pt,t.BrowserQRCodeReader=St,t.BrowserQRCodeSvgWriter=he,t.CharacterSetECI=P,t.ChecksumException=R,t.Code128Reader=ut,t.Code39Reader=Gt,t.DataMatrixDecodedBitStreamParser=Qi,t.DataMatrixReader=ps,t.DecodeHintType=ze,t.DecoderResult=Fe,t.DefaultGridSampler=pn,t.DetectorResult=Dt,t.EAN13Reader=Jt,t.EncodeHintType=Pt,t.Exception=m,t.FormatException=Y,t.GenericGF=Ge,t.GenericGFPoly=Qe,t.GlobalHistogramBinarizer=_e,t.GridSampler=Sn,t.GridSamplerInstance=gn,t.HTMLCanvasElementLuminanceSource=lt,t.HybridBinarizer=Te,t.ITFReader=qt,t.IllegalArgumentException=T,t.IllegalStateException=ae,t.InvertedLuminanceSource=He,t.LuminanceSource=De,t.MathUtils=Ae,t.MultiFormatOneDReader=Zi,t.MultiFormatReader=Me,t.MultiFormatWriter=it,t.NotFoundException=xe,t.OneDReader=en,t.PDF417DecodedBitStreamParser=at,t.PDF417DecoderErrorCorrection=Ds,t.PDF417Reader=Z,t.PDF417ResultMetadata=xa,t.PerspectiveTransform=Kt,t.PlanarYUVLuminanceSource=Rt,t.QRCodeByteMatrix=$n,t.QRCodeDataMask=gi,t.QRCodeDecodedBitStreamParser=Tr,t.QRCodeDecoderErrorCorrectionLevel=Dn,t.QRCodeDecoderFormatInformation=ni,t.QRCodeEncoder=V,t.QRCodeEncoderQRCode=mr,t.QRCodeMaskUtil=Ft,t.QRCodeMatrixUtil=w,t.QRCodeMode=cn,t.QRCodeReader=Os,t.QRCodeVersion=zt,t.QRCodeWriter=Ke,t.RGBLuminanceSource=Rn,t.RSS14Reader=or,t.RSSExpandedReader=At,t.ReaderException=we,t.ReedSolomonDecoder=It,t.ReedSolomonEncoder=vn,t.ReedSolomonException=vt,t.Result=ee,t.ResultMetadataType=Ie,t.ResultPoint=Ye,t.StringUtils=U,t.UnsupportedOperationException=re,t.VideoInputDevice=de,t.WhiteRectangleDetector=Ut,t.WriterException=_n,t.ZXingArrays=oe,t.ZXingCharset=Vr,t.ZXingInteger=ue,t.ZXingStandardCharsets=Xn,t.ZXingStringBuilder=H,t.ZXingStringEncoding=j,t.ZXingSystem=W,t.createAbstractExpandedDecoder=Ns,Object.defineProperty(t,"__esModule",{value:!0})}))})(wd,wd.exports)),wd.exports}var Wi=aP();const oP=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var G3=(function(){function n(e,t,r){if(this.formatMap=new Map([[$t.QR_CODE,Wi.BarcodeFormat.QR_CODE],[$t.AZTEC,Wi.BarcodeFormat.AZTEC],[$t.CODABAR,Wi.BarcodeFormat.CODABAR],[$t.CODE_39,Wi.BarcodeFormat.CODE_39],[$t.CODE_93,Wi.BarcodeFormat.CODE_93],[$t.CODE_128,Wi.BarcodeFormat.CODE_128],[$t.DATA_MATRIX,Wi.BarcodeFormat.DATA_MATRIX],[$t.MAXICODE,Wi.BarcodeFormat.MAXICODE],[$t.ITF,Wi.BarcodeFormat.ITF],[$t.EAN_13,Wi.BarcodeFormat.EAN_13],[$t.EAN_8,Wi.BarcodeFormat.EAN_8],[$t.PDF_417,Wi.BarcodeFormat.PDF_417],[$t.RSS_14,Wi.BarcodeFormat.RSS_14],[$t.RSS_EXPANDED,Wi.BarcodeFormat.RSS_EXPANDED],[$t.UPC_A,Wi.BarcodeFormat.UPC_A],[$t.UPC_E,Wi.BarcodeFormat.UPC_E],[$t.UPC_EAN_EXTENSION,Wi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!oP)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var a=this.createZXingFormats(e),l=new Map;l.set(Wi.DecodeHintType.POSSIBLE_FORMATS,a),l.set(Wi.DecodeHintType.TRY_HARDER,!1),this.hints=l}return n.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,a){try{r(t.decode(e))}catch(l){a(l)}})},n.prototype.decode=function(e){var t=new Wi.MultiFormatReader(this.verbose,this.hints),r=new Wi.HTMLCanvasElementLuminanceSource(e),a=new Wi.BinaryBitmap(new Wi.HybridBinarizer(r)),l=t.decode(a);return{text:l.text,format:$E.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,a){e.set(t,r)}),e},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createZXingFormats=function(e){for(var t=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?t.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return t},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n})(),lP=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function g(b){try{m(r.next(b))}catch(T){f(T)}}function y(b){try{m(r.throw(b))}catch(T){f(T)}}function m(b){b.done?l(b.value):a(b.value).then(g,y)}m((r=r.apply(n,e||[])).next())})},cP=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(b){return y([m,b])}}function y(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(t=0)),t;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},W3=(function(){function n(e,t,r){if(this.formatMap=new Map([[$t.QR_CODE,"qr_code"],[$t.AZTEC,"aztec"],[$t.CODABAR,"codabar"],[$t.CODE_39,"code_39"],[$t.CODE_93,"code_93"],[$t.CODE_128,"code_128"],[$t.DATA_MATRIX,"data_matrix"],[$t.ITF,"itf"],[$t.EAN_13,"ean_13"],[$t.EAN_8,"ean_8"],[$t.PDF_417,"pdf417"],[$t.UPC_A,"upc_a"],[$t.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=t,this.logger=r;var a=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},n.prototype.decodeAsync=function(e){return lP(this,void 0,void 0,function(){var t,r;return cP(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=a.sent(),!t||t.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(t),[2,{text:r.rawValue,format:$E.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,a=0,l=e;a<l.length;a++){var f=l[a],g=f.boundingBox.width*f.boundingBox.height;g>r&&(r=g,t=f)}if(!t)throw"No largest barcode found";return t},n.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,a=e;r<a.length;r++){var l=a[r];this.formatMap.has(l)?t.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},n.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},n.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,a){e.set(t,r)}),e},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n})(),X3=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function g(b){try{m(r.next(b))}catch(T){f(T)}}function y(b){try{m(r.throw(b))}catch(T){f(T)}}function m(b){b.done?l(b.value):a(b.value).then(g,y)}m((r=r.apply(n,e||[])).next())})},Y3=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(b){return y([m,b])}}function y(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(t=0)),t;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},uP=(function(){function n(e,t,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&W3.isSupported()?(this.primaryDecoder=new W3(e,r,a),this.secondaryDecoder=new G3(e,r,a)):this.primaryDecoder=new G3(e,r,a)}return n.prototype.decodeAsync=function(e){return X3(this,void 0,void 0,function(){var t;return Y3(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(e){return X3(this,void 0,void 0,function(){var t,r;return Y3(this,function(a){switch(a.label){case 0:t=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){var a=r[t];e+=a}var l=e/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n})(),ry=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),cp=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function g(b){try{m(r.next(b))}catch(T){f(T)}}function y(b){try{m(r.throw(b))}catch(T){f(T)}}function m(b){b.done?l(b.value):a(b.value).then(g,y)}m((r=r.apply(n,e||[])).next())})},up=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(b){return y([m,b])}}function y(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(t=0)),t;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},t6=(function(){function n(e,t){this.name=e,this.track=t}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},n.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var t=e[this.name];return t}return null},n})(),hP=(function(n){ry(e,n);function e(t,r){return n.call(this,t,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var t=this.track.getCapabilities(),r=t[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(t6),fP=(function(n){ry(e,n);function e(t){return n.call(this,"zoom",t)||this}return e})(hP),dP=(function(n){ry(e,n);function e(t){return n.call(this,"torch",t)||this}return e})(t6),pP=(function(){function n(e){this.track=e}return n.prototype.zoomFeature=function(){return new fP(this.track)},n.prototype.torchFeature=function(){return new dP(this.track)},n})(),gP=(function(){function n(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return n.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},n.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,a=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,a),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(e,t,r,a){return cp(this,void 0,void 0,function(){var l,f;return up(this,function(g){switch(g.label){case 0:return l=new n(e,t,a),r.aspectRatio?(f={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(e){return cp(this,void 0,void 0,function(){return up(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var a=e.mediaStream.getVideoTracks(),l=a.length,f=0;e.mediaStream.getVideoTracks().forEach(function(g){e.mediaStream.removeTrack(g),g.stop(),++f,f>=l&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},n.prototype.getCapabilities=function(){return new pP(this.getFirstTrackOrFail())},n})(),mP=(function(){function n(e){this.mediaStream=e}return n.prototype.render=function(e,t,r){return cp(this,void 0,void 0,function(){return up(this,function(a){return[2,gP.create(e,this.mediaStream,t,r)]})})},n.create=function(e){return cp(this,void 0,void 0,function(){var t,r;return up(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return t={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=a.sent(),[2,new n(r)]}})})},n})(),K3=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function g(b){try{m(r.next(b))}catch(T){f(T)}}function y(b){try{m(r.throw(b))}catch(T){f(T)}}function m(b){b.done?l(b.value):a(b.value).then(g,y)}m((r=r.apply(n,e||[])).next())})},Z3=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(b){return y([m,b])}}function y(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(t=0)),t;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},xP=(function(){function n(){}return n.failIfNotSupported=function(){return K3(this,void 0,void 0,function(){return Z3(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(e){return K3(this,void 0,void 0,function(){return Z3(this,function(t){return[2,mP.create(e)]})})},n})(),yP=function(n,e,t,r){function a(l){return l instanceof t?l:new t(function(f){f(l)})}return new(t||(t=Promise))(function(l,f){function g(b){try{m(r.next(b))}catch(T){f(T)}}function y(b){try{m(r.throw(b))}catch(T){f(T)}}function m(b){b.done?l(b.value):a(b.value).then(g,y)}m((r=r.apply(n,e||[])).next())})},vP=function(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(m){return function(b){return y([m,b])}}function y(m){if(r)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(t=0)),t;)try{if(r=1,a&&(l=m[0]&2?a.return:m[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,m[1])).done)return l;switch(a=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,a=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){t.label=m[1];break}if(m[0]===6&&t.label<l[1]){t.label=l[1],l=m;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(m);break}l[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(b){m=[6,b],a=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},bP=(function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var e=Jh.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(e=Jh.insecureContextCameraQueryError()),Promise.reject(e)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},n.getCamerasFromMediaDevices=function(){return yP(this,void 0,void 0,function(){var e,t,r,a,l,f,g;return vP(this,function(y){switch(y.label){case 0:return e=function(m){for(var b=m.getVideoTracks(),T=0,L=b;T<L.length;T++){var R=L[T];R.enabled=!1,R.stop(),m.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=y.sent(),a=[],l=0,f=r;l<f.length;l++)g=f[l],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return e(t),[2,a]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){var r=function(l){for(var f=[],g=0,y=l;g<y.length;g++){var m=y[g];m.kind==="video"&&f.push({id:m.id,label:m.label})}e(f)},a=MediaStreamTrack;a.getSources(r)})},n})(),cs;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(cs||(cs={}));var wP=(function(){function n(){this.state=cs.NOT_STARTED,this.onGoingTransactionNewState=cs.UNKNOWN}return n.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},n.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===cs.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=cs.UNKNOWN,this.directTransition(e)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===cs.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=cs.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==cs.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(e){switch(this.state){case cs.UNKNOWN:throw"Transition from unknown is not allowed";case cs.NOT_STARTED:this.failIfNewStateIs(e,[cs.PAUSED]);break;case cs.SCANNING:break;case cs.PAUSED:break}},n.prototype.failIfNewStateIs=function(e,t){for(var r=0,a=t;r<a.length;r++){var l=a[r];if(e===l)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},n})(),_P=(function(){function n(e){this.stateManager=e}return n.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},n.prototype.directTransition=function(e){this.stateManager.directTransition(e)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===cs.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==cs.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===cs.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===cs.PAUSED},n})(),AP=(function(){function n(){}return n.create=function(){return new _P(new wP)},n})(),EP=(function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),No=(function(n){EP(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(nP),SP=(function(){function n(e,t){this.logger=t,this.fps=No.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=No.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?e6.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!tc(this.qrbox)},n.create=function(e,t){return new n(e,t)},n})(),Q3=(function(){function n(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof t=="boolean"?this.verbose=t===!0:t&&(r=t,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new iP(this.verbose),this.qrcode=new uP(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=AP.create()}return n.prototype.start=function(e,t,r,a){var l=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var g=SP.create(t,this.logger);this.clearElement();var y=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=y,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:No.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var T=this,L=this.stateManagerProxy.startTransition(cs.SCANNING);return new Promise(function(R,X){var W=m?g.videoConstraints:T.createVideoConstraints(e);if(!W){L.cancel(),X("videoConstraints should be defined");return}var $={};(!m||g.aspectRatio)&&($.aspectRatio=g.aspectRatio);var K={onRenderSurfaceReady:function(oe,ue){T.setupUi(oe,ue,g),T.isScanning=!0,T.foreverScan(g,r,f)}};xP.failIfNotSupported().then(function(oe){oe.create(W).then(function(ue){return ue.render(l.element,$,K).then(function(pe){T.renderedCamera=pe,L.execute(),R(null)}).catch(function(pe){L.cancel(),X(pe)})}).catch(function(ue){L.cancel(),X(Jh.errorGettingUserMedia(ue))})}).catch(function(oe){L.cancel(),X(Jh.cameraStreamingNotSupported())})})},n.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(cs.PAUSED),this.showPausedState(),(tc(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(cs.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(cs.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var l=document.getElementById(No.SHADED_REGION_ELEMENT_ID);l&&e.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),t.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(r){return r.decodedText})},n.prototype.scanFileV2=function(e,t){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(tc(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var f=new Image;f.onload=function(){var g=f.width,y=f.height,m=document.getElementById(r.elementId),b=m.clientWidth?m.clientWidth:No.DEFAULT_WIDTH,T=Math.max(m.clientHeight?m.clientHeight:y,No.FILE_SCAN_MIN_HEIGHT),L=r.computeCanvasDrawConfig(g,y,b,T);if(t){var R=r.createCanvasElement(b,T,"qr-canvas-visible");R.style.display="inline-block",m.appendChild(R);var X=R.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=b,X.canvas.height=T,X.drawImage(f,0,0,g,y,L.x,L.y,L.width,L.height)}var W=No.FILE_SCAN_HIDDEN_CANVAS_PADDING,$=Math.max(f.width,L.width),K=Math.max(f.height,L.height),oe=$+2*W,ue=K+2*W,pe=r.createCanvasElement(oe,ue);m.appendChild(pe);var Ue=pe.getContext("2d");if(!Ue)throw"Unable to get 2d context from canvas";Ue.canvas.width=oe,Ue.canvas.height=ue,Ue.drawImage(f,0,0,g,y,W,W,$,K);try{r.qrcode.decodeRobustlyAsync(pe).then(function(ze){a(q3.createFromQrcodeResult(ze))}).catch(l)}catch(ze){l("QR code parse error, error = ".concat(ze))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(e)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return bP.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(e){if(e){if(!e6.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(e){var t=[$t.QR_CODE,$t.AZTEC,$t.CODABAR,$t.CODE_39,$t.CODE_93,$t.CODE_128,$t.DATA_MATRIX,$t.MAXICODE,$t.ITF,$t.EAN_13,$t.EAN_8,$t.PDF_417,$t.RSS_14,$t.RSS_EXPANDED,$t.UPC_A,$t.UPC_E,$t.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,l=e.formatsToSupport;a<l.length;a++){var f=l[a];tP(f)?r.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},n.prototype.getUseBarCodeDetectorIfSupported=function(e){if(tc(e))return!0;if(!tc(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(tc(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return tc(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(e,t,r){var a=this,l=r.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(e,t,l),g=function(m){if(m<No.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(No.MIN_QR_BOX_SIZE,"px.")},y=function(m){return m>e&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=e),m};g(f.width),g(f.height),f.width=y(f.width)},n.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(e,t,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,t)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},n.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var a=tc(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(e,t,a);l.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=r.isShadedBoxEnabled()&&l.height<=t,g={x:0,y:0,width:e,height:t},y=f?this.getShadedRegionBounds(e,t,l):g,m=this.createCanvasElement(y.width,y.height),b={willReadFrequently:!0},T=m.getContext("2d",b);T.canvas.width=y.width,T.canvas.height=y.height,this.element.append(m),f&&this.possiblyInsertShadingElement(this.element,e,t,l),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=T,this.canvasElement=m},n.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Jh.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},n.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return e(a.text,q3.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var l=Jh.codeParseError(a);return t(l,rP.createFrom(l)),!1})},n.prototype.foreverScan=function(e,t,r){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*f,m=this.qrRegion.height*g,b=this.qrRegion.x*f,T=this.qrRegion.y*g;this.context.drawImage(l,b,T,y,m,0,0,this.qrRegion.width,this.qrRegion.height);var L=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(e,t,r)},a.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(R){!R&&e.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(t,r).finally(function(){L()})):L()}).catch(function(R){a.logger.logError("Error happend while scanning context",R),L()})}},n.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var t="facingMode",r="deviceId",a={user:!0,environment:!0},l="exact",f=function(X){if(X in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(X,"'")},g=Object.keys(e);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var y=Object.keys(e)[0];if(y!==t&&y!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(y===t){var m=e.facingMode;if(typeof m=="string"){if(f(m))return{facingMode:m}}else if(typeof m=="object")if(l in m){if(f(m["".concat(l)]))return{facingMode:{exact:m["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var b=typeof m;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var T=e.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(l in T)return{deviceId:{exact:T["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var L=typeof T;throw"Invalid type of 'deviceId' = ".concat(L)}}}var R=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},n.prototype.computeCanvasDrawConfig=function(e,t,r,a){if(e<=r&&t<=a){var l=(r-e)/2,f=(a-t)/2;return{x:l,y:f,width:e,height:t}}else{var g=e,y=t;return e>r&&(t=r/e*t,e=r),t>a&&(e=a/t*e,t=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(y)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,a)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},n.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?No.BORDER_SHADER_MATCH_COLOR:No.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(e,t,r){var a=e,l=t,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=tc(r)?"qr-canvas":r,f},n.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},n.prototype.possiblyInsertShadingElement=function(e,t,r,a){if(!(t-a.width<1||r-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(t-a.width)/2,g=(r-a.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(No.SHADED_REGION_ELEMENT_ID),t-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var y=5,m=40;this.insertShaderBorders(l,m,y,-y,null,0,!0),this.insertShaderBorders(l,m,y,-y,null,0,!1),this.insertShaderBorders(l,m,y,null,-y,0,!0),this.insertShaderBorders(l,m,y,null,-y,0,!1),this.insertShaderBorders(l,y,m+y,-y,null,-y,!0),this.insertShaderBorders(l,y,m+y,null,-y,-y,!0),this.insertShaderBorders(l,y,m+y,-y,null,-y,!1),this.insertShaderBorders(l,y,m+y,null,-y,-y,!1),this.hasBorderShaders=!0}e.append(l)}},n.prototype.insertShaderBorders=function(e,t,r,a,l,f,g){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=No.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(t,"px"),y.style.height="".concat(r,"px"),a!==null&&(y.style.top="".concat(a,"px")),l!==null&&(y.style.bottom="".concat(l,"px")),g?y.style.left="".concat(f,"px"):y.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),e.appendChild(y)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(e){return 1e3/e},n})(),J3;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(J3||(J3={}));const CP=()=>{const[n,e]=Re.useState([]),[t,r]=Re.useState(""),[a,l]=Re.useState("all"),[f,g]=Re.useState(!1),[y,m]=Re.useState(!1),[b,T]=Re.useState(null),[L,R]=Re.useState(""),[X,W]=Re.useState(""),[$,K]=Re.useState(""),[oe,ue]=Re.useState(""),[pe,Ue]=Re.useState("active"),[ze,Y]=Re.useState(null),[G,P]=Re.useState("sku"),[re,j]=Re.useState("asc"),[U,H]=Re.useState(null),Ce=Re.useRef(null);Re.useEffect(()=>{const ee=Io(Xi(Un,"products"),su("sku","asc")),ye=xc(ee,me=>{const Pe=me.docs.map(Ie=>({id:Ie.id,...Ie.data()}));e(Pe)});return()=>ye()},[]);const xe=async ee=>{ee.preventDefault(),Y(null);const ye=Io(Xi(Un,"products"),Bu("sku","==",L));if((await rl(ye)).docs.some(Fe=>b?Fe.id!==b.id:!0)){Y("Este SKU j est cadastrado em outro produto.");return}if(X&&X.trim()!==""){const Fe=Io(Xi(Un,"products"),Bu("ean","==",X.trim()));if((await rl(Fe)).docs.some(Oe=>b?Oe.id!==b.id:!0)){Y("Este EAN j est cadastrado em outro produto.");return}}if(oe&&oe.trim()!==""){const Fe=Io(Xi(Un,"products"),Bu("model","==",oe.trim()));if((await rl(Fe)).docs.some(Oe=>b?Oe.id!==b.id:!0)){Y("Este Modelo j est cadastrado em outro produto.");return}}const Ie={action:b?"Update":"Creation",date:new Date().toISOString(),details:`Produto ${b?"alterado":"criado"} com SKU: ${L}`};b?await mc(Pi(Un,"products",b.id),{sku:L,ean:X,description:$,model:oe,status:pe,updatedAt:Za(),history:Mp(Ie)}):await jp(Xi(Un,"products"),{sku:L,ean:X,description:$,model:oe,status:pe,createdAt:Za(),updatedAt:Za(),history:[Ie]}),de()},_e=ee=>{const ye=new(window.AudioContext||window.webkitAudioContext),me=ye.createOscillator(),Pe=ye.createGain();me.connect(Pe),Pe.connect(ye.destination),me.type="sine",me.frequency.setValueAtTime(800,ye.currentTime),me.frequency.exponentialRampToValueAtTime(1200,ye.currentTime+.1),Pe.gain.setValueAtTime(.1,ye.currentTime),Pe.gain.exponentialRampToValueAtTime(.01,ye.currentTime+.1),me.start(),me.stop(ye.currentTime+.1)},Te=async ee=>{U||(H(ee),setTimeout(async()=>{try{const ye=`product-${ee}-reader`;if(!document.getElementById(ye)){console.error("Elemento do scanner no encontrado no DOM"),H(null);return}const Pe=new Q3(ye);Ce.current=Pe;const Ie=await Q3.getCameras();if(Ie&&Ie.length){let Fe=Ie[0].id;const Ne=Ie.find(Qe=>Qe.label.toLowerCase().includes("back")||Qe.label.toLowerCase().includes("traseira"));Ne&&(Fe=Ne.id),await Pe.start(Fe,{fps:10,qrbox:{width:250,height:150}},Qe=>{ee==="ean"?W(Qe):ue(Qe),_e("success"),De()},()=>{})}else console.error("Nenhuma cmera encontrada"),H(null)}catch(ye){console.error("Erro ao iniciar scanner:",ye),H(null)}},150))},De=async()=>{if(Ce.current)try{await Ce.current.stop(),Ce.current.clear()}catch(ee){console.warn("Erro ao parar scanner:",ee)}finally{Ce.current=null,H(null)}},He=ee=>{G===ee?j(re==="asc"?"desc":"asc"):(P(ee),j("asc"))},lt=ee=>G!==ee?E.jsx(OO,{size:14,className:"text-slate-500"}):re==="asc"?E.jsx(IO,{size:14,className:"text-blue-500"}):E.jsx(SO,{size:14,className:"text-blue-500"}),de=()=>{De(),R(""),W(""),K(""),ue(""),Ue("active"),Y(null),T(null),g(!1)},q=n.filter(ee=>{const ye=ee.sku.toLowerCase().includes(t.toLowerCase())||ee.ean?.toLowerCase().includes(t.toLowerCase())||ee.description.toLowerCase().includes(t.toLowerCase())||ee.model?.toLowerCase().includes(t.toLowerCase()),me=a==="all"||ee.status===a;return ye&&me}).sort((ee,ye)=>{const me=ee[G]||"",Pe=ye[G]||"";return re==="asc"?me.localeCompare(Pe,void 0,{numeric:!0,sensitivity:"base"}):Pe.localeCompare(me,void 0,{numeric:!0,sensitivity:"base"})}),le=async()=>{const ee=new Date().toLocaleString("pt-BR"),ye=new dn;ye.setFontSize(20),ye.text("Catlogo de Produtos",15,20),ye.setFontSize(10),ye.text(`Data: ${ee}`,15,30),ye.text(`Filtro: ${a==="all"?"Todos":a==="active"?"Ativos":"Inativos"}`,15,35),ye.text(`Total: ${q.length}`,150,30),ye.line(15,38,195,38);const me=[...q].map(Ne=>[Ne.sku,Ne.ean||"-",Ne.description,Ne.model||"-",Ne.status==="active"?"Ativo":"Inativo"]);Gp(ye,{startY:43,head:[["SKU","EAN","Descrio","Modelo","Status"]],body:me,headStyles:{fillColor:[226,232,240],textColor:[51,65,85]},alternateRowStyles:{fillColor:[241,245,249]}});const Pe=ye.output("blob"),Ie=new File([Pe],`produtos_${new Date().getTime()}.pdf`,{type:"application/pdf"}),Fe=` *Catlogo de Produtos*
 *Data:* ${ee}
 *Itens:* ${q.length}`;if(navigator.share&&navigator.canShare&&navigator.canShare({files:[Ie]}))try{await navigator.share({files:[Ie],title:"Catlogo de Produtos",text:Fe})}catch(Ne){Ne.name!=="AbortError"&&console.error("Erro ao compartilhar:",Ne)}else if(navigator.share)try{await navigator.share({title:"Catlogo de Produtos",text:Fe})}catch(Ne){console.error("Erro ao compartilhar texto:",Ne)}else navigator.clipboard.writeText(Fe),alert("Resumo copiado para a rea de transferncia!")};return E.jsxs("div",{className:"p-4 md:p-8 max-w-full mx-auto",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos"}),E.jsx("p",{className:"text-slate-400",children:"Gerencie seu catlogo de itens"}),E.jsxs("div",{className:"flex gap-4 mt-2 text-sm font-bold uppercase tracking-wider",children:[E.jsxs("span",{className:"text-slate-500",children:["Total: ",E.jsx("span",{className:"text-slate-300",children:n.length})]}),E.jsxs("span",{className:"text-slate-500",children:["Ativos: ",E.jsx("span",{className:"text-emerald-500",children:n.filter(ee=>ee.status==="active").length})]}),E.jsxs("span",{className:"text-slate-500",children:["Inativos: ",E.jsx("span",{className:"text-red-500",children:n.filter(ee=>ee.status==="inactive").length})]})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl transition-all shadow-lg shadow-blue-900/20 font-bold",children:[E.jsx(Zu,{size:20}),E.jsx("span",{children:"Novo Produto"})]}),E.jsx("button",{onClick:()=>{const ee=window.open("","_blank");if(!ee)return;const ye=`
                                <html>
                                    <head>
                                        <title>Relatrio de Produtos</title>
                                        <style>
                                            body { font-family: sans-serif; padding: 20px; }
                                            table { width: 100%; border-collapse: collapse; margin-top: 20px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                                            th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                                            th { background-color: #e2e8f0 !important; }
                                            tbody tr:nth-child(even) { background-color: #f2f2f2 !important; }
                                            h1 { color: #333; }
                                            .status { font-size: 0.8em; font-weight: bold; padding: 4px 8px; border-radius: 4px; }
                                            .active { background-color: #dcfce7; color: #166534; }
                                            .inactive { background-color: #fee2e2; color: #991b1b; }
                                        </style>
                                    </head>
                                    <body>
                                        <h1>Relatrio de Produtos - ${a.charAt(0).toUpperCase()+a.slice(1)}</h1>
                                        <p>Data: ${new Date().toLocaleString("pt-BR")}</p>
                                        <table>
                                            <thead>
                                                <tr>
                                                    <th>SKU</th>
                                                    <th>EAN</th>
                                                    <th>Descrio</th>
                                                    <th>Modelo</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                ${q.map(me=>`
                                                    <tr>
                                                        <td>${me.sku}</td>
                                                        <td>${me.ean||"-"}</td>
                                                        <td>${me.description}</td>
                                                        <td>${me.model||"-"}</td>
                                                        <td>
                                                            <span class="status ${me.status}">
                                                                ${me.status==="active"?"Ativo":"Inativo"}
                                                            </span>
                                                        </td>
                                                    </tr>
                                                `).join("")}
                                            </tbody>
                                        </table>
                                        <script>window.print();<\/script>
                                    </body>
                                </html>
                            `;ee.document.write(ye),ee.document.close()},className:"hidden md:flex p-3 bg-slate-800 hover:bg-slate-700 text-white rounded-xl transition-all border border-slate-700 shadow-lg",title:"Imprimir",children:E.jsx(Qu,{size:20})}),E.jsx("button",{onClick:le,className:"md:hidden p-3 bg-blue-600/10 text-blue-400 rounded-xl border border-blue-500/20 active:scale-95 transition-all",title:"Compartilhar PDF",children:E.jsx(Vp,{size:20})})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[E.jsxs("div",{className:"p-4 border-b border-slate-800 bg-slate-900/50 flex flex-col md:flex-row gap-4 items-center",children:[E.jsxs("div",{className:"relative flex-1 w-full group",children:[E.jsx(Up,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),E.jsx("input",{type:"text",placeholder:"Buscar por SKU, EAN ou descrio...",className:"w-full pl-10 pr-10 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all",value:t,onChange:ee=>r(ee.target.value)}),t&&E.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors p-1",title:"Limpar busca",children:E.jsx(Vo,{size:16})})]}),E.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 p-1 rounded-lg border border-slate-700 w-full md:w-auto",children:[E.jsx(UO,{size:16,className:"ml-2 text-slate-500"}),E.jsx("button",{onClick:()=>l("all"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${a==="all"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:"Todos"}),E.jsx("button",{onClick:()=>l("active"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${a==="active"?"bg-emerald-600 text-white":"text-slate-400 hover:text-white"}`,children:"Ativos"}),E.jsx("button",{onClick:()=>l("inactive"),className:`px-3 py-1.5 text-xs font-bold rounded-md transition-all ${a==="inactive"?"bg-red-600 text-white":"text-slate-400 hover:text-white"}`,children:"Inativos"})]})]}),E.jsx("div",{className:"hidden md:block overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-800/50 text-slate-400 text-sm",children:[E.jsx("th",{className:"px-6 py-4 font-semibold text-nowrap cursor-pointer hover:bg-slate-700/50 transition-colors group",onClick:()=>He("sku"),children:E.jsxs("div",{className:"flex items-center gap-2",children:["SKU",lt("sku")]})}),E.jsx("th",{className:"px-6 py-4 font-semibold text-nowrap",children:"EAN"}),E.jsx("th",{className:"px-6 py-4 font-semibold w-full cursor-pointer hover:bg-slate-700/50 transition-colors group",onClick:()=>He("description"),children:E.jsxs("div",{className:"flex items-center gap-2",children:["Descrio",lt("description")]})}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Status"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:q.map(ee=>E.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[E.jsx("td",{className:"px-6 py-4 font-mono text-blue-400 text-nowrap text-sm",children:ee.sku}),E.jsx("td",{className:"px-6 py-4 font-mono text-slate-400 text-nowrap text-xs",children:ee.ean||"-"}),E.jsx("td",{className:"px-6 py-4 text-slate-300 min-w-[150px] text-sm md:text-base",children:ee.description}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ee.status==="active"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:ee.status==="active"?"Ativo":"Inativo"})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 text-nowrap",children:[ee.model&&E.jsx("div",{className:"p-2 text-blue-400",title:`Modelo: ${ee.model}`,children:E.jsx($1,{size:18})}),E.jsx("button",{onClick:()=>{T(ee),R(ee.sku),W(ee.ean||""),K(ee.description),ue(ee.model||""),Ue(ee.status),g(!0)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",children:E.jsx(du,{size:18})}),E.jsx("button",{onClick:()=>{T(ee),m(!0)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",children:E.jsx(Nm,{size:18})})]})})]},ee.id))})]})}),E.jsxs("div",{className:"md:hidden divide-y divide-slate-800",children:[q.map(ee=>E.jsxs("div",{className:"p-4 space-y-4 hover:bg-slate-800/20 transition-colors",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("p",{className:"font-mono text-blue-400 font-bold",children:ee.sku}),E.jsx("p",{className:"text-slate-500 text-xs font-mono",children:ee.ean||"Sem EAN"})]}),E.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${ee.status==="active"?"bg-emerald-500/10 text-emerald-400":"bg-red-500/10 text-red-400"}`,children:ee.status==="active"?"Ativo":"Inativo"})]}),E.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:ee.description}),E.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-800/50",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{T(ee),R(ee.sku),W(ee.ean||""),K(ee.description),ue(ee.model||""),Ue(ee.status),g(!0)},className:"flex items-center gap-2 px-3 py-2 bg-slate-800 text-slate-300 rounded-lg text-xs font-bold border border-slate-700 active:scale-95 transition-all",children:[E.jsx(du,{size:14}),"Editar"]}),E.jsxs("button",{onClick:()=>{T(ee),m(!0)},className:"flex items-center gap-2 px-3 py-2 bg-slate-800 text-slate-300 rounded-lg text-xs font-bold border border-slate-700 active:scale-95 transition-all",children:[E.jsx(Nm,{size:14}),"Histrico"]})]}),ee.model&&E.jsx("div",{className:"p-2 text-blue-400",title:`Modelo: ${ee.model}`,children:E.jsx($1,{size:18})})]})]},ee.id)),q.length===0&&E.jsx("div",{className:"p-12 text-center text-slate-500 italic text-sm",children:"Nenhum produto encontrado."})]})]}),f&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4 bg-black/80 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[E.jsx("h2",{className:"text-xl font-bold text-white",children:b?"Editar Produto":"Novo Produto"}),E.jsx("button",{onClick:de,className:"text-slate-400 hover:text-white",children:E.jsx(Vo,{size:24})})]}),E.jsxs("form",{onSubmit:xe,className:"p-4 md:p-6 space-y-4 max-h-[85vh] overflow-y-auto",children:[ze&&E.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 p-3 rounded-lg text-sm font-medium",children:ze}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"SKU"}),E.jsx("input",{required:!0,autoFocus:!0,value:L,onChange:ee=>R(ee.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Ex: PROD-123"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"EAN (Cdigo de Barras)"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{value:X,onChange:ee=>W(ee.target.value),className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Ex: 7891234567890"}),E.jsx("button",{type:"button",onClick:U==="ean"?De:()=>Te("ean"),className:`p-3 rounded-lg border transition-all active:scale-95 ${U==="ean"?"bg-red-500/10 border-red-500 text-red-500 animate-pulse":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white hover:bg-slate-700"}`,title:U==="ean"?"Parar Leitura":"Escanear EAN",children:U==="ean"?E.jsx(pw,{size:24}):E.jsx(yw,{size:24})})]}),U==="ean"&&E.jsxs("div",{className:"mt-4 overflow-hidden rounded-xl bg-black border border-blue-500/30",children:[E.jsx("div",{id:"product-ean-reader",className:"w-full"}),E.jsx("div",{className:"bg-slate-900/80 py-2 text-center text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"Aponte para o cdigo"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Descrio"}),E.jsx("textarea",{required:!0,value:$,onChange:ee=>K(ee.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none h-24 transition-all",placeholder:"Descrio detalhada do produto..."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Modelo"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{value:oe,onChange:ee=>ue(ee.target.value),className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",placeholder:"Ex: iPhone 13 Pro"}),E.jsx("button",{type:"button",onClick:U==="model"?De:()=>Te("model"),className:`p-3 rounded-lg border transition-all active:scale-95 ${U==="model"?"bg-red-500/10 border-red-500 text-red-500 animate-pulse":"bg-slate-800 border-slate-700 text-slate-400 hover:text-white hover:bg-slate-700"}`,title:U==="model"?"Parar Leitura":"Escanear Modelo",children:U==="model"?E.jsx(pw,{size:24}):E.jsx(yw,{size:24})})]}),U==="model"&&E.jsxs("div",{className:"mt-4 overflow-hidden rounded-xl bg-black border border-blue-500/30",children:[E.jsx("div",{id:"product-model-reader",className:"w-full"}),E.jsx("div",{className:"bg-slate-900/80 py-2 text-center text-[10px] text-blue-400 font-bold uppercase tracking-widest",children:"Aponte para o cdigo"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Status"}),E.jsxs("select",{value:pe,onChange:ee=>Ue(ee.target.value),className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",children:[E.jsx("option",{value:"active",children:"Ativo"}),E.jsx("option",{value:"inactive",children:"Inativo"})]})]}),E.jsxs("div",{className:"pt-4 flex flex-col md:flex-row gap-3",children:[E.jsx("button",{type:"button",onClick:de,className:"order-2 md:order-1 flex-1 py-3 text-slate-400 hover:text-white transition-colors",children:"Cancelar"}),E.jsx("button",{type:"submit",className:"order-1 md:order-2 flex-[2] bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:b?"Salvar Alteraes":"Cadastrar"})]})]})]})}),y&&b&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/50",children:[E.jsxs("h2",{className:"text-xl font-bold text-white",children:["Histrico: ",b.sku]}),E.jsx("button",{onClick:()=>m(!1),className:"text-slate-400 hover:text-white",children:E.jsx(Vo,{size:24})})]}),E.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto space-y-4",children:b.history?.slice().reverse().map((ee,ye)=>E.jsxs("div",{className:"border-l-2 border-blue-500 pl-4 py-1",children:[E.jsx("p",{className:"text-xs text-slate-500",children:new Date(ee.date).toLocaleString("pt-BR")}),E.jsx("p",{className:"text-white font-medium",children:ee.action}),E.jsx("p",{className:"text-sm text-slate-400",children:ee.details})]},ye))})]})})]})},NP=()=>{const[n,e]=Re.useState([]),[t,r]=Re.useState(!1),[a,l]=Re.useState(""),[f,g]=Re.useState([]),[y,m]=Re.useState([]),[b,T]=Re.useState([]),[L,R]=Re.useState(null),[X,W]=Re.useState(""),[$,K]=Re.useState(null),[oe,ue]=Re.useState(!1),[pe,Ue]=Re.useState([]),[ze,Y]=Re.useState(!1),[G,P]=Re.useState(null),[re,j]=Re.useState(""),[U,H]=Re.useState(null),[Ce,xe]=Re.useState(""),[_e,Te]=Re.useState(!1),[De,He]=Re.useState(null),[lt,de]=Re.useState(!1),[q,le]=Re.useState(null),ee=Re.useRef(null),ye=Re.useRef(null),me=Re.useRef(null);Re.useEffect(()=>{const Ae=Io(Xi(Un,"reports"),su("createdAt","asc")),ht=xc(Ae,Ye=>{const kt=Ye.docs.map(Ut=>({id:Ut.id,...Ut.data()})).filter(Ut=>Ut.type==="inventory"?re?(Ut.createdAt?.toDate?Ut.createdAt.toDate().toLocaleDateString("en-CA"):"")===re:!0:!1);e(kt.reverse())});return()=>ht()},[re]),Re.useEffect(()=>{const Ae=Io(Xi(Un,"products"),Bu("status","==","active")),ht=xc(Ae,Ye=>{const Dt=Ye.docs.map(kt=>({id:kt.id,...kt.data()}));g(Dt)});return()=>ht()},[]);const Pe=Ae=>{if(l(Ae),Ae.length<1){m([]);return}const ht=f.filter(Ye=>Ye.sku.toLowerCase().includes(Ae.toLowerCase())||Ye.description.toLowerCase().includes(Ae.toLowerCase())).slice(0,10);m(ht)},Ie=async()=>{if(!L)return;const Ae=b.findIndex(Ut=>Ut.productId===L.id);if(Ae!==-1){P(Ae),ue(!0);return}let ht=0;const Ye=Io(Xi(Un,"reports"),Bu("type","==","inventory"),su("createdAt","desc"),Em(1)),Dt=await rl(Ye);if(!Dt.empty){const Sn=Dt.docs[0].data().items.find(Kt=>Kt.productId===L.id);ht=Sn?Sn.currentCount:0}const kt={productId:L.id,sku:L.sku,description:L.description,currentCount:Number(X)||0,previousCount:ht};T([...b,kt]),R(null),l(""),W(""),m([]),ee.current?.focus()},Fe=()=>{if(U!==null&&Ce!==""){const Ae=[...b];Ae[U].currentCount+=Number(Ce),T(Ae),H(null),xe("")}},Ne=()=>{if(G!==null){const Ae=[...b];Ae[G].currentCount=Number(X)||0,T(Ae),R(null),l(""),W(""),m([]),ue(!1),P(null),ee.current?.focus()}},Qe=async()=>{if($){await Ge(b);return}const Ae=Io(Xi(Un,"reports"),Bu("type","==","inventory"),su("createdAt","desc"),Em(1)),ht=await rl(Ae);if(ht.empty){await Ge(b);return}const Ye=ht.docs[0].data(),Dt=new Set(b.map(Ut=>Ut.sku)),kt=Ye.items.filter(Ut=>Ut.currentCount>0&&!Dt.has(Ut.sku));kt.length>0?(Ue(kt),Y(!0)):await Ge(b)},Oe=async Ae=>{let ht=[...b];if(Ae){const Ye=pe.map(Dt=>({...Dt,previousCount:Dt.currentCount,currentCount:0}));ht=[...ht,...Ye]}Y(!1),await Ge(ht)},Ge=async Ae=>{if(Ae.length===0)return;let ht;$?(ht=Pi(Un,"reports",$.id),await mc(ht,{items:Ae,totalItems:Ae.length,updatedAt:Za()})):ht=await jp(Xi(Un,"reports"),{type:"inventory",items:Ae,totalItems:Ae.length,createdAt:Za(),updatedAt:Za()});for(const Ye of Ae){const Dt={action:"Inventrio",date:new Date().toISOString(),details:`Contagem realizada: ${Ye.currentCount} (Anterior: ${Ye.previousCount})`,reportId:$?$.id:ht.id};await mc(Pi(Un,"products",Ye.productId),{history:Mp(Dt),updatedAt:Za()})}r(!1),T([]),K(null)},vt=async()=>{await Qe()},ae=async Ae=>{le(Ae),de(!0)},It=async()=>{if(q)try{await Hd(Pi(Un,"reports",q)),de(!1),le(null)}catch(Ae){console.error("Erro ao excluir:",Ae)}},Lt=async Ae=>{const ht=n.length-n.findIndex(pn=>pn.id===Ae.id),Ye=Ae.createdAt?.toDate?Ae.createdAt.toDate().toLocaleString("pt-BR"):"Processando...",Dt=new dn;Dt.setFontSize(20),Dt.text(`Inventrio #${ht}`,15,20),Dt.setFontSize(10),Dt.text(`Data: ${Ye}`,15,30),Dt.text(`Total de Itens: ${Ae.totalItems}`,150,30),Dt.line(15,35,195,35);const kt=[...Ae.items].sort((pn,gn)=>pn.sku.localeCompare(gn.sku,void 0,{numeric:!0,sensitivity:"base"})).map(pn=>{const gn=pn.currentCount-pn.previousCount;return[pn.sku,pn.description,pn.previousCount.toString(),pn.currentCount.toString(),gn>0?`+${gn}`:gn.toString()]});Gp(Dt,{startY:40,head:[["SKU","Descrio","Anterior","Atual","Diferena"]],body:kt,headStyles:{fillColor:[226,232,240],textColor:[51,65,85]},alternateRowStyles:{fillColor:[241,245,249]}});const Ut=Dt.output("blob"),Sn=new File([Ut],`inventario_${ht}.pdf`,{type:"application/pdf"}),Kt=` *Relatrio de Inventrio #${ht}*
 *Data:* ${Ye}
 *Itens:* ${Ae.totalItems}`;if(navigator.share&&navigator.canShare&&navigator.canShare({files:[Sn]}))try{await navigator.share({files:[Sn],title:`Inventrio #${ht}`,text:Kt})}catch(pn){pn.name!=="AbortError"&&console.error("Erro ao compartilhar:",pn)}else if(navigator.share)try{await navigator.share({title:`Inventrio #${ht}`,text:Kt})}catch(pn){console.error("Erro ao compartilhar texto:",pn)}else navigator.clipboard.writeText(Kt),alert("Informaes copiadas para a rea de transferncia!")},Tt=(Ae,ht)=>{const Ye=window.open("","_blank");if(!Ye)return;const Dt=`
            <html>
                <head>
                    <title>Relatrio de Inventrio #${ht}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; color: #333; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                        th { background-color: #e2e8f0 !important; }
                        tbody tr:nth-child(even) { background-color: #f2f2f2 !important; }
                        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
                        .diff-pos { color: green; font-weight: bold; }
                        .diff-neg { color: red; font-weight: bold; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div>
                            <h1>Inventrio #${ht}</h1>
                            <p>Data: ${Ae.createdAt?.toDate?Ae.createdAt.toDate().toLocaleString("pt-BR"):new Date().toLocaleString("pt-BR")}</p>
                        </div>
                        <div style="text-align: right">
                            <p>Total de Itens: ${Ae.totalItems}</p>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>SKU</th>
                                <th>Descrio</th>
                                <th>Anterior</th>
                                <th>Atual</th>
                                <th>Diferena</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${[...Ae.items].sort((kt,Ut)=>kt.sku.localeCompare(Ut.sku,void 0,{numeric:!0,sensitivity:"base"})).map(kt=>{const Ut=kt.currentCount-kt.previousCount;return`
                                    <tr>
                                        <td><strong>${kt.sku}</strong></td>
                                        <td>${kt.description}</td>
                                        <td>${kt.previousCount}</td>
                                        <td>${kt.currentCount}</td>
                                        <td class="${Ut>0?"diff-pos":Ut<0?"diff-neg":""}">${Ut>0?"+":""}${Ut}</td>
                                    </tr>
                                `}).join("")}
                        </tbody>
                    </table>
                    <script>window.print();<\/script>
                </body>
            </html>
        `;Ye.document.write(Dt),Ye.document.close()};return E.jsxs("div",{className:"p-4 md:p-8 max-w-full mx-auto",children:[E.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"Inventrio"}),E.jsx("p",{className:"text-slate-400",children:"Relatrios de contagem e comparao"})]})}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-slate-900 border border-slate-800 p-4 rounded-2xl mb-6 shadow-lg",children:[E.jsxs("div",{className:"flex-1 w-full",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Filtrar por Dia"}),E.jsx("input",{type:"date",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-emerald-500 outline-none transition-all",value:re,onChange:Ae=>j(Ae.target.value)})]}),E.jsx("button",{onClick:()=>j(""),className:"px-6 py-2 text-slate-400 hover:text-white transition-colors text-sm font-medium h-[42px]",children:"Limpar"}),E.jsx("div",{className:"hidden md:block h-10 w-px bg-slate-800 mx-2"}),E.jsxs("button",{onClick:()=>r(!0),className:"w-full md:w-auto flex items-center justify-center space-x-2 bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-2.5 rounded-xl transition-all shadow-lg shadow-emerald-900/20 font-bold",children:[E.jsx(Zu,{size:20}),E.jsx("span",{children:"Novo Relatrio"})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[E.jsx("div",{className:"hidden md:block overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-800/50 text-slate-400 text-sm",children:[E.jsx("th",{className:"px-6 py-4 font-semibold",children:"ID"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Criao"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Alterao"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"Itens"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:n.map((Ae,ht)=>{const Ye=n.length-ht;return E.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4 font-mono text-emerald-400",children:["#",Ye]}),E.jsx("td",{className:"px-6 py-4 text-slate-300 text-sm",children:Ae.createdAt?.toDate?Ae.createdAt.toDate().toLocaleString("pt-BR"):"Processando..."}),E.jsx("td",{className:"px-6 py-4 text-slate-400 text-sm",children:Ae.updatedAt?.toDate?Ae.updatedAt.toDate().toLocaleString("pt-BR"):"-"}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"bg-emerald-500/10 text-emerald-400 px-3 py-1 rounded-full text-xs font-bold",children:[Ae.totalItems," itens"]})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 text-nowrap",children:[E.jsx("button",{onClick:()=>{K(Ae),T(Ae.items),r(!0)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Editar",children:E.jsx(du,{size:18})}),E.jsx("button",{onClick:()=>Tt(Ae,Ye),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Imprimir",children:E.jsx(Qu,{size:18})}),E.jsx("button",{onClick:()=>ae(Ae.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-all",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},Ae.id)})})]})}),E.jsxs("div",{className:"md:hidden divide-y divide-slate-800",children:[n.map((Ae,ht)=>{const Ye=n.length-ht,Dt=Ae.createdAt?.toDate?Ae.createdAt.toDate().toLocaleString("pt-BR"):"Processando...";return E.jsxs("div",{className:"p-4 space-y-4 hover:bg-slate-800/20 transition-colors",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsxs("p",{className:"font-mono text-emerald-400 font-bold",children:["#",Ye]}),E.jsx("p",{className:"text-slate-500 text-[10px]",children:Dt})]}),E.jsxs("span",{className:"bg-emerald-500/10 text-emerald-400 px-2 py-1 rounded-full text-[10px] font-bold",children:[Ae.totalItems," ITENS"]})]}),E.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-800/50",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{K(Ae),T(Ae.items),r(!0)},className:"flex items-center gap-1.5 px-3 py-2 bg-slate-800 text-slate-300 rounded-lg text-xs font-bold border border-slate-700",children:[E.jsx(du,{size:14}),"Editar"]}),E.jsx("button",{onClick:()=>Tt(Ae,Ye),className:"px-3 py-2 bg-slate-800 text-slate-300 rounded-lg border border-slate-700",children:E.jsx(Qu,{size:14})}),E.jsx("button",{onClick:()=>ae(Ae.id),className:"px-3 py-2 bg-slate-800 text-red-400 rounded-lg border border-slate-700",children:E.jsx(us,{size:14})})]}),E.jsx("button",{onClick:()=>Lt(Ae),className:"p-2.5 bg-blue-600/10 text-blue-400 rounded-lg border border-blue-500/20",children:E.jsx(Vp,{size:18})})]})]},Ae.id)}),n.length===0&&E.jsx("div",{className:"p-12 text-center text-slate-500 italic text-sm",children:"Nenhum relatrio cadastrado."})]})]}),t&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 md:p-4 bg-black/80 backdrop-blur-md",children:E.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-2xl w-full max-w-4xl max-h-[95vh] flex flex-col shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white truncate px-2",children:$?`Editando Inventrio #${n.length-n.findIndex(Ae=>Ae.id===$.id)}`:"Novo Inventrio"}),E.jsx("button",{onClick:()=>{r(!1),T([]),K(null)},className:"text-slate-400 hover:text-white",children:E.jsx(Vo,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[E.jsxs("div",{className:"md:col-span-2 relative",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Produto (SKU ou Descrio)"}),E.jsxs("div",{className:"relative",children:[E.jsx(Up,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"text",ref:ee,autoFocus:!0,placeholder:"Inserir SKU",className:"w-full pl-10 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 outline-none",value:L?`${L.sku} - ${L.description}`:a,onChange:Ae=>!L&&Pe(Ae.target.value),readOnly:!!L}),(L||a)&&E.jsx("button",{onClick:()=>{R(null),l(""),m([]),ee.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:E.jsx(Vo,{size:18})})]}),y.length>0&&!L&&E.jsx("div",{className:"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-48 overflow-y-auto",children:y.map(Ae=>E.jsxs("div",{onClick:()=>{R(Ae),m([]),setTimeout(()=>ye.current?.focus(),10)},className:"p-3 hover:bg-slate-700 cursor-pointer border-b border-slate-700 last:border-0",children:[E.jsx("p",{className:"font-mono text-emerald-400 text-sm",children:Ae.sku}),E.jsx("p",{className:"text-slate-300 text-xs truncate",children:Ae.description})]},Ae.id))})]}),E.jsxs("div",{className:"md:w-32",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Qtd Atual"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"number",ref:ye,placeholder:"0",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-emerald-500 outline-none no-spinner",value:X,onChange:Ae=>W(Ae.target.value===""?"":Number(Ae.target.value))}),E.jsx("button",{onClick:Ie,disabled:!L||X==="",className:"bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-3 rounded-lg transition-all",children:E.jsx(Zu,{size:24})})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase flex items-center gap-2",children:[E.jsx(xf,{size:16}),"Itens no Relatrio (",b.length,")"]}),E.jsx("div",{className:"hidden md:block overflow-x-auto rounded-xl border border-slate-800",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-slate-900 text-slate-500 uppercase text-[10px] tracking-wider",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3",children:"Produto"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Anterior"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Atual"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Diferena"}),E.jsx("th",{className:"px-6 py-3"})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-900/30",children:[b.filter(Ae=>Ae.sku.toLowerCase().includes(a.toLowerCase())||Ae.description.toLowerCase().includes(a.toLowerCase())).map((Ae,ht)=>{const Ye=Ae.currentCount-Ae.previousCount,Dt=b.findIndex(kt=>kt===Ae);return E.jsxs("tr",{children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("p",{className:"font-mono text-emerald-400",children:Ae.sku}),E.jsx("p",{className:"text-slate-500 text-xs truncate max-w-[200px]",children:Ae.description})]}),E.jsx("td",{className:"px-6 py-4 text-center font-medium text-slate-400",children:Ae.previousCount}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-white",children:Ae.currentCount}),E.jsx("td",{className:`px-6 py-4 text-center font-bold ${Ye>0?"text-emerald-400":Ye<0?"text-red-400":"text-slate-500"}`,children:Ye>0?`+${Ye}`:Ye}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>{H(Dt),xe("")},className:"text-emerald-500 hover:text-emerald-400 p-1",title:"Somar Quantidade",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{He(Dt),Te(!0)},className:"text-slate-600 hover:text-red-400 p-1",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},ht)}),b.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-600 italic",children:"Nenhum item adicionado ainda."})})]})]})}),E.jsxs("div",{className:"md:hidden space-y-3",children:[b.filter(Ae=>Ae.sku.toLowerCase().includes(a.toLowerCase())||Ae.description.toLowerCase().includes(a.toLowerCase())).map((Ae,ht)=>{const Ye=Ae.currentCount-Ae.previousCount,Dt=b.findIndex(kt=>kt===Ae);return E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 flex justify-between items-center shadow-sm",children:[E.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[E.jsx("p",{className:"font-mono text-emerald-400 font-bold text-sm truncate",children:Ae.sku}),E.jsx("p",{className:"text-slate-500 text-[10px] truncate",children:Ae.description}),E.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[E.jsxs("div",{className:"text-slate-400 bg-slate-800/50 p-2 rounded-lg text-center",children:[E.jsx("span",{className:"block text-[8px] uppercase font-bold text-slate-500 mb-0.5",children:"Anterior"}),E.jsx("span",{className:"font-bold",children:Ae.previousCount})]}),E.jsxs("div",{className:"text-white bg-slate-800/50 p-2 rounded-lg text-center",children:[E.jsx("span",{className:"block text-[8px] uppercase font-bold text-slate-500 mb-0.5",children:"Atual"}),E.jsx("span",{className:"font-bold",children:Ae.currentCount})]})]}),E.jsxs("div",{className:`mt-2 text-center p-1 rounded-lg text-[10px] font-bold ${Ye>0?"bg-emerald-500/10 text-emerald-400":Ye<0?"bg-red-500/10 text-red-500":"bg-slate-800 text-slate-500"}`,children:["Diferena: ",Ye>0?`+${Ye}`:Ye]})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("button",{onClick:()=>{H(Dt),xe("")},className:"p-3 bg-emerald-500/10 text-emerald-500 rounded-lg active:scale-95 transition-all",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{He(Dt),Te(!0)},className:"p-3 bg-red-400/10 text-red-500 rounded-lg active:scale-95 transition-all",children:E.jsx(us,{size:18})})]})]},ht)}),b.length===0&&E.jsx("div",{className:"py-8 text-center text-slate-500 italic text-sm border-2 border-dashed border-slate-800 rounded-xl",children:"Nenhum item adicionado"})]})]})]}),E.jsxs("div",{className:"p-4 md:p-6 border-t border-slate-800 bg-slate-900/50 flex flex-col md:flex-row justify-end gap-3 md:gap-4",children:[E.jsx("button",{onClick:()=>{r(!1),T([]),K(null)},className:"order-2 md:order-1 px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:vt,disabled:b.length===0,className:"order-1 md:order-2 px-8 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg active:scale-95",children:"Finalizar Relatrio"})]})]})}),oe&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(ep,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Item J Adicionado"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Este SKU j est na lista. Deseja atualizar a quantidade para o novo valor informado?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{ue(!1),P(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:Ne,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Alterar"})]})]})})}),ze&&E.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/90 backdrop-blur-md",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 bg-slate-900/50",children:[E.jsx("div",{className:"w-12 h-12 bg-blue-500/10 text-blue-500 rounded-full flex items-center justify-center mb-4",children:E.jsx(ep,{size:24})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Itens Ausentes Detectados"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Os seguintes SKUs tinham estoque no inventrio anterior mas no foram bipados neste. Deseja adicion-los com quantidade 0?"})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2 bg-slate-950/50",children:pe.map(Ae=>E.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg border border-slate-700 flex justify-between items-center group",children:[E.jsxs("div",{children:[E.jsx("p",{className:"font-mono text-blue-400 text-sm font-bold group-hover:text-blue-300 transition-colors",children:Ae.sku}),E.jsx("p",{className:"text-slate-500 text-[10px] truncate max-w-[250px]",children:Ae.description})]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-slate-500 text-[8px] uppercase font-bold",children:"Anterior"}),E.jsx("p",{className:"font-bold text-slate-300",children:Ae.currentCount})]})]},Ae.sku))}),E.jsxs("div",{className:"p-6 bg-slate-900/50 border-t border-slate-800 flex flex-col gap-3",children:[E.jsx("button",{onClick:()=>Oe(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95 text-sm",children:"Sim, zerar itens e finalizar"}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsx("button",{onClick:()=>Oe(!1),className:"bg-slate-800 hover:bg-slate-700 text-slate-300 font-bold py-3 rounded-xl transition-all border border-slate-700 text-xs",children:"No, apenas finalizar"}),E.jsx("button",{onClick:()=>Y(!1),className:"bg-transparent hover:bg-slate-800/50 text-slate-500 hover:text-white py-3 font-semibold transition-all text-xs",children:"Revisar"})]})]})]})}),U!==null&&E.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(cc,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Somar Quantidade"}),E.jsxs("p",{className:"text-slate-400 mb-6 text-sm",children:["Informe o valor para somar ao item ",E.jsx("strong",{children:b[U].sku}),".",E.jsx("br",{}),"Atual: ",b[U].currentCount]}),E.jsx("input",{type:"number",ref:me,autoFocus:!0,placeholder:"Valor a somar (ex: 10)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white mb-6 focus:ring-2 focus:ring-emerald-500 outline-none no-spinner",value:Ce,onChange:Ae=>xe(Ae.target.value===""?"":Number(Ae.target.value)),onKeyDown:Ae=>Ae.key==="Enter"&&Fe()}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{H(null),xe("")},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:Fe,disabled:Ce==="",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Somar"})]})]})})}),_e&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Remover Item?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja remover este item do relatrio? Esta ao no pode ser desfeita."}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{Te(!1),He(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:()=>{De!==null&&T(b.filter((Ae,ht)=>ht!==De)),Te(!1),He(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})}),lt&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Excluir Relatrio?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja apagar este relatrio permanentemente?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{de(!1),le(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:It,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})})]})},TP=()=>{const[n,e]=Re.useState([]),[t,r]=Re.useState(!1),[a,l]=Re.useState(""),[f,g]=Re.useState([]),[y,m]=Re.useState([]),[b,T]=Re.useState(null),[L,R]=Re.useState(""),[X,W]=Re.useState(null),[$,K]=Re.useState(!1),[oe,ue]=Re.useState(null),[pe,Ue]=Re.useState(""),[ze,Y]=Re.useState(null),[G,P]=Re.useState(""),[re,j]=Re.useState(!1),[U,H]=Re.useState(null),[Ce,xe]=Re.useState(!1),[_e,Te]=Re.useState(null),De=Re.useRef(null),He=Re.useRef(null),lt=Re.useRef(null);Re.useEffect(()=>{const Ne=Io(Xi(Un,"reports"),su("createdAt","asc")),Qe=xc(Ne,Oe=>{const vt=Oe.docs.map(ae=>({id:ae.id,...ae.data()})).filter(ae=>ae.type==="tested"?pe?(ae.createdAt?.toDate?ae.createdAt.toDate().toLocaleDateString("en-CA"):"")===pe:!0:!1);e(vt.reverse())});return()=>Qe()},[pe]);const de=async Ne=>{if(l(Ne),Ne.length<2){g([]);return}const Oe=(await rl(Xi(Un,"products"))).docs.map(Ge=>({id:Ge.id,...Ge.data()})).filter(Ge=>Ge.status==="active"&&(Ge.sku.toLowerCase().includes(Ne.toLowerCase())||Ge.description.toLowerCase().includes(Ne.toLowerCase()))).slice(0,10);g(Oe)},q=async()=>{if(!b)return;const Ne=y.findIndex(Lt=>Lt.productId===b.id);if(Ne!==-1){ue(Ne),K(!0);return}let Qe=0;const Oe=Io(Xi(Un,"reports"),su("createdAt","desc")),ae=(await rl(Oe)).docs.map(Lt=>Lt.data()).find(Lt=>Lt.type==="tested");if(ae){const Lt=ae.items.find(Tt=>Tt.productId===b.id);Qe=Lt?Lt.currentCount:0}const It={productId:b.id,sku:b.sku,description:b.description,currentCount:Number(L)||0,previousCount:Qe};m([...y,It]),T(null),l(""),R(""),g([]),De.current?.focus()},le=()=>{if(ze!==null&&G!==""){const Ne=[...y];Ne[ze].currentCount+=Number(G),m(Ne),Y(null),P("")}},ee=()=>{if(oe!==null){const Ne=[...y];Ne[oe].currentCount=Number(L)||0,m(Ne),T(null),l(""),R(""),g([]),K(!1),ue(null),De.current?.focus()}},ye=async()=>{if(y.length===0)return;let Ne;X?(Ne=Pi(Un,"reports",X.id),await mc(Ne,{items:y,totalItems:y.length,updatedAt:Za()})):Ne=await jp(Xi(Un,"reports"),{type:"tested",items:y,totalItems:y.length,createdAt:Za(),updatedAt:Za()});for(const Qe of y){const Oe={action:"Teste de Qualidade",date:new Date().toISOString(),details:`Contagem realizada: ${Qe.currentCount} (Anterior: ${Qe.previousCount})`,reportId:X?X.id:Ne.id};await mc(Pi(Un,"products",Qe.productId),{history:Mp(Oe),updatedAt:Za()})}r(!1),m([]),W(null)},me=async Ne=>{Te(Ne),xe(!0)},Pe=async()=>{if(_e)try{await Hd(Pi(Un,"reports",_e)),xe(!1),Te(null)}catch(Ne){console.error("Erro ao excluir:",Ne)}},Ie=async Ne=>{const Qe=n.length-n.findIndex(Tt=>Tt.id===Ne.id),Oe=Ne.createdAt?.toDate?Ne.createdAt.toDate().toLocaleString("pt-BR"):"Processando...",Ge=new dn;Ge.setFontSize(20),Ge.text(`Relatrio de Testados #${Qe}`,15,20),Ge.setFontSize(10),Ge.text(`Data: ${Oe}`,15,30),Ge.text(`Total de Itens: ${Ne.totalItems}`,150,30),Ge.line(15,35,195,35);const vt=[...Ne.items].sort((Tt,Ae)=>Tt.sku.localeCompare(Ae.sku,void 0,{numeric:!0,sensitivity:"base"})).map(Tt=>{const Ae=Tt.currentCount-Tt.previousCount;return[Tt.sku,Tt.description,Tt.previousCount.toString(),Tt.currentCount.toString(),Ae>0?`+${Ae}`:Ae.toString()]});Gp(Ge,{startY:40,head:[["SKU","Descrio","Anterior","Atual","Diferena"]],body:vt,headStyles:{fillColor:[226,232,240],textColor:[51,65,85]},alternateRowStyles:{fillColor:[241,245,249]}});const ae=Ge.output("blob"),It=new File([ae],`testados_${Qe}.pdf`,{type:"application/pdf"}),Lt=` *Relatrio de Testados #${Qe}*
 *Data:* ${Oe}
 *Itens:* ${Ne.totalItems}`;if(navigator.share&&navigator.canShare&&navigator.canShare({files:[It]}))try{await navigator.share({files:[It],title:`Testados #${Qe}`,text:Lt})}catch(Tt){Tt.name!=="AbortError"&&console.error("Erro ao compartilhar:",Tt)}else if(navigator.share)try{await navigator.share({title:`Testados #${Qe}`,text:Lt})}catch(Tt){console.error("Erro ao compartilhar texto:",Tt)}else navigator.clipboard.writeText(Lt),alert("Informaes copiadas para a rea de transferncia!")},Fe=(Ne,Qe)=>{const Oe=window.open("","_blank");if(!Oe)return;const Ge=`
            <html>
                <head>
                    <title>Relatrio de Testados #${Qe}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; color: #333; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                        th { background-color: #e2e8f0 !important; }
                        tbody tr:nth-child(even) { background-color: #f2f2f2 !important; }
                        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
                        .diff-pos { color: green; font-weight: bold; }
                        .diff-neg { color: red; font-weight: bold; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div>
                            <h1>Produtos Testados #${Qe}</h1>
                            <p>Data: ${Ne.createdAt?.toDate?Ne.createdAt.toDate().toLocaleString("pt-BR"):new Date().toLocaleString("pt-BR")}</p>
                        </div>
                        <div style="text-align: right">
                            <p>Total de Itens: ${Ne.totalItems}</p>
                        </div>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>SKU</th>
                                <th>Descrio</th>
                                <th>Anterior</th>
                                <th>Atual</th>
                                <th>Diferena</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Ne.items.map(vt=>{const ae=vt.currentCount-vt.previousCount;return`
                                    <tr>
                                        <td><strong>${vt.sku}</strong></td>
                                        <td>${vt.description}</td>
                                        <td>${vt.previousCount}</td>
                                        <td>${vt.currentCount}</td>
                                        <td class="${ae>0?"diff-pos":ae<0?"diff-neg":""}">${ae>0?"+":""}${ae}</td>
                                    </tr>
                                `}).join("")}
                        </tbody>
                    </table>
                    <script>window.print();<\/script>
                </body>
            </html>
        `;Oe.document.write(Ge),Oe.document.close()};return E.jsxs("div",{className:"p-4 md:p-8 max-w-full mx-auto",children:[E.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"Produtos Testados"}),E.jsx("p",{className:"text-slate-400",children:"Contagem e comparao de itens validados"})]})}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-slate-900 border border-slate-800 p-4 rounded-2xl mb-6 shadow-lg",children:[E.jsxs("div",{className:"flex-1 w-full",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Filtrar por Dia"}),E.jsx("input",{type:"date",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:pe,onChange:Ne=>Ue(Ne.target.value)})]}),E.jsx("button",{onClick:()=>Ue(""),className:"px-6 py-2 text-slate-400 hover:text-white transition-colors text-sm font-medium h-[42px]",children:"Limpar"}),E.jsx("div",{className:"hidden md:block h-10 w-px bg-slate-800 mx-2"}),E.jsxs("button",{onClick:()=>r(!0),className:"w-full md:w-auto flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-2.5 rounded-xl transition-all shadow-lg shadow-blue-900/20 font-bold",children:[E.jsx(Zu,{size:20}),E.jsx("span",{children:"Novo Relatrio"})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[E.jsx("div",{className:"hidden md:block overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-800/50 text-slate-400 text-sm",children:[E.jsx("th",{className:"px-6 py-4 font-semibold",children:"ID"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Criao"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Alterao"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"Itens"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:n.map((Ne,Qe)=>{const Oe=n.length-Qe;return E.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4 font-mono text-blue-400",children:["#",Oe]}),E.jsx("td",{className:"px-6 py-4 text-slate-300",children:Ne.createdAt?.toDate?Ne.createdAt.toDate().toLocaleString("pt-BR"):"Processando..."}),E.jsx("td",{className:"px-6 py-4 text-slate-400 text-sm",children:Ne.updatedAt?.toDate?Ne.updatedAt.toDate().toLocaleString("pt-BR"):"-"}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-3 py-1 rounded-full text-xs font-bold",children:[Ne.totalItems," itens"]})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 text-nowrap",children:[E.jsx("button",{onClick:()=>{W(Ne),m(Ne.items),r(!0)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Editar",children:E.jsx(du,{size:18})}),E.jsx("button",{onClick:()=>Fe(Ne,Oe),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Imprimir",children:E.jsx(Qu,{size:18})}),E.jsx("button",{onClick:()=>me(Ne.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-all",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},Ne.id)})})]})}),E.jsxs("div",{className:"md:hidden divide-y divide-slate-800",children:[n.map((Ne,Qe)=>{const Oe=n.length-Qe,Ge=Ne.createdAt?.toDate?Ne.createdAt.toDate().toLocaleString("pt-BR"):"Processando...";return E.jsxs("div",{className:"p-4 space-y-4 hover:bg-slate-800/20 transition-colors",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsxs("p",{className:"font-mono text-blue-400 font-bold",children:["#",Oe]}),E.jsx("p",{className:"text-slate-500 text-[10px]",children:Ge})]}),E.jsxs("span",{className:"bg-blue-500/10 text-blue-400 px-2 py-1 rounded-full text-[10px] font-bold",children:[Ne.totalItems," ITENS"]})]}),E.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-800/50",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{W(Ne),m(Ne.items),r(!0)},className:"flex items-center gap-1.5 px-3 py-2 bg-slate-800 text-slate-300 rounded-lg text-xs font-bold border border-slate-700",children:[E.jsx(du,{size:14}),"Editar"]}),E.jsx("button",{onClick:()=>Fe(Ne,Oe),className:"px-3 py-2 bg-slate-800 text-slate-300 rounded-lg border border-slate-700",children:E.jsx(Qu,{size:14})}),E.jsx("button",{onClick:()=>me(Ne.id),className:"px-3 py-2 bg-slate-800 text-red-400 rounded-lg border border-slate-700",children:E.jsx(us,{size:14})})]}),E.jsx("button",{onClick:()=>Ie(Ne),className:"p-2.5 bg-blue-600/10 text-blue-400 rounded-lg border border-blue-500/20",children:E.jsx(Vp,{size:18})})]})]},Ne.id)}),n.length===0&&E.jsx("div",{className:"p-12 text-center text-slate-500 italic text-sm",children:"Nenhum relatrio cadastrado."})]})]}),t&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black/80 backdrop-blur-md",children:E.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-2xl w-full max-w-4xl max-h-[95vh] flex flex-col shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white truncate px-2",children:X?`Editando Relatrio #${n.length-n.findIndex(Ne=>Ne.id===X.id)}`:"Novo Relatrio (Testados)"}),E.jsx("button",{onClick:()=>{r(!1),m([]),W(null)},className:"text-slate-400 hover:text-white",children:E.jsx(Vo,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[E.jsxs("div",{className:"md:col-span-2 relative",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Produto"}),E.jsxs("div",{className:"relative",children:[E.jsx(Up,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"text",ref:De,autoFocus:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none transition-all",value:b?`${b.sku} - ${b.description}`:a,onChange:Ne=>!b&&de(Ne.target.value),readOnly:!!b,placeholder:"Inserir SKU"}),(b||a)&&E.jsx("button",{onClick:()=>{T(null),l(""),g([]),De.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:E.jsx(Vo,{size:18})})]}),f.length>0&&!b&&E.jsx("div",{className:"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-48 overflow-y-auto border-t-0 rounded-t-none",children:f.map(Ne=>E.jsxs("div",{onClick:()=>{T(Ne),g([]),setTimeout(()=>He.current?.focus(),10)},className:"p-3 hover:bg-slate-700 cursor-pointer border-b border-slate-700 last:border-0",children:[E.jsx("p",{className:"font-mono text-blue-400 text-sm",children:Ne.sku}),E.jsx("p",{className:"text-slate-300 text-xs truncate",children:Ne.description})]},Ne.id))})]}),E.jsxs("div",{className:"md:w-32",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Qtd"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"number",ref:He,placeholder:"0",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-blue-500 outline-none no-spinner",value:L,onChange:Ne=>R(Ne.target.value===""?"":Number(Ne.target.value))}),E.jsx("button",{onClick:q,disabled:!b||L==="",className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white p-3 rounded-lg transition-all shadow-lg active:scale-95",children:E.jsx(Zu,{size:24})})]})]})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase flex items-center gap-2",children:[E.jsx(xf,{size:16}),"Itens no Relatrio (",y.length,")"]}),E.jsx("div",{className:"hidden md:block overflow-x-auto rounded-xl border border-slate-800",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-slate-900 text-slate-500 uppercase text-[10px] tracking-wider",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3",children:"Produto"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Anterior"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Atual"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Diferena"}),E.jsx("th",{className:"px-6 py-3"})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-900/30",children:[y.filter(Ne=>Ne.sku.toLowerCase().includes(a.toLowerCase())||Ne.description.toLowerCase().includes(a.toLowerCase())).map((Ne,Qe)=>{const Oe=y.findIndex(vt=>vt===Ne),Ge=Ne.currentCount-Ne.previousCount;return E.jsxs("tr",{className:"hover:bg-slate-800/10 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("p",{className:"font-mono text-blue-400",children:Ne.sku}),E.jsx("p",{className:"text-slate-500 text-xs truncate max-w-[150px] md:max-w-[300px]",children:Ne.description})]}),E.jsx("td",{className:"px-6 py-4 text-center font-medium text-slate-400",children:Ne.previousCount}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-white",children:Ne.currentCount}),E.jsx("td",{className:`px-6 py-4 text-center font-bold ${Ge>0?"text-emerald-400":Ge<0?"text-red-400":"text-slate-500"}`,children:Ge>0?`+${Ge}`:Ge}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>{Y(Oe),P("")},className:"text-emerald-500 hover:text-emerald-400 p-2 transition-colors",title:"Somar Quantidade",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{H(Oe),j(!0)},className:"text-slate-600 hover:text-red-400 p-2 transition-colors",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},Qe)}),y.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500 italic",children:"Adicione produtos para iniciar o relatrio"})})]})]})}),E.jsxs("div",{className:"md:hidden space-y-3",children:[y.filter(Ne=>Ne.sku.toLowerCase().includes(a.toLowerCase())||Ne.description.toLowerCase().includes(a.toLowerCase())).map((Ne,Qe)=>{const Oe=y.findIndex(vt=>vt===Ne),Ge=Ne.currentCount-Ne.previousCount;return E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 flex justify-between items-center shadow-sm",children:[E.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[E.jsx("p",{className:"font-mono text-blue-400 font-bold text-sm truncate",children:Ne.sku}),E.jsx("p",{className:"text-slate-500 text-[10px] truncate",children:Ne.description}),E.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[E.jsxs("div",{className:"text-slate-400 bg-slate-800/50 p-2 rounded-lg text-center",children:[E.jsx("span",{className:"block text-[8px] uppercase font-bold text-slate-500 mb-0.5",children:"Anterior"}),E.jsx("span",{className:"font-bold",children:Ne.previousCount})]}),E.jsxs("div",{className:"text-white bg-slate-800/50 p-2 rounded-lg text-center",children:[E.jsx("span",{className:"block text-[8px] uppercase font-bold text-slate-500 mb-0.5",children:"Atual"}),E.jsx("span",{className:"font-bold",children:Ne.currentCount})]})]}),E.jsxs("div",{className:`mt-2 text-center p-1 rounded-lg text-[10px] font-bold ${Ge>0?"bg-emerald-500/10 text-emerald-400":Ge<0?"bg-red-500/10 text-red-500":"bg-slate-800 text-slate-500"}`,children:["Diferena: ",Ge>0?`+${Ge}`:Ge]})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("button",{onClick:()=>{Y(Oe),P("")},className:"p-3 bg-emerald-500/10 text-emerald-500 rounded-lg active:scale-95 transition-all",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{H(Oe),j(!0)},className:"p-3 bg-red-400/10 text-red-500 rounded-lg active:scale-95 transition-all",children:E.jsx(us,{size:18})})]})]},Qe)}),y.length===0&&E.jsx("div",{className:"py-8 text-center text-slate-500 italic text-sm border-2 border-dashed border-slate-800 rounded-xl",children:"Nenhum item adicionado"})]})]})]}),E.jsxs("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex flex-col md:flex-row justify-end gap-3 md:gap-4",children:[E.jsx("button",{onClick:()=>{r(!1),m([]),W(null)},className:"order-2 md:order-1 px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:ye,disabled:y.length===0,className:"order-1 md:order-2 px-8 py-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg active:scale-95",children:"Finalizar"})]})]})}),$&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(ep,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Item J Adicionado"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Este SKU j est na lista. Deseja atualizar a quantidade para o novo valor informado?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{K(!1),ue(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:ee,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Alterar"})]})]})})}),ze!==null&&E.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(cc,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Somar Quantidade"}),E.jsxs("p",{className:"text-slate-400 mb-6 text-sm",children:["Informe o valor para somar ao item ",E.jsx("strong",{children:y[ze].sku}),".",E.jsx("br",{}),"Atual: ",y[ze].currentCount]}),E.jsx("input",{type:"number",ref:lt,autoFocus:!0,placeholder:"Valor a somar (ex: 10)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white mb-6 focus:ring-2 focus:ring-emerald-500 outline-none no-spinner",value:G,onChange:Ne=>P(Ne.target.value===""?"":Number(Ne.target.value)),onKeyDown:Ne=>Ne.key==="Enter"&&le()}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{Y(null),P("")},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:le,disabled:G==="",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Somar"})]})]})})}),re&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Remover Item?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja remover este item do teste? Esta ao no pode ser desfeita."}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{j(!1),H(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:()=>{U!==null&&m(y.filter((Ne,Qe)=>Qe!==U)),j(!1),H(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})}),Ce&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Excluir Relatrio?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja apagar este relatrio de testes permanentemente?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{xe(!1),Te(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:Pe,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})})]})},IP=()=>{const[n,e]=Re.useState([]),[t,r]=Re.useState(!1),[a,l]=Re.useState(""),[f,g]=Re.useState([]),[y,m]=Re.useState([]),[b,T]=Re.useState(null),[L,R]=Re.useState(""),[X,W]=Re.useState(null),[$,K]=Re.useState(!1),[oe,ue]=Re.useState(null),[pe,Ue]=Re.useState(""),[ze,Y]=Re.useState(""),[G,P]=Re.useState(null),[re,j]=Re.useState(""),[U,H]=Re.useState(!1),[Ce,xe]=Re.useState(null),[_e,Te]=Re.useState(!1),[De,He]=Re.useState(null),lt=Re.useRef(null),de=Re.useRef(null),q=Re.useRef(null);Re.useEffect(()=>{const Oe=Io(Xi(Un,"reports"),su("createdAt","asc")),Ge=xc(Oe,vt=>{const It=vt.docs.map(Lt=>({id:Lt.id,...Lt.data()})).filter(Lt=>Lt.type==="delivery"?pe?(Lt.createdAt?.toDate?Lt.createdAt.toDate().toLocaleDateString("en-CA"):"")===pe:!0:!1);e(It.reverse())});return()=>Ge()},[pe]);const le=async Oe=>{if(l(Oe),Oe.length<2){g([]);return}const vt=(await rl(Xi(Un,"products"))).docs.map(ae=>({id:ae.id,...ae.data()})).filter(ae=>ae.status==="active"&&(ae.sku.toLowerCase().includes(Oe.toLowerCase())||ae.description.toLowerCase().includes(Oe.toLowerCase()))).slice(0,10);g(vt)},ee=()=>{if(!b)return;const Oe=y.findIndex(vt=>vt.productId===b.id);if(Oe!==-1){ue(Oe),K(!0);return}const Ge={productId:b.id,sku:b.sku,description:b.description,currentCount:Number(L)||0};m([...y,Ge]),T(null),l(""),R(""),g([]),lt.current?.focus()},ye=()=>{if(G!==null&&re!==""){const Oe=[...y];Oe[G].currentCount+=Number(re),m(Oe),P(null),j("")}},me=()=>{if(oe!==null){const Oe=[...y];Oe[oe].currentCount=Number(L)||0,m(Oe),T(null),l(""),R(""),g([]),K(!1),ue(null),lt.current?.focus()}},Pe=async()=>{if(y.length===0)return;let Oe;X?(Oe=Pi(Un,"reports",X.id),await mc(Oe,{items:y,totalItems:y.length,notes:ze,updatedAt:Za()})):Oe=await jp(Xi(Un,"reports"),{type:"delivery",items:y,totalItems:y.length,notes:ze,createdAt:Za(),updatedAt:Za()});for(const Ge of y){const vt={action:"Entrega (Recebimento)",date:new Date().toISOString(),details:`Quantidade recebida: ${Ge.currentCount}`,reportId:X?X.id:Oe.id};await mc(Pi(Un,"products",Ge.productId),{history:Mp(vt),updatedAt:Za()})}r(!1),m([]),Y(""),W(null)},Ie=async Oe=>{He(Oe),Te(!0)},Fe=async()=>{if(De)try{await Hd(Pi(Un,"reports",De)),Te(!1),He(null)}catch(Oe){console.error("Erro ao excluir:",Oe)}},Ne=async Oe=>{const Ge=n.length-n.findIndex(ht=>ht.id===Oe.id),vt=Oe.createdAt?.toDate?Oe.createdAt.toDate().toLocaleString("pt-BR"):"Processando...",ae=new dn;if(ae.setFontSize(20),ae.text(`Registro de Entrega #${Ge}`,15,20),ae.setFontSize(10),ae.text(`Data: ${vt}`,15,30),ae.text(`Total de Itens: ${Oe.totalItems}`,150,30),ae.line(15,35,195,35),Oe.notes){ae.setFontSize(10),ae.setFont("helvetica","bold"),ae.text("Observaes:",15,42),ae.setFont("helvetica","normal");const ht=ae.splitTextToSize(Oe.notes,180);ae.text(ht,15,47),ae.line(15,47+ht.length*5,195,47+ht.length*5)}const It=[...Oe.items].sort((ht,Ye)=>ht.sku.localeCompare(Ye.sku,void 0,{numeric:!0,sensitivity:"base"})).map(ht=>[ht.sku,ht.description,ht.currentCount.toString()]);Gp(ae,{startY:Oe.notes?55+ae.splitTextToSize(Oe.notes,180).length*5:40,head:[["SKU","Descrio","Quantidade"]],body:It,headStyles:{fillColor:[226,232,240],textColor:[51,65,85]},alternateRowStyles:{fillColor:[241,245,249]}});const Lt=ae.output("blob"),Tt=new File([Lt],`entrega_${Ge}.pdf`,{type:"application/pdf"});let Ae=` *Registro de Entrega #${Ge}*
 *Data:* ${vt}
 *Itens:* ${Oe.totalItems}`;if(Oe.notes&&(Ae+=`

 *Observaes:* ${Oe.notes}`),navigator.share&&navigator.canShare&&navigator.canShare({files:[Tt]}))try{await navigator.share({files:[Tt],title:`Entrega #${Ge}`,text:Ae})}catch(ht){ht.name!=="AbortError"&&console.error("Erro ao compartilhar:",ht)}else if(navigator.share)try{await navigator.share({title:`Entrega #${Ge}`,text:Ae})}catch(ht){console.error("Erro ao compartilhar texto:",ht)}else navigator.clipboard.writeText(Ae),alert("Informaes copiadas para a rea de transferncia!")},Qe=(Oe,Ge)=>{const vt=window.open("","_blank");if(!vt)return;const ae=`
            <html>
                <head>
                    <title>Relatrio de Entrega #${Ge}</title>
                    <style>
                        body { font-family: sans-serif; padding: 20px; color: #333; }
                        table { width: 100%; border-collapse: collapse; margin-top: 20px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                        th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                        th { background-color: #e2e8f0 !important; }
                        tbody tr:nth-child(even) { background-color: #f2f2f2 !important; }
                        .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #333; padding-bottom: 10px; }
                    </style>
                </head>
                <body>
                    <div class="header">
                        <div>
                            <h1>Registro de Entrega #${Ge}</h1>
                            <p>Data: ${Oe.createdAt?.toDate?Oe.createdAt.toDate().toLocaleString("pt-BR"):new Date().toLocaleString("pt-BR")}</p>
                        </div>
                        <div style="text-align: right">
                            <p>Total de Itens: ${Oe.totalItems}</p>
                        </div>
                    </div>
                    ${Oe.notes?`<div style="margin-top: 15px; padding: 10px; background: #f8fafc; border-left: 4px solid #333;"><p style="margin:0; font-weight: bold; font-size: 14px;">Observaes:</p><p style="margin:5px 0 0 0; font-size: 14px;">${Oe.notes}</p></div>`:""}
                    <table>
                        <thead>
                            <tr>
                                <th>SKU</th>
                                <th>Descrio</th>
                                <th>Quantidade</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${Oe.items.map(It=>`
                                <tr>
                                    <td><strong>${It.sku}</strong></td>
                                    <td>${It.description}</td>
                                    <td>${It.currentCount}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>
                    <script>window.print();<\/script>
                </body>
            </html>
        `;vt.document.write(ae),vt.document.close()};return E.jsxs("div",{className:"p-4 md:p-8 max-w-full mx-auto",children:[E.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-white",children:"Entregas"}),E.jsx("p",{className:"text-slate-400",children:"Registro de recebimento de itens"})]})}),E.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end bg-slate-900 border border-slate-800 p-4 rounded-2xl mb-6 shadow-lg",children:[E.jsxs("div",{className:"flex-1 w-full",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Filtrar por Dia"}),E.jsx("input",{type:"date",className:"w-full bg-slate-800 border border-slate-700 rounded-xl px-4 py-2 text-white focus:ring-2 focus:ring-purple-500 outline-none transition-all",value:pe,onChange:Oe=>Ue(Oe.target.value)})]}),E.jsx("button",{onClick:()=>Ue(""),className:"px-6 py-2 text-slate-400 hover:text-white transition-colors text-sm font-medium h-[42px]",children:"Limpar"}),E.jsx("div",{className:"hidden md:block h-10 w-px bg-slate-800 mx-2"}),E.jsxs("button",{onClick:()=>r(!0),className:"w-full md:w-auto flex items-center justify-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-8 py-2.5 rounded-xl transition-all shadow-lg shadow-purple-900/20 font-bold",children:[E.jsx(Zu,{size:20}),E.jsx("span",{children:"Nova Entrega"})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[E.jsx("div",{className:"hidden md:block overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-800/50 text-slate-400 text-sm",children:[E.jsx("th",{className:"px-6 py-4 font-semibold",children:"ID"}),E.jsx("th",{className:"px-6 py-4 font-semibold",children:"Criao"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-center",children:"Itens"}),E.jsx("th",{className:"px-6 py-4 font-semibold text-right",children:"Aes"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-800",children:n.map((Oe,Ge)=>{const vt=n.length-Ge;return E.jsxs("tr",{className:"hover:bg-slate-800/30 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4 font-mono text-purple-400",children:["#",vt]}),E.jsx("td",{className:"px-6 py-4 text-slate-300",children:Oe.createdAt?.toDate?Oe.createdAt.toDate().toLocaleString("pt-BR"):"Processando..."}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-3 py-1 rounded-full text-xs font-bold",children:[Oe.totalItems," itens"]})}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2 text-nowrap",children:[Oe.notes&&E.jsx("div",{className:"p-2 text-blue-400",title:Oe.notes,children:E.jsx(mw,{size:18})}),E.jsx("button",{onClick:()=>{W(Oe),m(Oe.items),Y(Oe.notes||""),r(!0)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Editar",children:E.jsx(du,{size:18})}),E.jsx("button",{onClick:()=>Qe(Oe,vt),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-all",title:"Imprimir",children:E.jsx(Qu,{size:18})}),E.jsx("button",{onClick:()=>Ie(Oe.id),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition-all",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},Oe.id)})})]})}),E.jsxs("div",{className:"md:hidden divide-y divide-slate-800",children:[n.map((Oe,Ge)=>{const vt=n.length-Ge,ae=Oe.createdAt?.toDate?Oe.createdAt.toDate().toLocaleString("pt-BR"):"Processando...";return E.jsxs("div",{className:"p-4 space-y-4 hover:bg-slate-800/20 transition-colors",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsxs("p",{className:"font-mono text-purple-400 font-bold",children:["#",vt]}),E.jsx("p",{className:"text-slate-500 text-[10px]",children:ae})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[Oe.notes&&E.jsx("span",{title:Oe.notes,children:E.jsx(mw,{size:14,className:"text-blue-400"})}),E.jsxs("span",{className:"bg-purple-500/10 text-purple-400 px-2 py-1 rounded-full text-[10px] font-bold",children:[Oe.totalItems," ITENS"]})]})]}),E.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-slate-800/50",children:[E.jsxs("div",{className:"flex gap-2",children:[E.jsxs("button",{onClick:()=>{W(Oe),m(Oe.items),Y(Oe.notes||""),r(!0)},className:"flex items-center gap-1.5 px-3 py-2 bg-slate-800 text-slate-300 rounded-lg text-xs font-bold border border-slate-700",children:[E.jsx(du,{size:14}),"Editar"]}),E.jsx("button",{onClick:()=>Qe(Oe,vt),className:"px-3 py-2 bg-slate-800 text-slate-300 rounded-lg border border-slate-700",children:E.jsx(Qu,{size:14})}),E.jsx("button",{onClick:()=>Ie(Oe.id),className:"px-3 py-2 bg-slate-800 text-red-400 rounded-lg border border-slate-700",children:E.jsx(us,{size:14})})]}),E.jsx("button",{onClick:()=>Ne(Oe),className:"p-2.5 bg-blue-600/10 text-blue-400 rounded-lg border border-blue-500/20",children:E.jsx(Vp,{size:18})})]})]},Oe.id)}),n.length===0&&E.jsx("div",{className:"p-12 text-center text-slate-500 italic text-sm",children:"Nenhum relatrio cadastrado."})]})]}),t&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2 bg-black/80 backdrop-blur-md",children:E.jsxs("div",{className:"bg-slate-950 border border-slate-800 rounded-2xl w-full max-w-4xl max-h-[95vh] flex flex-col shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex justify-between items-center bg-slate-900/50",children:[E.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white truncate px-2",children:X?`Editando Entrega #${n.length-n.findIndex(Oe=>Oe.id===X.id)}`:"Novo Registro de Entrega"}),E.jsx("button",{onClick:()=>{r(!1),m([]),Y(""),W(null)},className:"text-slate-400 hover:text-white",children:E.jsx(Vo,{size:24})})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[E.jsxs("div",{className:"md:col-span-2 relative",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Produto"}),E.jsxs("div",{className:"relative",children:[E.jsx(Up,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:18}),E.jsx("input",{type:"text",ref:lt,autoFocus:!0,className:"w-full pl-10 pr-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-purple-500 outline-none transition-all",value:b?`${b.sku} - ${b.description}`:a,onChange:Oe=>!b&&le(Oe.target.value),readOnly:!!b,placeholder:"Inserir SKU"}),(b||a)&&E.jsx("button",{onClick:()=>{T(null),l(""),g([]),lt.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white",children:E.jsx(Vo,{size:18})})]}),f.length>0&&!b&&E.jsx("div",{className:"absolute z-10 w-full mt-1 bg-slate-800 border border-slate-700 rounded-lg shadow-xl max-h-48 overflow-y-auto border-t-0 rounded-t-none",children:f.map(Oe=>E.jsxs("div",{onClick:()=>{T(Oe),g([]),setTimeout(()=>de.current?.focus(),10)},className:"p-3 hover:bg-slate-700 cursor-pointer border-b border-slate-700 last:border-0",children:[E.jsx("p",{className:"font-mono text-purple-400 text-sm",children:Oe.sku}),E.jsx("p",{className:"text-slate-300 text-xs truncate",children:Oe.description})]},Oe.id))})]}),E.jsxs("div",{className:"md:w-32",children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 uppercase mb-2 ml-1",children:"Qtd"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"number",ref:de,placeholder:"0",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white focus:ring-2 focus:ring-purple-500 outline-none no-spinner",value:L,onChange:Oe=>R(Oe.target.value===""?"":Number(Oe.target.value))}),E.jsx("button",{onClick:ee,disabled:!b||L==="",className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white p-3 rounded-lg transition-all shadow-lg active:scale-95",children:E.jsx(Zu,{size:24})})]})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-3",children:[E.jsxs("div",{className:"flex justify-between items-center mb-1.5 ml-1",children:[E.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase",children:"Observaes (Opcional)"}),E.jsxs("span",{className:`text-[10px] font-bold ${ze.length>=45?"text-amber-500":"text-slate-600"}`,children:[ze.length,"/50"]})]}),E.jsx("input",{type:"text",value:ze,onChange:Oe=>Y(Oe.target.value.slice(0,50)),maxLength:50,placeholder:"Ex: NF #1234, entregador Fulano...",className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg px-3 py-2 text-white text-sm focus:ring-2 focus:ring-purple-500 outline-none transition-all"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("h3",{className:"text-sm font-semibold text-slate-400 uppercase flex items-center gap-2",children:[E.jsx(xf,{size:16}),"Itens na Entrega (",y.length,")"]}),E.jsx("div",{className:"hidden md:block overflow-x-auto rounded-xl border border-slate-800",children:E.jsxs("table",{className:"w-full text-left text-sm",children:[E.jsx("thead",{className:"bg-slate-900 text-slate-500 uppercase text-[10px] tracking-wider",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-3",children:"Produto"}),E.jsx("th",{className:"px-6 py-3 text-center",children:"Quantidade"}),E.jsx("th",{className:"px-6 py-3"})]})}),E.jsxs("tbody",{className:"divide-y divide-slate-800 bg-slate-900/30",children:[y.filter(Oe=>Oe.sku.toLowerCase().includes(a.toLowerCase())||Oe.description.toLowerCase().includes(a.toLowerCase())).map((Oe,Ge)=>{const vt=y.findIndex(ae=>ae===Oe);return E.jsxs("tr",{className:"hover:bg-slate-800/10 transition-colors",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("p",{className:"font-mono text-purple-400",children:Oe.sku}),E.jsx("p",{className:"text-slate-500 text-xs truncate max-w-[150px] md:max-w-[300px]",children:Oe.description})]}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-white",children:Oe.currentCount}),E.jsx("td",{className:"px-6 py-4 text-right",children:E.jsxs("div",{className:"flex justify-end gap-2",children:[E.jsx("button",{onClick:()=>{P(vt),j("")},className:"text-emerald-500 hover:text-emerald-400 p-2 transition-colors",title:"Somar Quantidade",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{xe(vt),H(!0)},className:"text-slate-600 hover:text-red-400 p-2 transition-colors",title:"Excluir",children:E.jsx(us,{size:18})})]})})]},Ge)}),y.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:3,className:"px-6 py-8 text-center text-slate-500 italic",children:"Adicione produtos para iniciar o registro"})})]})]})}),E.jsxs("div",{className:"md:hidden space-y-3",children:[y.filter(Oe=>Oe.sku.toLowerCase().includes(a.toLowerCase())||Oe.description.toLowerCase().includes(a.toLowerCase())).map((Oe,Ge)=>{const vt=y.findIndex(ae=>ae===Oe);return E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 flex justify-between items-center shadow-sm",children:[E.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[E.jsx("p",{className:"font-mono text-purple-400 font-bold text-sm truncate",children:Oe.sku}),E.jsx("p",{className:"text-slate-500 text-[10px] truncate",children:Oe.description}),E.jsxs("div",{className:"mt-2 text-white font-bold text-sm",children:["Qtd: ",Oe.currentCount]})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("button",{onClick:()=>{P(vt),j("")},className:"p-3 bg-emerald-500/10 text-emerald-500 rounded-lg active:scale-95 transition-all",children:E.jsx(cc,{size:18})}),E.jsx("button",{onClick:()=>{xe(vt),H(!0)},className:"p-3 bg-red-400/10 text-red-500 rounded-lg active:scale-95 transition-all",children:E.jsx(us,{size:18})})]})]},Ge)}),y.length===0&&E.jsx("div",{className:"py-8 text-center text-slate-500 italic text-sm border-2 border-dashed border-slate-800 rounded-xl",children:"Nenhum item adicionado"})]})]})]}),E.jsxs("div",{className:"p-6 border-t border-slate-800 bg-slate-900/50 flex flex-col md:flex-row justify-end gap-3 md:gap-4",children:[E.jsx("button",{onClick:()=>{r(!1),m([]),Y(""),W(null)},className:"order-2 md:order-1 px-6 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:Pe,disabled:y.length===0,className:"order-1 md:order-2 px-8 py-2 bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white font-bold rounded-xl transition-all shadow-lg active:scale-95",children:"Finalizar"})]})]})}),$&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(ep,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Item J Adicionado"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Este SKU j est na lista da entrega. Deseja atualizar a quantidade para o novo valor informado?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{K(!1),ue(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:me,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Alterar"})]})]})})}),G!==null&&E.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(cc,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Somar Quantidade"}),E.jsxs("p",{className:"text-slate-400 mb-6 text-sm",children:["Informe o valor para somar ao item ",E.jsx("strong",{children:y[G].sku}),".",E.jsx("br",{}),"Atual: ",y[G].currentCount]}),E.jsx("input",{type:"number",ref:q,autoFocus:!0,placeholder:"Valor a somar (ex: 10)",className:"w-full px-4 py-3 bg-slate-800 border border-slate-700 rounded-lg text-white mb-6 focus:ring-2 focus:ring-emerald-500 outline-none no-spinner",value:re,onChange:Oe=>j(Oe.target.value===""?"":Number(Oe.target.value)),onKeyDown:Oe=>Oe.key==="Enter"&&ye()}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{P(null),j("")},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:ye,disabled:re==="",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Somar"})]})]})})}),U&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Remover Item?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja remover este item da entrega? Esta ao no pode ser desfeita."}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{H(!1),xe(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:()=>{Ce!==null&&m(y.filter((Oe,Ge)=>Ge!==Ce)),H(!1),xe(null)},className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})}),_e&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Excluir Relatrio?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja apagar este relatrio de entrega permanentemente?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{Te(!1),He(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:Fe,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})})]})},RP=()=>{const{user:n,isAdmin:e,allowRegistration:t}=Fp(),[r,a]=Re.useState([]),[l,f]=Re.useState(t),[g,y]=Re.useState("Geral"),[m,b]=Re.useState(null),[T,L]=Re.useState(!1),[R,X]=Re.useState(!1),[W,$]=Re.useState(!1),[K,oe]=Re.useState(90),[ue,pe]=Re.useState(!1),[Ue,ze]=Re.useState(null),[Y,G]=Re.useState(!1),[P,re]=Re.useState(null),[j,U]=Re.useState(!1),[H,Ce]=Re.useState(null);Re.useEffect(()=>{if(e){const Ie=Io(Xi(Un,"users"),Bu("approved","==",!1)),Fe=xc(Ie,Qe=>{const Oe=Qe.docs.map(Ge=>({id:Ge.id,...Ge.data()}));a(Oe)});return(async()=>{const Qe=await Sm(Pi(Un,"settings","auth"));Qe.exists()&&f(Qe.data().allowRegistration!==!1)})(),()=>Fe()}},[e]);const xe=async()=>{const Ie=!l;f(Ie);try{await Td(Pi(Un,"settings","auth"),{allowRegistration:Ie},{merge:!0})}catch(Fe){console.error("Erro ao atualizar configurao:",Fe),f(!Ie)}},_e=async Ie=>{b(Ie);try{await mc(Pi(Un,"users",Ie),{approved:!0})}catch(Fe){console.error("Erro ao aprovar usurio:",Fe)}finally{b(null)}},Te=async Ie=>{ze(Ie),pe(!0)},De=async()=>{if(Ue){b(Ue);try{await Hd(Pi(Un,"users",Ue)),pe(!1),ze(null)}catch(Ie){console.error("Erro ao excluir usurio:",Ie)}finally{b(null)}}},[He,lt]=Re.useState({lowStock:!0,lowStockThreshold:5,newReports:!0,pendingAccess:!0,emailAlerts:!1});Re.useEffect(()=>{n&&(async()=>{const Fe=await Sm(Pi(Un,"users",n.uid,"settings","notifications"));Fe.exists()&&lt(Ne=>({...Ne,...Fe.data()}))})()},[n]);const de=async(Ie,Fe)=>{if(!n)return;const Ne={...He,[Ie]:Fe};lt(Ne);try{await Td(Pi(Un,"users",n.uid,"settings","notifications"),Ne,{merge:!0})}catch(Qe){console.error("Erro ao salvar notificaes:",Qe)}},q=async()=>{L(!0);try{const Ie=["products","reports","users","settings"],Fe={};for(const Ge of Ie){const vt=await rl(Xi(Un,Ge));Fe[Ge]=vt.docs.map(ae=>({id:ae.id,...ae.data()}))}const Ne=new Blob([JSON.stringify(Fe,null,2)],{type:"application/json"}),Qe=URL.createObjectURL(Ne),Oe=document.createElement("a");Oe.href=Qe,Oe.download=`backup_stockreport_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe),URL.revokeObjectURL(Qe)}catch(Ie){console.error("Erro ao exportar backup:",Ie),alert("Erro ao exportar backup.")}finally{L(!1)}},le=async Ie=>{const Fe=Ie.target.files?.[0];Fe&&(re(Fe),G(!0),Ie.target.value="")},ee=async()=>{if(P){X(!0),G(!1);try{const Ie=new FileReader;Ie.onload=async Fe=>{const Ne=JSON.parse(Fe.target?.result);for(const Qe in Ne){const Oe=Ne[Qe];for(const Ge of Oe){const{id:vt,...ae}=Ge;await Td(Pi(Un,Qe,vt),ae,{merge:!0})}}alert("Importao concluda com sucesso!"),window.location.reload()},P&&Ie.readAsText(P)}catch(Ie){console.error("Erro ao importar backup:",Ie),alert("Erro ao importar backup. Verifique o formato do arquivo.")}finally{X(!1)}}},ye=async Ie=>{Ce(Ie),U(!0)},me=async()=>{if(H){U(!1),$(!0);try{const Ie=new Date;if(Ie.setDate(Ie.getDate()-K),H==="reports"){const Fe=await rl(Xi(Un,"reports"));let Ne=0;for(const Qe of Fe.docs){const Oe=Qe.data(),Ge=Oe.createdAt?.toDate?Oe.createdAt.toDate():null;Ge&&Ge<Ie&&(await Hd(Pi(Un,"reports",Qe.id)),Ne++)}alert(`${Ne} relatrios antigos foram removidos.`)}else{const Fe=await rl(Xi(Un,"products"));let Ne=0;for(const Qe of Fe.docs){const Oe=Qe.data();if(!Oe.history||!Array.isArray(Oe.history))continue;const Ge=Oe.history.length,vt=Oe.history.filter(ae=>new Date(ae.date)>=Ie);vt.length<Ge&&(await mc(Pi(Un,"products",Qe.id),{history:vt}),Ne++)}alert(`Histrico limpo em ${Ne} produtos.`)}}catch(Ie){console.error("Erro na limpeza de dados:",Ie),alert("Erro ao processar limpeza.")}finally{$(!1)}}},Pe=[{id:"Geral",title:"Conta",icon:wD,description:"Gerencie suas informaes de perfil e senha"},{id:"Notificaes",title:"Notificaes",icon:fw,description:"Configure alertas de estoque baixo e novos relatrios"},{id:"Database",title:"Banco de Dados",icon:E2,description:"Exportar dados, limpar cache e backups",adminOnly:!0},{id:"Acessos",title:"Segurana e Acessos",icon:vw,description:"Gerenciar permisses e novos cadastros",adminOnly:!0},{id:"Sobre",title:"Sobre o Sistema",icon:$1,description:"Verso 1.1.0 - StockReport Intelligence"}];return E.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto font-sans",children:[E.jsxs("div",{className:"mb-8",children:[E.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[E.jsx(WA,{size:32,className:"text-blue-500"}),"Configuraes"]}),E.jsx("p",{className:"text-slate-400",children:"Personalize sua experincia e gerencie o sistema"})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[E.jsx("div",{className:"lg:col-span-1 space-y-2",children:Pe.map(Ie=>(!Ie.adminOnly||e)&&E.jsxs("button",{onClick:()=>y(Ie.id),className:`w-full flex items-center gap-4 p-4 rounded-2xl border transition-all text-left group ${g===Ie.id?"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/20":"bg-slate-900 border-slate-800 text-slate-400 hover:bg-slate-800/50 hover:border-slate-700"}`,children:[E.jsx(Ie.icon,{size:22,className:g===Ie.id?"text-white":"group-hover:text-blue-400"}),E.jsx("span",{className:`font-bold ${g===Ie.id?"text-white":"text-slate-300"}`,children:Ie.title})]},Ie.id))}),E.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[g==="Geral"&&E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[E.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[E.jsx("div",{className:"w-24 h-24 bg-blue-600 rounded-2xl flex items-center justify-center text-4xl font-bold text-white uppercase shadow-xl rotate-3 transform transition-transform hover:rotate-0",children:n?.email?.charAt(0)}),E.jsxs("div",{children:[E.jsx("p",{className:"text-white font-bold text-2xl tracking-tight",children:n?.email}),E.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-bold uppercase mt-2 ${e?"bg-amber-500/10 text-amber-500":"bg-blue-500/10 text-blue-500"}`,children:[E.jsx(vw,{size:12}),e?"Administrador":"Usurio Padro"]})]})]}),E.jsxs("div",{className:"grid gap-4 max-w-md",children:[E.jsx("button",{className:"w-full py-3.5 bg-slate-800 hover:bg-slate-700 text-white rounded-xl font-bold transition-all border border-slate-700",children:"Alterar Senha"}),E.jsx("button",{onClick:()=>Ku.signOut(),className:"w-full py-3.5 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-xl font-bold transition-all border border-red-500/20",children:"Sair da Conta"})]})]}),g==="Notificaes"&&E.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8",children:[E.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(fw,{className:"text-blue-500",size:24}),"Alertas do Sistema"]}),E.jsxs("div",{className:"space-y-8",children:[E.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-800/30 rounded-2xl border border-slate-800",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-amber-500/10 rounded-xl text-amber-500",children:E.jsx(E2,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Estoque Baixo"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Receba alertas quando produtos atingirem o limite"})]})]}),E.jsx("button",{onClick:()=>de("lowStock",!He.lowStock),className:`w-12 h-6 rounded-full p-1 transition-all duration-300 flex items-center ${He.lowStock?"bg-blue-600 justify-end":"bg-slate-700 justify-start"}`,children:E.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-md"})})]}),He.lowStock&&E.jsxs("div",{className:"flex items-center gap-4 pl-12 animate-in slide-in-from-top-2 duration-200",children:[E.jsx("span",{className:"text-sm text-slate-400",children:"Notificar quando menor que:"}),E.jsx("input",{type:"number",value:He.lowStockThreshold,onChange:Ie=>de("lowStockThreshold",parseInt(Ie.target.value)),className:"w-20 bg-slate-900 border border-slate-700 rounded-lg px-3 py-1 text-white focus:outline-none focus:ring-1 focus:ring-blue-500"}),E.jsx("span",{className:"text-sm text-slate-500 italic",children:"unidades"})]})]}),E.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/30 rounded-2xl border border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-blue-500/10 rounded-xl text-blue-500",children:E.jsx(dw,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Novos Relatrios"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Alertar quando um novo relatrio for finalizado"})]})]}),E.jsx("button",{onClick:()=>de("newReports",!He.newReports),className:`w-12 h-6 rounded-full p-1 transition-all duration-300 flex items-center ${He.newReports?"bg-blue-600 justify-end":"bg-slate-700 justify-start"}`,children:E.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-md"})})]}),e&&E.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/30 rounded-2xl border border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-amber-500/10 rounded-xl text-amber-500",children:E.jsx(tp,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Acessos Pendentes"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Notificar sobre novos pedidos de cadastro"})]})]}),E.jsx("button",{onClick:()=>de("pendingAccess",!He.pendingAccess),className:`w-12 h-6 rounded-full p-1 transition-all duration-300 flex items-center ${He.pendingAccess?"bg-blue-600 justify-end":"bg-slate-700 justify-start"}`,children:E.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-md"})})]}),E.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/30 rounded-2xl border border-slate-800",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl text-emerald-500",children:E.jsx(Vo,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Alertas por E-mail"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Receber um resumo dirio em sua caixa de entrada"})]})]}),E.jsx("button",{onClick:()=>de("emailAlerts",!He.emailAlerts),className:`w-12 h-6 rounded-full p-1 transition-all duration-300 flex items-center ${He.emailAlerts?"bg-blue-600 justify-end":"bg-slate-700 justify-start"}`,children:E.jsx("div",{className:"w-4 h-4 bg-white rounded-full shadow-md"})})]})]})]})}),g==="Acessos"&&e&&E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 flex items-center justify-between group",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-blue-500/10 rounded-2xl text-blue-500",children:E.jsx(tp,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold text-lg",children:"Novos Cadastros"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Permitir que novos usurios se cadastrem na tela de login"})]})]}),E.jsx("button",{onClick:xe,className:`w-14 h-8 rounded-full p-1 transition-all duration-300 flex items-center ${l?"bg-blue-600 justify-end":"bg-slate-800 justify-start"}`,children:E.jsx("div",{className:"w-6 h-6 bg-white rounded-full shadow-md"})})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl overflow-hidden shadow-xl",children:[E.jsxs("div",{className:"p-6 border-b border-slate-800 flex items-center justify-between",children:[E.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[E.jsx(Tm,{size:20,className:"text-amber-500"}),"Aprovaes Pendentes"]}),E.jsxs("span",{className:"bg-amber-500/20 text-amber-500 px-3 py-1 rounded-full text-xs font-bold uppercase",children:[r.length," Aguardando"]})]}),E.jsx("div",{className:"divide-y divide-slate-800",children:r.length===0?E.jsxs("div",{className:"p-12 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto mb-4 text-slate-500",children:E.jsx(yD,{size:32})}),E.jsx("p",{className:"text-slate-500 font-medium",children:"Nenhum usurio aguardando aprovao."})]}):r.map(Ie=>E.jsxs("div",{className:"p-6 flex items-center justify-between hover:bg-slate-800/20 transition-colors",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"w-12 h-12 bg-slate-800 rounded-xl flex items-center justify-center text-slate-400 font-bold",children:Ie.email.charAt(0).toUpperCase()}),E.jsxs("div",{children:[E.jsx("p",{className:"text-white font-bold",children:Ie.email}),E.jsxs("p",{className:"text-slate-500 text-xs",children:["Cadastrado em ",new Date(Ie.createdAt).toLocaleDateString("pt-BR")]})]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>_e(Ie.id),disabled:m===Ie.id,className:"p-2 bg-emerald-500/10 hover:bg-emerald-500 text-emerald-500 hover:text-white rounded-xl transition-all border border-emerald-500/20 disabled:opacity-50",title:"Aprovar",children:m===Ie.id?E.jsx(bd,{size:20,className:"animate-spin"}):E.jsx(dw,{size:20})}),E.jsx("button",{onClick:()=>Te(Ie.id),disabled:m===Ie.id,className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-xl transition-all border border-red-500/20 disabled:opacity-50",title:"Recusar",children:m===Ie.id?E.jsx(bd,{size:20,className:"animate-spin"}):E.jsx(Vo,{size:20})})]})]},Ie.id))})]})]}),g==="Database"&&e&&E.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8",children:[E.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[E.jsx(E2,{className:"text-blue-500",size:24}),"Backup do Sistema"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("div",{className:"p-6 bg-slate-800/30 rounded-2xl border border-slate-800 hover:border-blue-500/30 transition-all group",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"p-3 bg-blue-500/10 rounded-xl text-blue-500 group-hover:scale-110 transition-transform",children:E.jsx(gw,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Exportar Dados"}),E.jsx("p",{className:"text-slate-400 text-xs",children:"Baixar backup completo em JSON"})]})]}),E.jsxs("button",{onClick:q,disabled:T,className:"w-full py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:[T?E.jsx(bd,{size:18,className:"animate-spin"}):E.jsx(gw,{size:18}),T?"Exportando...":"Fazer Download"]})]}),E.jsxs("div",{className:"p-6 bg-slate-800/30 rounded-2xl border border-slate-800 hover:border-emerald-500/30 transition-all group",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[E.jsx("div",{className:"p-3 bg-emerald-500/10 rounded-xl text-emerald-500 group-hover:scale-110 transition-transform",children:E.jsx(bw,{size:24})}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Importar Dados"}),E.jsx("p",{className:"text-slate-400 text-xs",children:"Restaurar de um arquivo JSON"})]})]}),E.jsxs("label",{className:"cursor-pointer",children:[E.jsxs("div",{className:"w-full py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg active:scale-95 text-center flex items-center justify-center gap-2",children:[R?E.jsx(bd,{size:18,className:"animate-spin"}):E.jsx(bw,{size:18}),R?"Processando...":"Selecionar Arquivo"]}),E.jsx("input",{type:"file",accept:".json",className:"hidden",onChange:le,disabled:R})]})]})]})]}),E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-8",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[E.jsx(us,{className:"text-red-500",size:24}),E.jsx("h2",{className:"text-xl font-bold text-white",children:"Poltica de Reteno"})]}),E.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/20 p-4 rounded-2xl mb-8 flex items-start gap-4 text-amber-500",children:[E.jsx(Cm,{size:24,className:"shrink-0"}),E.jsx("p",{className:"text-sm",children:"Estas aes deletam permanentemente registros antigos para liberar espao e melhorar a performance. Recomenda-se fazer um backup antes de prosseguir."})]}),E.jsxs("div",{className:"grid gap-6",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 p-6 bg-slate-800/30 rounded-2xl border border-slate-800",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-white font-bold",children:"Perodo de Reteno"}),E.jsx("p",{className:"text-slate-400 text-sm",children:"Manter dados dos ltimos:"})]}),E.jsx("div",{className:"flex items-center gap-2",children:E.jsxs("select",{value:K,onChange:Ie=>oe(Number(Ie.target.value)),className:"bg-slate-950 border border-slate-700 rounded-xl px-4 py-2 text-white outline-none focus:ring-2 focus:ring-blue-500 min-w-[120px]",children:[E.jsx("option",{value:30,children:"30 Dias"}),E.jsx("option",{value:90,children:"90 Dias"}),E.jsx("option",{value:180,children:"180 Dias"}),E.jsx("option",{value:365,children:"1 Ano"})]})})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[E.jsxs("button",{onClick:()=>ye("reports"),disabled:W,className:"p-4 bg-slate-800 hover:bg-red-500/10 border border-slate-700 hover:border-red-500/30 text-slate-300 hover:text-red-400 rounded-2xl transition-all flex flex-col items-center gap-2 text-center group disabled:opacity-50",children:[E.jsx(us,{size:24,className:"group-hover:scale-110 transition-transform"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-sm",children:"Limpar Relatrios"}),E.jsx("p",{className:"text-[10px] opacity-60",children:"Filtra colees de Inventrio/Testados/Entregas"})]})]}),E.jsxs("button",{onClick:()=>ye("history"),disabled:W,className:"p-4 bg-slate-800 hover:bg-red-500/10 border border-slate-700 hover:border-red-500/30 text-slate-300 hover:text-red-400 rounded-2xl transition-all flex flex-col items-center gap-2 text-center group disabled:opacity-50",children:[E.jsx(Nm,{size:24,className:"group-hover:scale-110 transition-transform"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-bold text-sm",children:"Limpar Histrico"}),E.jsx("p",{className:"text-[10px] opacity-60",children:"Remove logs antigos dentro dos produtos"})]})]})]})]})]})]}),g==="Sobre"&&E.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-12 text-center animate-in fade-in slide-in-from-right-4 duration-300",children:[E.jsx($1,{size:48,className:"text-blue-500 mx-auto mb-4 opacity-20"}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"StockReport Intelligence"}),E.jsx("p",{className:"text-slate-400 mb-6 font-medium",children:"Verso 1.1.0 (PRO)"}),E.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[E.jsx("div",{className:"p-4 bg-slate-800/50 rounded-2xl border border-slate-800 text-left text-sm text-slate-400",children:"Sistema avanado de gesto de estoque e auditoria desenvolvido com React e Firebase."}),E.jsx("p",{className:"text-xs text-slate-500 italic",children:" 2026 Todos os direitos reservados."})]})]})]}),ue&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Rejeitar Acesso?"}),E.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Tem certeza que deseja excluir permanentemente este pedido de acesso?"}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{pe(!1),ze(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:De,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Excluir"})]})]})})}),Y&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(Cm,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Importar Backup?"}),E.jsxs("p",{className:"text-slate-400 mb-6 text-sm",children:["Ateno: A importao pode sobrescrever dados existentes. Deseja continuar com o arquivo ",E.jsx("strong",{children:P?.name}),"?"]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{G(!1),re(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:ee,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Importar"})]})]})})}),j&&E.jsx("div",{className:"fixed inset-0 z-[90] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:E.jsx("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:E.jsxs("div",{className:"p-6 text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(us,{size:32})}),E.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Limpar Dados?"}),E.jsxs("p",{className:"text-slate-400 mb-6 text-sm",children:["Tem certeza que deseja deletar ",H==="reports"?"RELATRIOS":"HISTRICOS"," com mais de ",K," dias? Esta ao  irreversvel."]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>{U(!1),Ce(null)},className:"flex-1 py-3 text-slate-400 hover:text-white font-semibold transition-colors",children:"Cancelar"}),E.jsx("button",{onClick:me,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 rounded-xl transition-all shadow-lg active:scale-95",children:"Limpar"})]})]})})})]})]})},OP=()=>{const[n,e]=Re.useState({type:"idle",message:""}),t=async()=>{e({type:"loading",message:"Criando conta no Firebase..."});try{const r=await e_(Ku,"fabioxavier@hotmail.com","admin1234");await Td(Pi(Un,"users",r.user.uid),{email:"fabioxavier@hotmail.com",role:"admin",createdAt:new Date().toISOString()}),e({type:"success",message:"Usurio Admin criado com sucesso! Voc j pode fazer login."})}catch(r){r.code==="auth/email-already-in-use"?e({type:"error",message:"Este usurio j existe no sistema Auth."}):e({type:"error",message:"Erro: "+r.message})}};return E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-4 font-sans",children:E.jsxs("div",{className:"max-w-md w-full bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl text-center",children:[E.jsx("div",{className:"flex justify-center mb-6",children:E.jsx("div",{className:"p-4 bg-emerald-500/10 rounded-full",children:E.jsx(Tm,{size:48,className:"text-emerald-500"})})}),E.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Setup Admin Inicial"}),E.jsx("p",{className:"text-slate-400 mb-8 text-sm",children:"Crie o primeiro acesso administrativo ao seu sistema de estoque."}),E.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 mb-8 text-left border border-slate-700",children:[E.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Informaes"}),E.jsx("p",{className:"text-white text-sm font-mono truncate",children:"E-mail: fabioxavier@hotmail.com"}),E.jsx("p",{className:"text-white text-sm font-mono mt-1",children:"Senha: admin1234"})]}),n.type==="error"&&E.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 text-left",children:[E.jsx(Cm,{size:18,className:"text-red-400 shrink-0 mt-0.5"}),E.jsx("p",{className:"text-red-400 text-sm",children:n.message})]}),n.type==="success"&&E.jsxs("div",{className:"mb-6 p-4 bg-emerald-500/10 border border-emerald-500/20 rounded-xl flex items-start gap-3 text-left animate-in fade-in zoom-in duration-300",children:[E.jsx(Tm,{size:18,className:"text-emerald-400 shrink-0 mt-0.5"}),E.jsx("p",{className:"text-emerald-400 text-sm",children:n.message})]}),E.jsxs("button",{onClick:t,disabled:n.type==="loading"||n.type==="success",className:`w-full py-4 rounded-2xl font-bold transition-all flex items-center justify-center gap-3 ${n.type==="success"?"bg-slate-800 text-slate-500 cursor-default":"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-900/20 active:scale-95"}`,children:[n.type==="loading"?E.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):E.jsx(tp,{size:20}),n.type==="success"?"Conta Criada":"Criar Conta Admin"]}),E.jsx("a",{href:"/login",className:"inline-block mt-6 text-slate-500 hover:text-white text-sm font-medium transition-colors",children:"Ir para o Login"})]})})},qh=({children:n})=>{const{user:e,loading:t,isApproved:r}=Fp();return t?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-950",children:E.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}):e?r?E.jsxs("div",{className:"flex min-h-screen bg-slate-950 text-slate-200",children:[E.jsx(AD,{}),E.jsx("main",{className:"flex-1 overflow-auto",children:n})]}):E.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-950 p-4 text-center",children:E.jsxs("div",{className:"max-w-md bg-slate-900 border border-slate-800 rounded-3xl p-8 shadow-2xl",children:[E.jsx("div",{className:"w-20 h-20 bg-amber-500/10 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-6",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),E.jsx("path",{d:"M12 8v4"}),E.jsx("path",{d:"M12 16h.01"})]})}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Aguardando Aprovao"}),E.jsx("p",{className:"text-slate-400 mb-6",children:"Seu cadastro foi realizado com sucesso, mas ainda precisa ser aprovado por um administrador para acessar o sistema."}),E.jsx("button",{onClick:()=>Ku.signOut(),className:"text-blue-500 hover:text-blue-400 font-medium transition-colors",children:"Sair da Conta"})]})}):E.jsx(Jm,{to:"/login"})},DP=()=>{const{user:n,loading:e}=Fp();return e?null:n?E.jsx(Jm,{to:"/"}):E.jsx(ED,{})};function LP(){return E.jsx(dO,{children:E.jsx(FS,{children:E.jsxs(gS,{children:[E.jsx(El,{path:"/login",element:E.jsx(DP,{})}),E.jsx(El,{path:"/setup-admin",element:E.jsx(OP,{})}),E.jsx(El,{path:"/",element:E.jsx(qh,{children:E.jsx(SD,{})})}),E.jsx(El,{path:"/produtos",element:E.jsx(qh,{children:E.jsx(CP,{})})}),E.jsx(El,{path:"/inventario",element:E.jsx(qh,{children:E.jsx(NP,{})})}),E.jsx(El,{path:"/testados",element:E.jsx(qh,{children:E.jsx(TP,{})})}),E.jsx(El,{path:"/entregas",element:E.jsx(qh,{children:E.jsx(IP,{})})}),E.jsx(El,{path:"/configuracoes",element:E.jsx(qh,{children:E.jsx(RP,{})})}),E.jsx(El,{path:"*",element:E.jsx(Jm,{to:"/"})})]})})})}y8.createRoot(document.getElementById("root")).render(E.jsx(Re.StrictMode,{children:E.jsx(LP,{})}));export{Jr as _,Q0 as c,kP as g};
